function jb(a,n){for(var s=0;s<n.length;s++){const l=n[s];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in a)){const u=Object.getOwnPropertyDescriptor(l,c);u&&Object.defineProperty(a,c,u.get?u:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=s(c);fetch(c.href,u)}})();function Yg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function Ws(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var n=a.default;if(typeof n=="function"){var s=function l(){return this instanceof l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(a).forEach(function(l){var c=Object.getOwnPropertyDescriptor(a,l);Object.defineProperty(s,l,c.get?c:{enumerable:!0,get:function(){return a[l]}})}),s}var Tu={exports:{}},Hs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function wb(){if(Bp)return Hs;Bp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(l,c,u){var h=null;if(u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),"key"in c){u={};for(var m in c)m!=="key"&&(u[m]=c[m])}else u=c;return c=u.ref,{$$typeof:a,type:l,key:h,ref:c!==void 0?c:null,props:u}}return Hs.Fragment=n,Hs.jsx=s,Hs.jsxs=s,Hs}var Lp;function Sb(){return Lp||(Lp=1,Tu.exports=wb()),Tu.exports}var i=Sb(),Cu={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function Nb(){if(Hp)return he;Hp=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function S(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,O={};function U(T,P,J){this.props=T,this.context=P,this.refs=O,this.updater=J||j}U.prototype.isReactComponent={},U.prototype.setState=function(T,P){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,P,"setState")},U.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function q(){}q.prototype=U.prototype;function M(T,P,J){this.props=T,this.context=P,this.refs=O,this.updater=J||j}var V=M.prototype=new q;V.constructor=M,A(V,U.prototype),V.isPureReactComponent=!0;var se=Array.isArray;function X(){}var y={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function K(T,P,J){var te=J.ref;return{$$typeof:a,type:T,key:P,ref:te!==void 0?te:null,props:J}}function Se(T,P){return K(T.type,P,T.props)}function fe(T){return typeof T=="object"&&T!==null&&T.$$typeof===a}function le(T){var P={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(J){return P[J]})}var nt=/\/+/g;function Me(T,P){return typeof T=="object"&&T!==null&&T.key!=null?le(""+T.key):P.toString(36)}function St(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(X,X):(T.status="pending",T.then(function(P){T.status==="pending"&&(T.status="fulfilled",T.value=P)},function(P){T.status==="pending"&&(T.status="rejected",T.reason=P)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function $(T,P,J,te,me){var ve=typeof T;(ve==="undefined"||ve==="boolean")&&(T=null);var Te=!1;if(T===null)Te=!0;else switch(ve){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(T.$$typeof){case a:case n:Te=!0;break;case x:return Te=T._init,$(Te(T._payload),P,J,te,me)}}if(Te)return me=me(T),Te=te===""?"."+Me(T,0):te,se(me)?(J="",Te!=null&&(J=Te.replace(nt,"$&/")+"/"),$(me,P,J,"",function(Kr){return Kr})):me!=null&&(fe(me)&&(me=Se(me,J+(me.key==null||T&&T.key===me.key?"":(""+me.key).replace(nt,"$&/")+"/")+Te)),P.push(me)),1;Te=0;var jt=te===""?".":te+":";if(se(T))for(var Qe=0;Qe<T.length;Qe++)te=T[Qe],ve=jt+Me(te,Qe),Te+=$(te,P,J,ve,me);else if(Qe=S(T),typeof Qe=="function")for(T=Qe.call(T),Qe=0;!(te=T.next()).done;)te=te.value,ve=jt+Me(te,Qe++),Te+=$(te,P,J,ve,me);else if(ve==="object"){if(typeof T.then=="function")return $(St(T),P,J,te,me);throw P=String(T),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Te}function G(T,P,J){if(T==null)return T;var te=[],me=0;return $(T,te,"","",function(ve){return P.call(J,ve,me++)}),te}function re(T){if(T._status===-1){var P=T._result;P=P(),P.then(function(J){(T._status===0||T._status===-1)&&(T._status=1,T._result=J)},function(J){(T._status===0||T._status===-1)&&(T._status=2,T._result=J)}),T._status===-1&&(T._status=0,T._result=P)}if(T._status===1)return T._result.default;throw T._result}var Re=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},$e={map:G,forEach:function(T,P,J){G(T,function(){P.apply(this,arguments)},J)},count:function(T){var P=0;return G(T,function(){P++}),P},toArray:function(T){return G(T,function(P){return P})||[]},only:function(T){if(!fe(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return he.Activity=_,he.Children=$e,he.Component=U,he.Fragment=s,he.Profiler=c,he.PureComponent=M,he.StrictMode=l,he.Suspense=g,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=y,he.__COMPILER_RUNTIME={__proto__:null,c:function(T){return y.H.useMemoCache(T)}},he.cache=function(T){return function(){return T.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(T,P,J){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var te=A({},T.props),me=T.key;if(P!=null)for(ve in P.key!==void 0&&(me=""+P.key),P)!F.call(P,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&P.ref===void 0||(te[ve]=P[ve]);var ve=arguments.length-2;if(ve===1)te.children=J;else if(1<ve){for(var Te=Array(ve),jt=0;jt<ve;jt++)Te[jt]=arguments[jt+2];te.children=Te}return K(T.type,me,te)},he.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},he.createElement=function(T,P,J){var te,me={},ve=null;if(P!=null)for(te in P.key!==void 0&&(ve=""+P.key),P)F.call(P,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(me[te]=P[te]);var Te=arguments.length-2;if(Te===1)me.children=J;else if(1<Te){for(var jt=Array(Te),Qe=0;Qe<Te;Qe++)jt[Qe]=arguments[Qe+2];me.children=jt}if(T&&T.defaultProps)for(te in Te=T.defaultProps,Te)me[te]===void 0&&(me[te]=Te[te]);return K(T,ve,me)},he.createRef=function(){return{current:null}},he.forwardRef=function(T){return{$$typeof:m,render:T}},he.isValidElement=fe,he.lazy=function(T){return{$$typeof:x,_payload:{_status:-1,_result:T},_init:re}},he.memo=function(T,P){return{$$typeof:p,type:T,compare:P===void 0?null:P}},he.startTransition=function(T){var P=y.T,J={};y.T=J;try{var te=T(),me=y.S;me!==null&&me(J,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(X,Re)}catch(ve){Re(ve)}finally{P!==null&&J.types!==null&&(P.types=J.types),y.T=P}},he.unstable_useCacheRefresh=function(){return y.H.useCacheRefresh()},he.use=function(T){return y.H.use(T)},he.useActionState=function(T,P,J){return y.H.useActionState(T,P,J)},he.useCallback=function(T,P){return y.H.useCallback(T,P)},he.useContext=function(T){return y.H.useContext(T)},he.useDebugValue=function(){},he.useDeferredValue=function(T,P){return y.H.useDeferredValue(T,P)},he.useEffect=function(T,P){return y.H.useEffect(T,P)},he.useEffectEvent=function(T){return y.H.useEffectEvent(T)},he.useId=function(){return y.H.useId()},he.useImperativeHandle=function(T,P,J){return y.H.useImperativeHandle(T,P,J)},he.useInsertionEffect=function(T,P){return y.H.useInsertionEffect(T,P)},he.useLayoutEffect=function(T,P){return y.H.useLayoutEffect(T,P)},he.useMemo=function(T,P){return y.H.useMemo(T,P)},he.useOptimistic=function(T,P){return y.H.useOptimistic(T,P)},he.useReducer=function(T,P,J){return y.H.useReducer(T,P,J)},he.useRef=function(T){return y.H.useRef(T)},he.useState=function(T){return y.H.useState(T)},he.useSyncExternalStore=function(T,P,J){return y.H.useSyncExternalStore(T,P,J)},he.useTransition=function(){return y.H.useTransition()},he.version="19.2.1",he}var Pp;function ud(){return Pp||(Pp=1,Cu.exports=Nb()),Cu.exports}var Y=ud();const Eb=Yg(Y);var Ou={exports:{}},Ps={},ku={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function Ab(){return Ip||(Ip=1,(function(a){function n($,G){var re=$.length;$.push(G);e:for(;0<re;){var Re=re-1>>>1,$e=$[Re];if(0<c($e,G))$[Re]=G,$[re]=$e,re=Re;else break e}}function s($){return $.length===0?null:$[0]}function l($){if($.length===0)return null;var G=$[0],re=$.pop();if(re!==G){$[0]=re;e:for(var Re=0,$e=$.length,T=$e>>>1;Re<T;){var P=2*(Re+1)-1,J=$[P],te=P+1,me=$[te];if(0>c(J,re))te<$e&&0>c(me,J)?($[Re]=me,$[te]=re,Re=te):($[Re]=J,$[P]=re,Re=P);else if(te<$e&&0>c(me,re))$[Re]=me,$[te]=re,Re=te;else break e}}return G}function c($,G){var re=$.sortIndex-G.sortIndex;return re!==0?re:$.id-G.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();a.unstable_now=function(){return h.now()-m}}var g=[],p=[],x=1,_=null,w=3,S=!1,j=!1,A=!1,O=!1,U=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function V($){for(var G=s(p);G!==null;){if(G.callback===null)l(p);else if(G.startTime<=$)l(p),G.sortIndex=G.expirationTime,n(g,G);else break;G=s(p)}}function se($){if(A=!1,V($),!j)if(s(g)!==null)j=!0,X||(X=!0,le());else{var G=s(p);G!==null&&St(se,G.startTime-$)}}var X=!1,y=-1,F=5,K=-1;function Se(){return O?!0:!(a.unstable_now()-K<F)}function fe(){if(O=!1,X){var $=a.unstable_now();K=$;var G=!0;try{e:{j=!1,A&&(A=!1,q(y),y=-1),S=!0;var re=w;try{t:{for(V($),_=s(g);_!==null&&!(_.expirationTime>$&&Se());){var Re=_.callback;if(typeof Re=="function"){_.callback=null,w=_.priorityLevel;var $e=Re(_.expirationTime<=$);if($=a.unstable_now(),typeof $e=="function"){_.callback=$e,V($),G=!0;break t}_===s(g)&&l(g),V($)}else l(g);_=s(g)}if(_!==null)G=!0;else{var T=s(p);T!==null&&St(se,T.startTime-$),G=!1}}break e}finally{_=null,w=re,S=!1}G=void 0}}finally{G?le():X=!1}}}var le;if(typeof M=="function")le=function(){M(fe)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,Me=nt.port2;nt.port1.onmessage=fe,le=function(){Me.postMessage(null)}}else le=function(){U(fe,0)};function St($,G){y=U(function(){$(a.unstable_now())},G)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function($){$.callback=null},a.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<$?Math.floor(1e3/$):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function($){switch(w){case 1:case 2:case 3:var G=3;break;default:G=w}var re=w;w=G;try{return $()}finally{w=re}},a.unstable_requestPaint=function(){O=!0},a.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var re=w;w=$;try{return G()}finally{w=re}},a.unstable_scheduleCallback=function($,G,re){var Re=a.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Re+re:Re):re=Re,$){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=re+$e,$={id:x++,callback:G,priorityLevel:$,startTime:re,expirationTime:$e,sortIndex:-1},re>Re?($.sortIndex=re,n(p,$),s(g)===null&&$===s(p)&&(A?(q(y),y=-1):A=!0,St(se,re-Re))):($.sortIndex=$e,n(g,$),j||S||(j=!0,X||(X=!0,le()))),$},a.unstable_shouldYield=Se,a.unstable_wrapCallback=function($){var G=w;return function(){var re=w;w=G;try{return $.apply(this,arguments)}finally{w=re}}}})(Ru)),Ru}var Zp;function Tb(){return Zp||(Zp=1,ku.exports=Ab()),ku.exports}var zu={exports:{}},xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function Cb(){if(Gp)return xt;Gp=1;var a=ud();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(g,p,x){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:_==null?null:""+_,children:g,containerInfo:p,implementation:x}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,xt.createPortal=function(g,p){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return u(g,p,null,x)},xt.flushSync=function(g){var p=h.T,x=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=p,l.p=x,l.d.f()}},xt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},xt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},xt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var x=p.as,_=m(x,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:S}):x==="script"&&l.d.X(g,{crossOrigin:_,integrity:w,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},xt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var x=m(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},xt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var x=p.as,_=m(x,p.crossOrigin);l.d.L(g,x,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},xt.preloadModule=function(g,p){if(typeof g=="string")if(p){var x=m(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},xt.requestFormReset=function(g){l.d.r(g)},xt.unstable_batchedUpdates=function(g,p){return g(p)},xt.useFormState=function(g,p,x){return h.H.useFormState(g,p,x)},xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},xt.version="19.2.1",xt}var Vp;function Ob(){if(Vp)return zu.exports;Vp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),zu.exports=Cb(),zu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function kb(){if(Yp)return Ps;Yp=1;var a=Tb(),n=ud(),s=Ob();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(l(188));return t!==e?null:e}for(var r=e,o=t;;){var d=r.return;if(d===null)break;var f=d.alternate;if(f===null){if(o=d.return,o!==null){r=o;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===r)return g(d),e;if(f===o)return g(d),t;f=f.sibling}throw Error(l(188))}if(r.return!==o.return)r=d,o=f;else{for(var v=!1,b=d.child;b;){if(b===r){v=!0,r=d,o=f;break}if(b===o){v=!0,o=d,r=f;break}b=b.sibling}if(!v){for(b=f.child;b;){if(b===r){v=!0,r=f,o=d;break}if(b===o){v=!0,o=f,r=d;break}b=b.sibling}if(!v)throw Error(l(189))}}if(r.alternate!==o)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),Se=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var nt=Symbol.for("react.client.reference");function Me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===nt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case U:return"Profiler";case O:return"StrictMode";case se:return"Suspense";case X:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case M:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case V:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case y:return t=e.displayName||null,t!==null?t:Me(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return Me(e(t))}catch{}}return null}var St=Array.isArray,$=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Re=[],$e=-1;function T(e){return{current:e}}function P(e){0>$e||(e.current=Re[$e],Re[$e]=null,$e--)}function J(e,t){$e++,Re[$e]=e.current,e.current=t}var te=T(null),me=T(null),ve=T(null),Te=T(null);function jt(e,t){switch(J(ve,t),J(me,e),J(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?op(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=op(t),e=cp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(te),J(te,e)}function Qe(){P(te),P(me),P(ve)}function Kr(e){e.memoizedState!==null&&J(Te,e);var t=te.current,r=cp(t,e.type);t!==r&&(J(me,e),J(te,r))}function ni(e){me.current===e&&(P(te),P(me)),Te.current===e&&(P(Te),$s._currentValue=re)}var co,$d;function ga(e){if(co===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);co=t&&t[1]||"",$d=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+co+e+$d}var uo=!1;function ho(e,t){if(!e||uo)return"";uo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(D){var z=D}Reflect.construct(e,[],H)}else{try{H.call()}catch(D){z=D}e.call(H.prototype)}}else{try{throw Error()}catch(D){z=D}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(D){if(D&&z&&typeof D.stack=="string")return[D.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],b=f[1];if(v&&b){var N=v.split(`
`),R=b.split(`
`);for(d=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;d<R.length&&!R[d].includes("DetermineComponentFrameRoot");)d++;if(o===N.length||d===R.length)for(o=N.length-1,d=R.length-1;1<=o&&0<=d&&N[o]!==R[d];)d--;for(;1<=o&&0<=d;o--,d--)if(N[o]!==R[d]){if(o!==1||d!==1)do if(o--,d--,0>d||N[o]!==R[d]){var B=`
`+N[o].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=o&&0<=d);break}}}finally{uo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ga(r):""}function Wv(e,t){switch(e.tag){case 26:case 27:case 5:return ga(e.type);case 16:return ga("Lazy");case 13:return e.child!==t&&t!==null?ga("Suspense Fallback"):ga("Suspense");case 19:return ga("SuspenseList");case 0:case 15:return ho(e.type,!1);case 11:return ho(e.type.render,!1);case 1:return ho(e.type,!0);case 31:return ga("Activity");default:return""}}function qd(e){try{var t="",r=null;do t+=Wv(e,r),r=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var fo=Object.prototype.hasOwnProperty,mo=a.unstable_scheduleCallback,po=a.unstable_cancelCallback,ey=a.unstable_shouldYield,ty=a.unstable_requestPaint,Dt=a.unstable_now,ny=a.unstable_getCurrentPriorityLevel,Bd=a.unstable_ImmediatePriority,Ld=a.unstable_UserBlockingPriority,ai=a.unstable_NormalPriority,ay=a.unstable_LowPriority,Hd=a.unstable_IdlePriority,ry=a.log,sy=a.unstable_setDisableYieldValue,Fr=null,Ut=null;function Ln(e){if(typeof ry=="function"&&sy(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Fr,e)}catch{}}var Mt=Math.clz32?Math.clz32:oy,iy=Math.log,ly=Math.LN2;function oy(e){return e>>>=0,e===0?32:31-(iy(e)/ly|0)|0}var ri=256,si=262144,ii=4194304;function va(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,t,r){var o=e.pendingLanes;if(o===0)return 0;var d=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?d=va(o):(v&=b,v!==0?d=va(v):r||(r=b&~e,r!==0&&(d=va(r))))):(b=o&~f,b!==0?d=va(b):v!==0?d=va(v):r||(r=o&~e,r!==0&&(d=va(r)))),d===0?0:t!==0&&t!==d&&(t&f)===0&&(f=d&-d,r=t&-t,f>=r||f===32&&(r&4194048)!==0)?t:d}function Jr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function cy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pd(){var e=ii;return ii<<=1,(ii&62914560)===0&&(ii=4194304),e}function go(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Qr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uy(e,t,r,o,d,f){var v=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var b=e.entanglements,N=e.expirationTimes,R=e.hiddenUpdates;for(r=v&~r;0<r;){var B=31-Mt(r),H=1<<B;b[B]=0,N[B]=-1;var z=R[B];if(z!==null)for(R[B]=null,B=0;B<z.length;B++){var D=z[B];D!==null&&(D.lane&=-536870913)}r&=~H}o!==0&&Id(e,o,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~t))}function Id(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-Mt(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function Zd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-Mt(r),d=1<<o;d&t|e[o]&t&&(e[o]|=t),r&=~d}}function Gd(e,t){var r=t&-t;return r=(r&42)!==0?1:vo(r),(r&(e.suspendedLanes|t))!==0?0:r}function vo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Vd(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Rp(e.type))}function Yd(e,t){var r=G.p;try{return G.p=e,t()}finally{G.p=r}}var Hn=Math.random().toString(36).slice(2),ht="__reactFiber$"+Hn,Nt="__reactProps$"+Hn,Ga="__reactContainer$"+Hn,xo="__reactEvents$"+Hn,dy="__reactListeners$"+Hn,hy="__reactHandles$"+Hn,Kd="__reactResources$"+Hn,Xr="__reactMarker$"+Hn;function bo(e){delete e[ht],delete e[Nt],delete e[xo],delete e[dy],delete e[hy]}function Va(e){var t=e[ht];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ga]||r[ht]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gp(e);e!==null;){if(r=e[ht])return r;e=gp(e)}return t}e=r,r=e.parentNode}return null}function Ya(e){if(e=e[ht]||e[Ga]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Wr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Ka(e){var t=e[Kd];return t||(t=e[Kd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ut(e){e[Xr]=!0}var Fd=new Set,Jd={};function ya(e,t){Fa(e,t),Fa(e+"Capture",t)}function Fa(e,t){for(Jd[e]=t,e=0;e<t.length;e++)Fd.add(t[e])}var fy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qd={},Xd={};function my(e){return fo.call(Xd,e)?!0:fo.call(Qd,e)?!1:fy.test(e)?Xd[e]=!0:(Qd[e]=!0,!1)}function oi(e,t,r){if(my(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function ci(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function vn(e,t,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+o)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function py(e,t,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(v){r=""+v,f.call(this,v)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(v){r=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _o(e){if(!e._valueTracker){var t=Wd(e)?"checked":"value";e._valueTracker=py(e,t,""+e[t])}}function eh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=Wd(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gy=/[\n"\\]/g;function Vt(e){return e.replace(gy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function jo(e,t,r,o,d,f,v,b){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?wo(e,v,Gt(t)):r!=null?wo(e,v,Gt(r)):o!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Gt(b):e.removeAttribute("name")}function th(e,t,r,o,d,f,v,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){_o(e);return}r=r!=null?""+Gt(r):"",t=t!=null?""+Gt(t):r,b||t===e.value||(e.value=t),e.defaultValue=t}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=b?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),_o(e)}function wo(e,t,r){t==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ja(e,t,r,o){if(e=e.options,t){t={};for(var d=0;d<r.length;d++)t["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=t.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Gt(r),t=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function nh(e,t,r){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Gt(r):""}function ah(e,t,r,o){if(t==null){if(o!=null){if(r!=null)throw Error(l(92));if(St(o)){if(1<o.length)throw Error(l(93));o=o[0]}r=o}r==null&&(r=""),t=r}r=Gt(t),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),_o(e)}function Qa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var vy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rh(e,t,r){var o=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,r):typeof r!="number"||r===0||vy.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function sh(e,t,r){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in t)o=t[d],t.hasOwnProperty(d)&&r[d]!==o&&rh(e,d,o)}else for(var f in t)t.hasOwnProperty(f)&&rh(e,f,t[f])}function So(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function di(e){return xy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function yn(){}var No=null;function Eo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xa=null,Wa=null;function ih(e){var t=Ya(e);if(t&&(e=t.stateNode)){var r=e[Nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(jo(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Vt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var d=o[Nt]||null;if(!d)throw Error(l(90));jo(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(t=0;t<r.length;t++)o=r[t],o.form===e.form&&eh(o)}break e;case"textarea":nh(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&Ja(e,!!r.multiple,t,!1)}}}var Ao=!1;function lh(e,t,r){if(Ao)return e(t,r);Ao=!0;try{var o=e(t);return o}finally{if(Ao=!1,(Xa!==null||Wa!==null)&&(Xi(),Xa&&(t=Xa,e=Wa,Wa=Xa=null,ih(t),e)))for(t=0;t<e.length;t++)ih(e[t])}}function es(e,t){var r=e.stateNode;if(r===null)return null;var o=r[Nt]||null;if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(l(231,t,typeof r));return r}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),To=!1;if(xn)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){To=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{To=!1}var Pn=null,Co=null,hi=null;function oh(){if(hi)return hi;var e,t=Co,r=t.length,o,d="value"in Pn?Pn.value:Pn.textContent,f=d.length;for(e=0;e<r&&t[e]===d[e];e++);var v=r-e;for(o=1;o<=v&&t[r-o]===d[f-o];o++);return hi=d.slice(e,1<o?1-o:void 0)}function fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mi(){return!0}function ch(){return!1}function Et(e){function t(r,o,d,f,v){this._reactName=r,this._targetInst=d,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(r=e[b],this[b]=r?r(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?mi:ch,this.isPropagationStopped=ch,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),t}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=Et(xa),ns=_({},xa,{view:0,detail:0}),by=Et(ns),Oo,ko,as,gi=_({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==as&&(as&&e.type==="mousemove"?(Oo=e.screenX-as.screenX,ko=e.screenY-as.screenY):ko=Oo=0,as=e),Oo)},movementY:function(e){return"movementY"in e?e.movementY:ko}}),uh=Et(gi),_y=_({},gi,{dataTransfer:0}),jy=Et(_y),wy=_({},ns,{relatedTarget:0}),Ro=Et(wy),Sy=_({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ny=Et(Sy),Ey=_({},xa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ay=Et(Ey),Ty=_({},xa,{data:0}),dh=Et(Ty),Cy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ky={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ry(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ky[e])?!!t[e]:!1}function zo(){return Ry}var zy=_({},ns,{key:function(e){if(e.key){var t=Cy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Oy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zo,charCode:function(e){return e.type==="keypress"?fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dy=Et(zy),Uy=_({},gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hh=Et(Uy),My=_({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zo}),$y=Et(My),qy=_({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),By=Et(qy),Ly=_({},gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hy=Et(Ly),Py=_({},xa,{newState:0,oldState:0}),Iy=Et(Py),Zy=[9,13,27,32],Do=xn&&"CompositionEvent"in window,rs=null;xn&&"documentMode"in document&&(rs=document.documentMode);var Gy=xn&&"TextEvent"in window&&!rs,fh=xn&&(!Do||rs&&8<rs&&11>=rs),mh=" ",ph=!1;function gh(e,t){switch(e){case"keyup":return Zy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var er=!1;function Vy(e,t){switch(e){case"compositionend":return vh(t);case"keypress":return t.which!==32?null:(ph=!0,mh);case"textInput":return e=t.data,e===mh&&ph?null:e;default:return null}}function Yy(e,t){if(er)return e==="compositionend"||!Do&&gh(e,t)?(e=oh(),hi=Co=Pn=null,er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fh&&t.locale!=="ko"?null:t.data;default:return null}}var Ky={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ky[e.type]:t==="textarea"}function xh(e,t,r,o){Xa?Wa?Wa.push(o):Wa=[o]:Xa=o,t=sl(t,"onChange"),0<t.length&&(r=new pi("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var ss=null,is=null;function Fy(e){np(e,0)}function vi(e){var t=Wr(e);if(eh(t))return e}function bh(e,t){if(e==="change")return t}var _h=!1;if(xn){var Uo;if(xn){var Mo="oninput"in document;if(!Mo){var jh=document.createElement("div");jh.setAttribute("oninput","return;"),Mo=typeof jh.oninput=="function"}Uo=Mo}else Uo=!1;_h=Uo&&(!document.documentMode||9<document.documentMode)}function wh(){ss&&(ss.detachEvent("onpropertychange",Sh),is=ss=null)}function Sh(e){if(e.propertyName==="value"&&vi(is)){var t=[];xh(t,is,e,Eo(e)),lh(Fy,t)}}function Jy(e,t,r){e==="focusin"?(wh(),ss=t,is=r,ss.attachEvent("onpropertychange",Sh)):e==="focusout"&&wh()}function Qy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vi(is)}function Xy(e,t){if(e==="click")return vi(t)}function Wy(e,t){if(e==="input"||e==="change")return vi(t)}function ex(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:ex;function ls(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var d=r[o];if(!fo.call(t,d)||!$t(e[d],t[d]))return!1}return!0}function Nh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eh(e,t){var r=Nh(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nh(r)}}function Ah(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ah(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Th(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ui(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ui(e.document)}return t}function $o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var tx=xn&&"documentMode"in document&&11>=document.documentMode,tr=null,qo=null,os=null,Bo=!1;function Ch(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bo||tr==null||tr!==ui(o)||(o=tr,"selectionStart"in o&&$o(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),os&&ls(os,o)||(os=o,o=sl(qo,"onSelect"),0<o.length&&(t=new pi("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=tr)))}function ba(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var nr={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},Lo={},Oh={};xn&&(Oh=document.createElement("div").style,"AnimationEvent"in window||(delete nr.animationend.animation,delete nr.animationiteration.animation,delete nr.animationstart.animation),"TransitionEvent"in window||delete nr.transitionend.transition);function _a(e){if(Lo[e])return Lo[e];if(!nr[e])return e;var t=nr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Oh)return Lo[e]=t[r];return e}var kh=_a("animationend"),Rh=_a("animationiteration"),zh=_a("animationstart"),nx=_a("transitionrun"),ax=_a("transitionstart"),rx=_a("transitioncancel"),Dh=_a("transitionend"),Uh=new Map,Ho="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ho.push("scrollEnd");function nn(e,t){Uh.set(e,t),ya(t,[e])}var yi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],ar=0,Po=0;function xi(){for(var e=ar,t=Po=ar=0;t<e;){var r=Yt[t];Yt[t++]=null;var o=Yt[t];Yt[t++]=null;var d=Yt[t];Yt[t++]=null;var f=Yt[t];if(Yt[t++]=null,o!==null&&d!==null){var v=o.pending;v===null?d.next=d:(d.next=v.next,v.next=d),o.pending=d}f!==0&&Mh(r,d,f)}}function bi(e,t,r,o){Yt[ar++]=e,Yt[ar++]=t,Yt[ar++]=r,Yt[ar++]=o,Po|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Io(e,t,r,o){return bi(e,t,r,o),_i(e)}function ja(e,t){return bi(e,null,null,t),_i(e)}function Mh(e,t,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var d=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&t!==null&&(d=31-Mt(r),e=f.hiddenUpdates,o=e[d],o===null?e[d]=[t]:o.push(t),t.lane=r|536870912),f):null}function _i(e){if(50<Os)throw Os=0,Xc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var rr={};function sx(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,r,o){return new sx(e,t,r,o)}function Zo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bn(e,t){var r=e.alternate;return r===null?(r=qt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function $h(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ji(e,t,r,o,d,f){var v=0;if(o=e,typeof e=="function")Zo(e)&&(v=1);else if(typeof e=="string")v=ub(e,r,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=qt(31,r,t,d),e.elementType=K,e.lanes=f,e;case A:return wa(r.children,d,f,t);case O:v=8,d|=24;break;case U:return e=qt(12,r,t,d|2),e.elementType=U,e.lanes=f,e;case se:return e=qt(13,r,t,d),e.elementType=se,e.lanes=f,e;case X:return e=qt(19,r,t,d),e.elementType=X,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:v=10;break e;case q:v=9;break e;case V:v=11;break e;case y:v=14;break e;case F:v=16,o=null;break e}v=29,r=Error(l(130,e===null?"null":typeof e,"")),o=null}return t=qt(v,r,t,d),t.elementType=e,t.type=o,t.lanes=f,t}function wa(e,t,r,o){return e=qt(7,e,o,t),e.lanes=r,e}function Go(e,t,r){return e=qt(6,e,null,t),e.lanes=r,e}function qh(e){var t=qt(18,null,null,0);return t.stateNode=e,t}function Vo(e,t,r){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Bh=new WeakMap;function Kt(e,t){if(typeof e=="object"&&e!==null){var r=Bh.get(e);return r!==void 0?r:(t={value:e,source:t,stack:qd(t)},Bh.set(e,t),t)}return{value:e,source:t,stack:qd(t)}}var sr=[],ir=0,wi=null,cs=0,Ft=[],Jt=0,In=null,un=1,dn="";function _n(e,t){sr[ir++]=cs,sr[ir++]=wi,wi=e,cs=t}function Lh(e,t,r){Ft[Jt++]=un,Ft[Jt++]=dn,Ft[Jt++]=In,In=e;var o=un;e=dn;var d=32-Mt(o)-1;o&=~(1<<d),r+=1;var f=32-Mt(t)+d;if(30<f){var v=d-d%5;f=(o&(1<<v)-1).toString(32),o>>=v,d-=v,un=1<<32-Mt(t)+d|r<<d|o,dn=f+e}else un=1<<f|r<<d|o,dn=e}function Yo(e){e.return!==null&&(_n(e,1),Lh(e,1,0))}function Ko(e){for(;e===wi;)wi=sr[--ir],sr[ir]=null,cs=sr[--ir],sr[ir]=null;for(;e===In;)In=Ft[--Jt],Ft[Jt]=null,dn=Ft[--Jt],Ft[Jt]=null,un=Ft[--Jt],Ft[Jt]=null}function Hh(e,t){Ft[Jt++]=un,Ft[Jt++]=dn,Ft[Jt++]=In,un=t.id,dn=t.overflow,In=e}var ft=null,Pe=null,je=!1,Zn=null,Qt=!1,Fo=Error(l(519));function Gn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw us(Kt(t,e)),Fo}function Ph(e){var t=e.stateNode,r=e.type,o=e.memoizedProps;switch(t[ht]=e,t[Nt]=o,r){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(r=0;r<Rs.length;r++)xe(Rs[r],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),th(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),ah(t,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||o.suppressHydrationWarning===!0||ip(t.textContent,r)?(o.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),o.onScroll!=null&&xe("scroll",t),o.onScrollEnd!=null&&xe("scrollend",t),o.onClick!=null&&(t.onclick=yn),t=!0):t=!1,t||Gn(e,!0)}function Ih(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:ft=ft.return}}function lr(e){if(e!==ft)return!1;if(!je)return Ih(e),je=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||fu(e.type,e.memoizedProps)),r=!r),r&&Pe&&Gn(e),Ih(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Pe=pp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Pe=pp(e)}else t===27?(t=Pe,sa(e.type)?(e=yu,yu=null,Pe=e):Pe=t):Pe=ft?Wt(e.stateNode.nextSibling):null;return!0}function Sa(){Pe=ft=null,je=!1}function Jo(){var e=Zn;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),Zn=null),e}function us(e){Zn===null?Zn=[e]:Zn.push(e)}var Qo=T(null),Na=null,jn=null;function Vn(e,t,r){J(Qo,t._currentValue),t._currentValue=r}function wn(e){e._currentValue=Qo.current,P(Qo)}function Xo(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function Wo(e,t,r,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=d;for(var N=0;N<t.length;N++)if(b.context===t[N]){f.lanes|=r,b=f.alternate,b!==null&&(b.lanes|=r),Xo(f.return,r,e),o||(v=null);break e}f=b.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(l(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),Xo(v,r,e),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===e){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function or(e,t,r,o){e=null;for(var d=t,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(l(387));if(v=v.memoizedProps,v!==null){var b=d.type;$t(d.pendingProps.value,v.value)||(e!==null?e.push(b):e=[b])}}else if(d===Te.current){if(v=d.alternate,v===null)throw Error(l(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push($s):e=[$s])}d=d.return}e!==null&&Wo(t,e,r,o),t.flags|=262144}function Si(e){for(e=e.firstContext;e!==null;){if(!$t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ea(e){Na=e,jn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return Zh(Na,e)}function Ni(e,t){return Na===null&&Ea(e),Zh(e,t)}function Zh(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},jn===null){if(e===null)throw Error(l(308));jn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else jn=jn.next=t;return r}var ix=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},lx=a.unstable_scheduleCallback,ox=a.unstable_NormalPriority,at={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ec(){return{controller:new ix,data:new Map,refCount:0}}function ds(e){e.refCount--,e.refCount===0&&lx(ox,function(){e.controller.abort()})}var hs=null,tc=0,cr=0,ur=null;function cx(e,t){if(hs===null){var r=hs=[];tc=0,cr=ru(),ur={status:"pending",value:void 0,then:function(o){r.push(o)}}}return tc++,t.then(Gh,Gh),t}function Gh(){if(--tc===0&&hs!==null){ur!==null&&(ur.status="fulfilled");var e=hs;hs=null,cr=0,ur=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ux(e,t){var r=[],o={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var d=0;d<r.length;d++)(0,r[d])(t)},function(d){for(o.status="rejected",o.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),o}var Vh=$.S;$.S=function(e,t){Om=Dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&cx(e,t),Vh!==null&&Vh(e,t)};var Aa=T(null);function nc(){var e=Aa.current;return e!==null?e:qe.pooledCache}function Ei(e,t){t===null?J(Aa,Aa.current):J(Aa,t.pool)}function Yh(){var e=nc();return e===null?null:{parent:at._currentValue,pool:e}}var dr=Error(l(460)),ac=Error(l(474)),Ai=Error(l(542)),Ti={then:function(){}};function Kh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fh(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(yn,yn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qh(e),e;default:if(typeof t.status=="string")t.then(yn,yn);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var d=t;d.status="fulfilled",d.value=o}},function(o){if(t.status==="pending"){var d=t;d.status="rejected",d.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qh(e),e}throw Ca=t,dr}}function Ta(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ca=r,dr):r}}var Ca=null;function Jh(){if(Ca===null)throw Error(l(459));var e=Ca;return Ca=null,e}function Qh(e){if(e===dr||e===Ai)throw Error(l(483))}var hr=null,fs=0;function Ci(e){var t=fs;return fs+=1,hr===null&&(hr=[]),Fh(hr,e,t)}function ms(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Oi(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Xh(e){function t(C,E){if(e){var k=C.deletions;k===null?(C.deletions=[E],C.flags|=16):k.push(E)}}function r(C,E){if(!e)return null;for(;E!==null;)t(C,E),E=E.sibling;return null}function o(C){for(var E=new Map;C!==null;)C.key!==null?E.set(C.key,C):E.set(C.index,C),C=C.sibling;return E}function d(C,E){return C=bn(C,E),C.index=0,C.sibling=null,C}function f(C,E,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<E?(C.flags|=67108866,E):k):(C.flags|=67108866,E)):(C.flags|=1048576,E)}function v(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function b(C,E,k,L){return E===null||E.tag!==6?(E=Go(k,C.mode,L),E.return=C,E):(E=d(E,k),E.return=C,E)}function N(C,E,k,L){var ie=k.type;return ie===A?B(C,E,k.props.children,L,k.key):E!==null&&(E.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===F&&Ta(ie)===E.type)?(E=d(E,k.props),ms(E,k),E.return=C,E):(E=ji(k.type,k.key,k.props,null,C.mode,L),ms(E,k),E.return=C,E)}function R(C,E,k,L){return E===null||E.tag!==4||E.stateNode.containerInfo!==k.containerInfo||E.stateNode.implementation!==k.implementation?(E=Vo(k,C.mode,L),E.return=C,E):(E=d(E,k.children||[]),E.return=C,E)}function B(C,E,k,L,ie){return E===null||E.tag!==7?(E=wa(k,C.mode,L,ie),E.return=C,E):(E=d(E,k),E.return=C,E)}function H(C,E,k){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Go(""+E,C.mode,k),E.return=C,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case S:return k=ji(E.type,E.key,E.props,null,C.mode,k),ms(k,E),k.return=C,k;case j:return E=Vo(E,C.mode,k),E.return=C,E;case F:return E=Ta(E),H(C,E,k)}if(St(E)||le(E))return E=wa(E,C.mode,k,null),E.return=C,E;if(typeof E.then=="function")return H(C,Ci(E),k);if(E.$$typeof===M)return H(C,Ni(C,E),k);Oi(C,E)}return null}function z(C,E,k,L){var ie=E!==null?E.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ie!==null?null:b(C,E,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return k.key===ie?N(C,E,k,L):null;case j:return k.key===ie?R(C,E,k,L):null;case F:return k=Ta(k),z(C,E,k,L)}if(St(k)||le(k))return ie!==null?null:B(C,E,k,L,null);if(typeof k.then=="function")return z(C,E,Ci(k),L);if(k.$$typeof===M)return z(C,E,Ni(C,k),L);Oi(C,k)}return null}function D(C,E,k,L,ie){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return C=C.get(k)||null,b(E,C,""+L,ie);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return C=C.get(L.key===null?k:L.key)||null,N(E,C,L,ie);case j:return C=C.get(L.key===null?k:L.key)||null,R(E,C,L,ie);case F:return L=Ta(L),D(C,E,k,L,ie)}if(St(L)||le(L))return C=C.get(k)||null,B(E,C,L,ie,null);if(typeof L.then=="function")return D(C,E,k,Ci(L),ie);if(L.$$typeof===M)return D(C,E,k,Ni(E,L),ie);Oi(E,L)}return null}function W(C,E,k,L){for(var ie=null,Ne=null,ne=E,ge=E=0,_e=null;ne!==null&&ge<k.length;ge++){ne.index>ge?(_e=ne,ne=null):_e=ne.sibling;var Ee=z(C,ne,k[ge],L);if(Ee===null){ne===null&&(ne=_e);break}e&&ne&&Ee.alternate===null&&t(C,ne),E=f(Ee,E,ge),Ne===null?ie=Ee:Ne.sibling=Ee,Ne=Ee,ne=_e}if(ge===k.length)return r(C,ne),je&&_n(C,ge),ie;if(ne===null){for(;ge<k.length;ge++)ne=H(C,k[ge],L),ne!==null&&(E=f(ne,E,ge),Ne===null?ie=ne:Ne.sibling=ne,Ne=ne);return je&&_n(C,ge),ie}for(ne=o(ne);ge<k.length;ge++)_e=D(ne,C,ge,k[ge],L),_e!==null&&(e&&_e.alternate!==null&&ne.delete(_e.key===null?ge:_e.key),E=f(_e,E,ge),Ne===null?ie=_e:Ne.sibling=_e,Ne=_e);return e&&ne.forEach(function(ua){return t(C,ua)}),je&&_n(C,ge),ie}function oe(C,E,k,L){if(k==null)throw Error(l(151));for(var ie=null,Ne=null,ne=E,ge=E=0,_e=null,Ee=k.next();ne!==null&&!Ee.done;ge++,Ee=k.next()){ne.index>ge?(_e=ne,ne=null):_e=ne.sibling;var ua=z(C,ne,Ee.value,L);if(ua===null){ne===null&&(ne=_e);break}e&&ne&&ua.alternate===null&&t(C,ne),E=f(ua,E,ge),Ne===null?ie=ua:Ne.sibling=ua,Ne=ua,ne=_e}if(Ee.done)return r(C,ne),je&&_n(C,ge),ie;if(ne===null){for(;!Ee.done;ge++,Ee=k.next())Ee=H(C,Ee.value,L),Ee!==null&&(E=f(Ee,E,ge),Ne===null?ie=Ee:Ne.sibling=Ee,Ne=Ee);return je&&_n(C,ge),ie}for(ne=o(ne);!Ee.done;ge++,Ee=k.next())Ee=D(ne,C,ge,Ee.value,L),Ee!==null&&(e&&Ee.alternate!==null&&ne.delete(Ee.key===null?ge:Ee.key),E=f(Ee,E,ge),Ne===null?ie=Ee:Ne.sibling=Ee,Ne=Ee);return e&&ne.forEach(function(_b){return t(C,_b)}),je&&_n(C,ge),ie}function Ue(C,E,k,L){if(typeof k=="object"&&k!==null&&k.type===A&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case S:e:{for(var ie=k.key;E!==null;){if(E.key===ie){if(ie=k.type,ie===A){if(E.tag===7){r(C,E.sibling),L=d(E,k.props.children),L.return=C,C=L;break e}}else if(E.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===F&&Ta(ie)===E.type){r(C,E.sibling),L=d(E,k.props),ms(L,k),L.return=C,C=L;break e}r(C,E);break}else t(C,E);E=E.sibling}k.type===A?(L=wa(k.props.children,C.mode,L,k.key),L.return=C,C=L):(L=ji(k.type,k.key,k.props,null,C.mode,L),ms(L,k),L.return=C,C=L)}return v(C);case j:e:{for(ie=k.key;E!==null;){if(E.key===ie)if(E.tag===4&&E.stateNode.containerInfo===k.containerInfo&&E.stateNode.implementation===k.implementation){r(C,E.sibling),L=d(E,k.children||[]),L.return=C,C=L;break e}else{r(C,E);break}else t(C,E);E=E.sibling}L=Vo(k,C.mode,L),L.return=C,C=L}return v(C);case F:return k=Ta(k),Ue(C,E,k,L)}if(St(k))return W(C,E,k,L);if(le(k)){if(ie=le(k),typeof ie!="function")throw Error(l(150));return k=ie.call(k),oe(C,E,k,L)}if(typeof k.then=="function")return Ue(C,E,Ci(k),L);if(k.$$typeof===M)return Ue(C,E,Ni(C,k),L);Oi(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,E!==null&&E.tag===6?(r(C,E.sibling),L=d(E,k),L.return=C,C=L):(r(C,E),L=Go(k,C.mode,L),L.return=C,C=L),v(C)):r(C,E)}return function(C,E,k,L){try{fs=0;var ie=Ue(C,E,k,L);return hr=null,ie}catch(ne){if(ne===dr||ne===Ai)throw ne;var Ne=qt(29,ne,null,C.mode);return Ne.lanes=L,Ne.return=C,Ne}finally{}}}var Oa=Xh(!0),Wh=Xh(!1),Yn=!1;function rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ae&2)!==0){var d=o.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),o.pending=t,t=_i(e),Mh(e,null,r),t}return bi(e,o,t,r),_i(e)}function ps(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Zd(e,r)}}function ic(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var d=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?d=f=t:f=f.next=t}else d=f=t;r={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var lc=!1;function gs(){if(lc){var e=ur;if(e!==null)throw e}}function vs(e,t,r,o){lc=!1;var d=e.updateQueue;Yn=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var N=b,R=N.next;N.next=null,v===null?f=R:v.next=R,v=N;var B=e.alternate;B!==null&&(B=B.updateQueue,b=B.lastBaseUpdate,b!==v&&(b===null?B.firstBaseUpdate=R:b.next=R,B.lastBaseUpdate=N))}if(f!==null){var H=d.baseState;v=0,B=R=N=null,b=f;do{var z=b.lane&-536870913,D=z!==b.lane;if(D?(be&z)===z:(o&z)===z){z!==0&&z===cr&&(lc=!0),B!==null&&(B=B.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var W=e,oe=b;z=t;var Ue=r;switch(oe.tag){case 1:if(W=oe.payload,typeof W=="function"){H=W.call(Ue,H,z);break e}H=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=oe.payload,z=typeof W=="function"?W.call(Ue,H,z):W,z==null)break e;H=_({},H,z);break e;case 2:Yn=!0}}z=b.callback,z!==null&&(e.flags|=64,D&&(e.flags|=8192),D=d.callbacks,D===null?d.callbacks=[z]:D.push(z))}else D={lane:z,tag:b.tag,payload:b.payload,callback:b.callback,next:null},B===null?(R=B=D,N=H):B=B.next=D,v|=z;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;D=b,b=D.next,D.next=null,d.lastBaseUpdate=D,d.shared.pending=null}}while(!0);B===null&&(N=H),d.baseState=N,d.firstBaseUpdate=R,d.lastBaseUpdate=B,f===null&&(d.shared.lanes=0),ea|=v,e.lanes=v,e.memoizedState=H}}function ef(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function tf(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)ef(r[e],t)}var fr=T(null),ki=T(0);function nf(e,t){e=Rn,J(ki,e),J(fr,t),Rn=e|t.baseLanes}function oc(){J(ki,Rn),J(fr,fr.current)}function cc(){Rn=ki.current,P(fr),P(ki)}var Bt=T(null),Xt=null;function Jn(e){var t=e.alternate;J(Xe,Xe.current&1),J(Bt,e),Xt===null&&(t===null||fr.current!==null||t.memoizedState!==null)&&(Xt=e)}function uc(e){J(Xe,Xe.current),J(Bt,e),Xt===null&&(Xt=e)}function af(e){e.tag===22?(J(Xe,Xe.current),J(Bt,e),Xt===null&&(Xt=e)):Qn()}function Qn(){J(Xe,Xe.current),J(Bt,Bt.current)}function Lt(e){P(Bt),Xt===e&&(Xt=null),P(Xe)}var Xe=T(0);function Ri(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||gu(r)||vu(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sn=0,pe=null,ze=null,rt=null,zi=!1,mr=!1,ka=!1,Di=0,ys=0,pr=null,dx=0;function Ke(){throw Error(l(321))}function dc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$t(e[r],t[r]))return!1;return!0}function hc(e,t,r,o,d,f){return Sn=f,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?Hf:Ac,ka=!1,f=r(o,d),ka=!1,mr&&(f=sf(t,r,o,d)),rf(e),f}function rf(e){$.H=_s;var t=ze!==null&&ze.next!==null;if(Sn=0,rt=ze=pe=null,zi=!1,ys=0,pr=null,t)throw Error(l(300));e===null||st||(e=e.dependencies,e!==null&&Si(e)&&(st=!0))}function sf(e,t,r,o){pe=e;var d=0;do{if(mr&&(pr=null),ys=0,mr=!1,25<=d)throw Error(l(301));if(d+=1,rt=ze=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}$.H=Pf,f=t(r,o)}while(mr);return f}function hx(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?xs(t):t,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(pe.flags|=1024),t}function fc(){var e=Di!==0;return Di=0,e}function mc(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function pc(e){if(zi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}zi=!1}Sn=0,rt=ze=pe=null,mr=!1,ys=Di=0,pr=null}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?pe.memoizedState=rt=e:rt=rt.next=e,rt}function We(){if(ze===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=rt===null?pe.memoizedState:rt.next;if(t!==null)rt=t,ze=e;else{if(e===null)throw pe.alternate===null?Error(l(467)):Error(l(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},rt===null?pe.memoizedState=rt=e:rt=rt.next=e}return rt}function Ui(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xs(e){var t=ys;return ys+=1,pr===null&&(pr=[]),e=Fh(pr,e,t),t=pe,(rt===null?t.memoizedState:rt.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?Hf:Ac),e}function Mi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xs(e);if(e.$$typeof===M)return mt(e)}throw Error(l(438,String(e)))}function gc(e){var t=null,r=pe.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var o=pe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(d){return d.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Ui(),pe.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),o=0;o<e;o++)r[o]=Se;return t.index++,r}function Nn(e,t){return typeof t=="function"?t(e):t}function $i(e){var t=We();return vc(t,ze,e)}function vc(e,t,r){var o=e.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=r;var d=e.baseQueue,f=o.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}t.baseQueue=d=f,o.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{t=d.next;var b=v=null,N=null,R=t,B=!1;do{var H=R.lane&-536870913;if(H!==R.lane?(be&H)===H:(Sn&H)===H){var z=R.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),H===cr&&(B=!0);else if((Sn&z)===z){R=R.next,z===cr&&(B=!0);continue}else H={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},N===null?(b=N=H,v=f):N=N.next=H,pe.lanes|=z,ea|=z;H=R.action,ka&&r(f,H),f=R.hasEagerState?R.eagerState:r(f,H)}else z={lane:H,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},N===null?(b=N=z,v=f):N=N.next=z,pe.lanes|=H,ea|=H;R=R.next}while(R!==null&&R!==t);if(N===null?v=f:N.next=b,!$t(f,e.memoizedState)&&(st=!0,B&&(r=ur,r!==null)))throw r;e.memoizedState=f,e.baseState=v,e.baseQueue=N,o.lastRenderedState=f}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function yc(e){var t=We(),r=t.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=e;var o=r.dispatch,d=r.pending,f=t.memoizedState;if(d!==null){r.pending=null;var v=d=d.next;do f=e(f,v.action),v=v.next;while(v!==d);$t(f,t.memoizedState)||(st=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,o]}function lf(e,t,r){var o=pe,d=We(),f=je;if(f){if(r===void 0)throw Error(l(407));r=r()}else r=t();var v=!$t((ze||d).memoizedState,r);if(v&&(d.memoizedState=r,st=!0),d=d.queue,_c(uf.bind(null,o,d,e),[e]),d.getSnapshot!==t||v||rt!==null&&rt.memoizedState.tag&1){if(o.flags|=2048,gr(9,{destroy:void 0},cf.bind(null,o,d,r,t),null),qe===null)throw Error(l(349));f||(Sn&127)!==0||of(o,t,r)}return r}function of(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pe.updateQueue,t===null?(t=Ui(),pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function cf(e,t,r,o){t.value=r,t.getSnapshot=o,df(t)&&hf(e)}function uf(e,t,r){return r(function(){df(t)&&hf(e)})}function df(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$t(e,r)}catch{return!0}}function hf(e){var t=ja(e,2);t!==null&&kt(t,e,2)}function xc(e){var t=wt();if(typeof e=="function"){var r=e;if(e=r(),ka){Ln(!0);try{r()}finally{Ln(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:e},t}function ff(e,t,r,o){return e.baseState=r,vc(e,ze,typeof o=="function"?o:Nn)}function fx(e,t,r,o,d){if(Li(e))throw Error(l(485));if(e=t.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};$.T!==null?r(!0):f.isTransition=!1,o(f),r=t.pending,r===null?(f.next=t.pending=f,mf(t,f)):(f.next=r.next,t.pending=r.next=f)}}function mf(e,t){var r=t.action,o=t.payload,d=e.state;if(t.isTransition){var f=$.T,v={};$.T=v;try{var b=r(d,o),N=$.S;N!==null&&N(v,b),pf(e,t,b)}catch(R){bc(e,t,R)}finally{f!==null&&v.types!==null&&(f.types=v.types),$.T=f}}else try{f=r(d,o),pf(e,t,f)}catch(R){bc(e,t,R)}}function pf(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){gf(e,t,o)},function(o){return bc(e,t,o)}):gf(e,t,r)}function gf(e,t,r){t.status="fulfilled",t.value=r,vf(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,mf(e,r)))}function bc(e,t,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=r,vf(t),t=t.next;while(t!==o)}e.action=null}function vf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yf(e,t){return t}function xf(e,t){if(je){var r=qe.formState;if(r!==null){e:{var o=pe;if(je){if(Pe){t:{for(var d=Pe,f=Qt;d.nodeType!==8;){if(!f){d=null;break t}if(d=Wt(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){Pe=Wt(d.nextSibling),o=d.data==="F!";break e}}Gn(o)}o=!1}o&&(t=r[0])}}return r=wt(),r.memoizedState=r.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yf,lastRenderedState:t},r.queue=o,r=qf.bind(null,pe,o),o.dispatch=r,o=xc(!1),f=Ec.bind(null,pe,!1,o.queue),o=wt(),d={state:t,dispatch:null,action:e,pending:null},o.queue=d,r=fx.bind(null,pe,d,f,r),d.dispatch=r,o.memoizedState=e,[t,r,!1]}function bf(e){var t=We();return _f(t,ze,e)}function _f(e,t,r){if(t=vc(e,t,yf)[0],e=$i(Nn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=xs(t)}catch(v){throw v===dr?Ai:v}else o=t;t=We();var d=t.queue,f=d.dispatch;return r!==t.memoizedState&&(pe.flags|=2048,gr(9,{destroy:void 0},mx.bind(null,d,r),null)),[o,f,e]}function mx(e,t){e.action=t}function jf(e){var t=We(),r=ze;if(r!==null)return _f(t,r,e);We(),t=t.memoizedState,r=We();var o=r.queue.dispatch;return r.memoizedState=e,[t,o,!1]}function gr(e,t,r,o){return e={tag:e,create:r,deps:o,inst:t,next:null},t=pe.updateQueue,t===null&&(t=Ui(),pe.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e),e}function wf(){return We().memoizedState}function qi(e,t,r,o){var d=wt();pe.flags|=e,d.memoizedState=gr(1|t,{destroy:void 0},r,o===void 0?null:o)}function Bi(e,t,r,o){var d=We();o=o===void 0?null:o;var f=d.memoizedState.inst;ze!==null&&o!==null&&dc(o,ze.memoizedState.deps)?d.memoizedState=gr(t,f,r,o):(pe.flags|=e,d.memoizedState=gr(1|t,f,r,o))}function Sf(e,t){qi(8390656,8,e,t)}function _c(e,t){Bi(2048,8,e,t)}function px(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=Ui(),pe.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function Nf(e){var t=We().memoizedState;return px({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Ef(e,t){return Bi(4,2,e,t)}function Af(e,t){return Bi(4,4,e,t)}function Tf(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cf(e,t,r){r=r!=null?r.concat([e]):null,Bi(4,4,Tf.bind(null,t,e),r)}function jc(){}function Of(e,t){var r=We();t=t===void 0?null:t;var o=r.memoizedState;return t!==null&&dc(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function kf(e,t){var r=We();t=t===void 0?null:t;var o=r.memoizedState;if(t!==null&&dc(t,o[1]))return o[0];if(o=e(),ka){Ln(!0);try{e()}finally{Ln(!1)}}return r.memoizedState=[o,t],o}function wc(e,t,r){return r===void 0||(Sn&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=Rm(),pe.lanes|=e,ea|=e,r)}function Rf(e,t,r,o){return $t(r,t)?r:fr.current!==null?(e=wc(e,r,o),$t(e,t)||(st=!0),e):(Sn&42)===0||(Sn&1073741824)!==0&&(be&261930)===0?(st=!0,e.memoizedState=r):(e=Rm(),pe.lanes|=e,ea|=e,t)}function zf(e,t,r,o,d){var f=G.p;G.p=f!==0&&8>f?f:8;var v=$.T,b={};$.T=b,Ec(e,!1,t,r);try{var N=d(),R=$.S;if(R!==null&&R(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var B=ux(N,o);bs(e,t,B,It(e))}else bs(e,t,o,It(e))}catch(H){bs(e,t,{then:function(){},status:"rejected",reason:H},It())}finally{G.p=f,v!==null&&b.types!==null&&(v.types=b.types),$.T=v}}function gx(){}function Sc(e,t,r,o){if(e.tag!==5)throw Error(l(476));var d=Df(e).queue;zf(e,d,t,re,r===null?gx:function(){return Uf(e),r(o)})}function Df(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:re},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nn,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Uf(e){var t=Df(e);t.next===null&&(t=e.alternate.memoizedState),bs(e,t.next.queue,{},It())}function Nc(){return mt($s)}function Mf(){return We().memoizedState}function $f(){return We().memoizedState}function vx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=It();e=Kn(r);var o=Fn(t,e,r);o!==null&&(kt(o,t,r),ps(o,t,r)),t={cache:ec()},e.payload=t;return}t=t.return}}function yx(e,t,r){var o=It();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Li(e)?Bf(t,r):(r=Io(e,t,r,o),r!==null&&(kt(r,e,o),Lf(r,t,o)))}function qf(e,t,r){var o=It();bs(e,t,r,o)}function bs(e,t,r,o){var d={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Li(e))Bf(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var v=t.lastRenderedState,b=f(v,r);if(d.hasEagerState=!0,d.eagerState=b,$t(b,v))return bi(e,t,d,0),qe===null&&xi(),!1}catch{}finally{}if(r=Io(e,t,d,o),r!==null)return kt(r,e,o),Lf(r,t,o),!0}return!1}function Ec(e,t,r,o){if(o={lane:2,revertLane:ru(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Li(e)){if(t)throw Error(l(479))}else t=Io(e,r,o,2),t!==null&&kt(t,e,2)}function Li(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Bf(e,t){mr=zi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Lf(e,t,r){if((r&4194048)!==0){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Zd(e,r)}}var _s={readContext:mt,use:Mi,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};_s.useEffectEvent=Ke;var Hf={readContext:mt,use:Mi,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:Sf,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,qi(4194308,4,Tf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qi(4194308,4,e,t)},useInsertionEffect:function(e,t){qi(4,2,e,t)},useMemo:function(e,t){var r=wt();t=t===void 0?null:t;var o=e();if(ka){Ln(!0);try{e()}finally{Ln(!1)}}return r.memoizedState=[o,t],o},useReducer:function(e,t,r){var o=wt();if(r!==void 0){var d=r(t);if(ka){Ln(!0);try{r(t)}finally{Ln(!1)}}}else d=t;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=yx.bind(null,pe,e),[o.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:function(e){e=xc(e);var t=e.queue,r=qf.bind(null,pe,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:jc,useDeferredValue:function(e,t){var r=wt();return wc(r,e,t)},useTransition:function(){var e=xc(!1);return e=zf.bind(null,pe,e.queue,!0,!1),wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var o=pe,d=wt();if(je){if(r===void 0)throw Error(l(407));r=r()}else{if(r=t(),qe===null)throw Error(l(349));(be&127)!==0||of(o,t,r)}d.memoizedState=r;var f={value:r,getSnapshot:t};return d.queue=f,Sf(uf.bind(null,o,f,e),[e]),o.flags|=2048,gr(9,{destroy:void 0},cf.bind(null,o,f,r,t),null),r},useId:function(){var e=wt(),t=qe.identifierPrefix;if(je){var r=dn,o=un;r=(o&~(1<<32-Mt(o)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Di++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=dx++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Nc,useFormState:xf,useActionState:xf,useOptimistic:function(e){var t=wt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Ec.bind(null,pe,!0,r),r.dispatch=t,[e,t]},useMemoCache:gc,useCacheRefresh:function(){return wt().memoizedState=vx.bind(null,pe)},useEffectEvent:function(e){var t=wt(),r={impl:e};return t.memoizedState=r,function(){if((Ae&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},Ac={readContext:mt,use:Mi,useCallback:Of,useContext:mt,useEffect:_c,useImperativeHandle:Cf,useInsertionEffect:Ef,useLayoutEffect:Af,useMemo:kf,useReducer:$i,useRef:wf,useState:function(){return $i(Nn)},useDebugValue:jc,useDeferredValue:function(e,t){var r=We();return Rf(r,ze.memoizedState,e,t)},useTransition:function(){var e=$i(Nn)[0],t=We().memoizedState;return[typeof e=="boolean"?e:xs(e),t]},useSyncExternalStore:lf,useId:Mf,useHostTransitionStatus:Nc,useFormState:bf,useActionState:bf,useOptimistic:function(e,t){var r=We();return ff(r,ze,e,t)},useMemoCache:gc,useCacheRefresh:$f};Ac.useEffectEvent=Nf;var Pf={readContext:mt,use:Mi,useCallback:Of,useContext:mt,useEffect:_c,useImperativeHandle:Cf,useInsertionEffect:Ef,useLayoutEffect:Af,useMemo:kf,useReducer:yc,useRef:wf,useState:function(){return yc(Nn)},useDebugValue:jc,useDeferredValue:function(e,t){var r=We();return ze===null?wc(r,e,t):Rf(r,ze.memoizedState,e,t)},useTransition:function(){var e=yc(Nn)[0],t=We().memoizedState;return[typeof e=="boolean"?e:xs(e),t]},useSyncExternalStore:lf,useId:Mf,useHostTransitionStatus:Nc,useFormState:jf,useActionState:jf,useOptimistic:function(e,t){var r=We();return ze!==null?ff(r,ze,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:gc,useCacheRefresh:$f};Pf.useEffectEvent=Nf;function Tc(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:_({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cc={enqueueSetState:function(e,t,r){e=e._reactInternals;var o=It(),d=Kn(o);d.payload=t,r!=null&&(d.callback=r),t=Fn(e,d,o),t!==null&&(kt(t,e,o),ps(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=It(),d=Kn(o);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=Fn(e,d,o),t!==null&&(kt(t,e,o),ps(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=It(),o=Kn(r);o.tag=2,t!=null&&(o.callback=t),t=Fn(e,o,r),t!==null&&(kt(t,e,r),ps(t,e,r))}};function If(e,t,r,o,d,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):t.prototype&&t.prototype.isPureReactComponent?!ls(r,o)||!ls(d,f):!0}function Zf(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&Cc.enqueueReplaceState(t,t.state,null)}function Ra(e,t){var r=t;if("ref"in t){r={};for(var o in t)o!=="ref"&&(r[o]=t[o])}if(e=e.defaultProps){r===t&&(r=_({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}function Gf(e){yi(e)}function Vf(e){console.error(e)}function Yf(e){yi(e)}function Hi(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function Kf(e,t,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Oc(e,t,r){return r=Kn(r),r.tag=3,r.payload={element:null},r.callback=function(){Hi(e,t)},r}function Ff(e){return e=Kn(e),e.tag=3,e}function Jf(e,t,r,o){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=o.value;e.payload=function(){return d(f)},e.callback=function(){Kf(t,r,o)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Kf(t,r,o),typeof d!="function"&&(ta===null?ta=new Set([this]):ta.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function xx(e,t,r,o,d){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=r.alternate,t!==null&&or(t,r,d,!0),r=Bt.current,r!==null){switch(r.tag){case 31:case 13:return Xt===null?Wi():r.alternate===null&&Fe===0&&(Fe=3),r.flags&=-257,r.flags|=65536,r.lanes=d,o===Ti?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([o]):t.add(o),tu(e,o,d)),!1;case 22:return r.flags|=65536,o===Ti?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([o]):r.add(o)),tu(e,o,d)),!1}throw Error(l(435,r.tag))}return tu(e,o,d),Wi(),!1}if(je)return t=Bt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=d,o!==Fo&&(e=Error(l(422),{cause:o}),us(Kt(e,r)))):(o!==Fo&&(t=Error(l(423),{cause:o}),us(Kt(t,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=Kt(o,r),d=Oc(e.stateNode,o,d),ic(e,d),Fe!==4&&(Fe=2)),!1;var f=Error(l(520),{cause:o});if(f=Kt(f,r),Cs===null?Cs=[f]:Cs.push(f),Fe!==4&&(Fe=2),t===null)return!0;o=Kt(o,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=Oc(r.stateNode,o,e),ic(r,e),!1;case 1:if(t=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ta===null||!ta.has(f))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Ff(d),Jf(d,e,r,o),ic(r,d),!1}r=r.return}while(r!==null);return!1}var kc=Error(l(461)),st=!1;function pt(e,t,r,o){t.child=e===null?Wh(t,null,r,o):Oa(t,e.child,r,o)}function Qf(e,t,r,o,d){r=r.render;var f=t.ref;if("ref"in o){var v={};for(var b in o)b!=="ref"&&(v[b]=o[b])}else v=o;return Ea(t),o=hc(e,t,r,v,f,d),b=fc(),e!==null&&!st?(mc(e,t,d),En(e,t,d)):(je&&b&&Yo(t),t.flags|=1,pt(e,t,o,d),t.child)}function Xf(e,t,r,o,d){if(e===null){var f=r.type;return typeof f=="function"&&!Zo(f)&&f.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=f,Wf(e,t,f,o,d)):(e=ji(r.type,null,o,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Bc(e,d)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:ls,r(v,o)&&e.ref===t.ref)return En(e,t,d)}return t.flags|=1,e=bn(f,o),e.ref=t.ref,e.return=t,t.child=e}function Wf(e,t,r,o,d){if(e!==null){var f=e.memoizedProps;if(ls(f,o)&&e.ref===t.ref)if(st=!1,t.pendingProps=o=f,Bc(e,d))(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,En(e,t,d)}return Rc(e,t,r,o,d)}function em(e,t,r,o){var d=o.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=t.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~f}else o=0,t.child=null;return tm(e,t,f,r,o)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ei(t,f!==null?f.cachePool:null),f!==null?nf(t,f):oc(),af(t);else return o=t.lanes=536870912,tm(e,t,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Ei(t,f.cachePool),nf(t,f),Qn(),t.memoizedState=null):(e!==null&&Ei(t,null),oc(),Qn());return pt(e,t,d,r),t.child}function js(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function tm(e,t,r,o,d){var f=nc();return f=f===null?null:{parent:at._currentValue,pool:f},t.memoizedState={baseLanes:r,cachePool:f},e!==null&&Ei(t,null),oc(),af(t),e!==null&&or(e,t,o,!0),t.childLanes=d,null}function Pi(e,t){return t=Zi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function nm(e,t,r){return Oa(t,e.child,null,r),e=Pi(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function bx(e,t,r){var o=t.pendingProps,d=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(je){if(o.mode==="hidden")return e=Pi(t,o),t.lanes=536870912,js(null,e);if(uc(t),(e=Pe)?(e=mp(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:In!==null?{id:un,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},r=qh(e),r.return=t,t.child=r,ft=t,Pe=null)):e=null,e===null)throw Gn(t);return t.lanes=536870912,null}return Pi(t,o)}var f=e.memoizedState;if(f!==null){var v=f.dehydrated;if(uc(t),d)if(t.flags&256)t.flags&=-257,t=nm(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(st||or(e,t,r,!1),d=(r&e.childLanes)!==0,st||d){if(o=qe,o!==null&&(v=Gd(o,r),v!==0&&v!==f.retryLane))throw f.retryLane=v,ja(e,v),kt(o,e,v),kc;Wi(),t=nm(e,t,r)}else e=f.treeContext,Pe=Wt(v.nextSibling),ft=t,je=!0,Zn=null,Qt=!1,e!==null&&Hh(t,e),t=Pi(t,o),t.flags|=4096;return t}return e=bn(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ii(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Rc(e,t,r,o,d){return Ea(t),r=hc(e,t,r,o,void 0,d),o=fc(),e!==null&&!st?(mc(e,t,d),En(e,t,d)):(je&&o&&Yo(t),t.flags|=1,pt(e,t,r,d),t.child)}function am(e,t,r,o,d,f){return Ea(t),t.updateQueue=null,r=sf(t,o,r,d),rf(e),o=fc(),e!==null&&!st?(mc(e,t,f),En(e,t,f)):(je&&o&&Yo(t),t.flags|=1,pt(e,t,r,f),t.child)}function rm(e,t,r,o,d){if(Ea(t),t.stateNode===null){var f=rr,v=r.contextType;typeof v=="object"&&v!==null&&(f=mt(v)),f=new r(o,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=o,f.state=t.memoizedState,f.refs={},rc(t),v=r.contextType,f.context=typeof v=="object"&&v!==null?mt(v):rr,f.state=t.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Tc(t,r,v,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Cc.enqueueReplaceState(f,f.state,null),vs(t,o,f,d),gs(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,N=Ra(r,b);f.props=N;var R=f.context,B=r.contextType;v=rr,typeof B=="object"&&B!==null&&(v=mt(B));var H=r.getDerivedStateFromProps;B=typeof H=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,B||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||R!==v)&&Zf(t,f,o,v),Yn=!1;var z=t.memoizedState;f.state=z,vs(t,o,f,d),gs(),R=t.memoizedState,b||z!==R||Yn?(typeof H=="function"&&(Tc(t,r,H,o),R=t.memoizedState),(N=Yn||If(t,r,N,o,z,R,v))?(B||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=R),f.props=o,f.state=R,f.context=v,o=N):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,sc(e,t),v=t.memoizedProps,B=Ra(r,v),f.props=B,H=t.pendingProps,z=f.context,R=r.contextType,N=rr,typeof R=="object"&&R!==null&&(N=mt(R)),b=r.getDerivedStateFromProps,(R=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==H||z!==N)&&Zf(t,f,o,N),Yn=!1,z=t.memoizedState,f.state=z,vs(t,o,f,d),gs();var D=t.memoizedState;v!==H||z!==D||Yn||e!==null&&e.dependencies!==null&&Si(e.dependencies)?(typeof b=="function"&&(Tc(t,r,b,o),D=t.memoizedState),(B=Yn||If(t,r,B,o,z,D,N)||e!==null&&e.dependencies!==null&&Si(e.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,D,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,D,N)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=D),f.props=o,f.state=D,f.context=N,o=B):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),o=!1)}return f=o,Ii(e,t),o=(t.flags&128)!==0,f||o?(f=t.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&o?(t.child=Oa(t,e.child,null,d),t.child=Oa(t,null,r,d)):pt(e,t,r,d),t.memoizedState=f.state,e=t.child):e=En(e,t,d),e}function sm(e,t,r,o){return Sa(),t.flags|=256,pt(e,t,r,o),t.child}var zc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dc(e){return{baseLanes:e,cachePool:Yh()}}function Uc(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=Pt),e}function im(e,t,r){var o=t.pendingProps,d=!1,f=(t.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),v&&(d=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(d?Jn(t):Qn(),(e=Pe)?(e=mp(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:In!==null?{id:un,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},r=qh(e),r.return=t,t.child=r,ft=t,Pe=null)):e=null,e===null)throw Gn(t);return vu(e)?t.lanes=32:t.lanes=536870912,null}var b=o.children;return o=o.fallback,d?(Qn(),d=t.mode,b=Zi({mode:"hidden",children:b},d),o=wa(o,d,r,null),b.return=t,o.return=t,b.sibling=o,t.child=b,o=t.child,o.memoizedState=Dc(r),o.childLanes=Uc(e,v,r),t.memoizedState=zc,js(null,o)):(Jn(t),Mc(t,b))}var N=e.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(f)t.flags&256?(Jn(t),t.flags&=-257,t=$c(e,t,r)):t.memoizedState!==null?(Qn(),t.child=e.child,t.flags|=128,t=null):(Qn(),b=o.fallback,d=t.mode,o=Zi({mode:"visible",children:o.children},d),b=wa(b,d,r,null),b.flags|=2,o.return=t,b.return=t,o.sibling=b,t.child=o,Oa(t,e.child,null,r),o=t.child,o.memoizedState=Dc(r),o.childLanes=Uc(e,v,r),t.memoizedState=zc,t=js(null,o));else if(Jn(t),vu(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var R=v.dgst;v=R,o=Error(l(419)),o.stack="",o.digest=v,us({value:o,source:null,stack:null}),t=$c(e,t,r)}else if(st||or(e,t,r,!1),v=(r&e.childLanes)!==0,st||v){if(v=qe,v!==null&&(o=Gd(v,r),o!==0&&o!==N.retryLane))throw N.retryLane=o,ja(e,o),kt(v,e,o),kc;gu(b)||Wi(),t=$c(e,t,r)}else gu(b)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,Pe=Wt(b.nextSibling),ft=t,je=!0,Zn=null,Qt=!1,e!==null&&Hh(t,e),t=Mc(t,o.children),t.flags|=4096);return t}return d?(Qn(),b=o.fallback,d=t.mode,N=e.child,R=N.sibling,o=bn(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,R!==null?b=bn(R,b):(b=wa(b,d,r,null),b.flags|=2),b.return=t,o.return=t,o.sibling=b,t.child=o,js(null,o),o=t.child,b=e.child.memoizedState,b===null?b=Dc(r):(d=b.cachePool,d!==null?(N=at._currentValue,d=d.parent!==N?{parent:N,pool:N}:d):d=Yh(),b={baseLanes:b.baseLanes|r,cachePool:d}),o.memoizedState=b,o.childLanes=Uc(e,v,r),t.memoizedState=zc,js(e.child,o)):(Jn(t),r=e.child,e=r.sibling,r=bn(r,{mode:"visible",children:o.children}),r.return=t,r.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=r,t.memoizedState=null,r)}function Mc(e,t){return t=Zi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Zi(e,t){return e=qt(22,e,null,t),e.lanes=0,e}function $c(e,t,r){return Oa(t,e.child,null,r),e=Mc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lm(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Xo(e.return,t,r)}function qc(e,t,r,o,d,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:d,treeForkCount:f}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=r,v.tailMode=d,v.treeForkCount=f)}function om(e,t,r){var o=t.pendingProps,d=o.revealOrder,f=o.tail;o=o.children;var v=Xe.current,b=(v&2)!==0;if(b?(v=v&1|2,t.flags|=128):v&=1,J(Xe,v),pt(e,t,o,r),o=je?cs:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lm(e,r,t);else if(e.tag===19)lm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(r=t.child,d=null;r!==null;)e=r.alternate,e!==null&&Ri(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=t.child,t.child=null):(d=r.sibling,r.sibling=null),qc(t,!1,d,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Ri(e)===null){t.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}qc(t,!0,r,null,f,o);break;case"together":qc(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function En(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ea|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(or(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,r=bn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=bn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Bc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Si(e)))}function _x(e,t,r){switch(t.tag){case 3:jt(t,t.stateNode.containerInfo),Vn(t,at,e.memoizedState.cache),Sa();break;case 27:case 5:Kr(t);break;case 4:jt(t,t.stateNode.containerInfo);break;case 10:Vn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,uc(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(Jn(t),t.flags|=128,null):(r&t.child.childLanes)!==0?im(e,t,r):(Jn(t),e=En(e,t,r),e!==null?e.sibling:null);Jn(t);break;case 19:var d=(e.flags&128)!==0;if(o=(r&t.childLanes)!==0,o||(or(e,t,r,!1),o=(r&t.childLanes)!==0),d){if(o)return om(e,t,r);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(Xe,Xe.current),o)break;return null;case 22:return t.lanes=0,em(e,t,r,t.pendingProps);case 24:Vn(t,at,e.memoizedState.cache)}return En(e,t,r)}function cm(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!Bc(e,r)&&(t.flags&128)===0)return st=!1,_x(e,t,r);st=(e.flags&131072)!==0}else st=!1,je&&(t.flags&1048576)!==0&&Lh(t,cs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=Ta(t.elementType),t.type=e,typeof e=="function")Zo(e)?(o=Ra(e,o),t.tag=1,t=rm(null,t,e,o,r)):(t.tag=0,t=Rc(null,t,e,o,r));else{if(e!=null){var d=e.$$typeof;if(d===V){t.tag=11,t=Qf(null,t,e,o,r);break e}else if(d===y){t.tag=14,t=Xf(null,t,e,o,r);break e}}throw t=Me(e)||e,Error(l(306,t,""))}}return t;case 0:return Rc(e,t,t.type,t.pendingProps,r);case 1:return o=t.type,d=Ra(o,t.pendingProps),rm(e,t,o,d,r);case 3:e:{if(jt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));o=t.pendingProps;var f=t.memoizedState;d=f.element,sc(e,t),vs(t,o,null,r);var v=t.memoizedState;if(o=v.cache,Vn(t,at,o),o!==f.cache&&Wo(t,[at],r,!0),gs(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=sm(e,t,o,r);break e}else if(o!==d){d=Kt(Error(l(424)),t),us(d),t=sm(e,t,o,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=Wt(e.firstChild),ft=t,je=!0,Zn=null,Qt=!0,r=Wh(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Sa(),o===d){t=En(e,t,r);break e}pt(e,t,o,r)}t=t.child}return t;case 26:return Ii(e,t),e===null?(r=bp(t.type,null,t.pendingProps,null))?t.memoizedState=r:je||(r=t.type,e=t.pendingProps,o=il(ve.current).createElement(r),o[ht]=t,o[Nt]=e,gt(o,r,e),ut(o),t.stateNode=o):t.memoizedState=bp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Kr(t),e===null&&je&&(o=t.stateNode=vp(t.type,t.pendingProps,ve.current),ft=t,Qt=!0,d=Pe,sa(t.type)?(yu=d,Pe=Wt(o.firstChild)):Pe=d),pt(e,t,t.pendingProps.children,r),Ii(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((d=o=Pe)&&(o=Qx(o,t.type,t.pendingProps,Qt),o!==null?(t.stateNode=o,ft=t,Pe=Wt(o.firstChild),Qt=!1,d=!0):d=!1),d||Gn(t)),Kr(t),d=t.type,f=t.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,fu(d,f)?o=null:v!==null&&fu(d,v)&&(t.flags|=32),t.memoizedState!==null&&(d=hc(e,t,hx,null,null,r),$s._currentValue=d),Ii(e,t),pt(e,t,o,r),t.child;case 6:return e===null&&je&&((e=r=Pe)&&(r=Xx(r,t.pendingProps,Qt),r!==null?(t.stateNode=r,ft=t,Pe=null,e=!0):e=!1),e||Gn(t)),null;case 13:return im(e,t,r);case 4:return jt(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Oa(t,null,o,r):pt(e,t,o,r),t.child;case 11:return Qf(e,t,t.type,t.pendingProps,r);case 7:return pt(e,t,t.pendingProps,r),t.child;case 8:return pt(e,t,t.pendingProps.children,r),t.child;case 12:return pt(e,t,t.pendingProps.children,r),t.child;case 10:return o=t.pendingProps,Vn(t,t.type,o.value),pt(e,t,o.children,r),t.child;case 9:return d=t.type._context,o=t.pendingProps.children,Ea(t),d=mt(d),o=o(d),t.flags|=1,pt(e,t,o,r),t.child;case 14:return Xf(e,t,t.type,t.pendingProps,r);case 15:return Wf(e,t,t.type,t.pendingProps,r);case 19:return om(e,t,r);case 31:return bx(e,t,r);case 22:return em(e,t,r,t.pendingProps);case 24:return Ea(t),o=mt(at),e===null?(d=nc(),d===null&&(d=qe,f=ec(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=r),d=f),t.memoizedState={parent:o,cache:d},rc(t),Vn(t,at,d)):((e.lanes&r)!==0&&(sc(e,t),vs(t,null,null,r),gs()),d=e.memoizedState,f=t.memoizedState,d.parent!==o?(d={parent:o,cache:o},t.memoizedState=d,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=d),Vn(t,at,o)):(o=f.cache,Vn(t,at,o),o!==d.cache&&Wo(t,[at],r,!0))),pt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function An(e){e.flags|=4}function Lc(e,t,r,o,d){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Mm())e.flags|=8192;else throw Ca=Ti,ac}else e.flags&=-16777217}function um(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Np(t))if(Mm())e.flags|=8192;else throw Ca=Ti,ac}function Gi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Pd():536870912,e.lanes|=t,br|=t)}function ws(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function jx(e,t,r){var o=t.pendingProps;switch(Ko(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return r=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),wn(at),Qe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(lr(t)?An(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Jo())),Ie(t),null;case 26:var d=t.type,f=t.memoizedState;return e===null?(An(t),f!==null?(Ie(t),um(t,f)):(Ie(t),Lc(t,d,null,o,r))):f?f!==e.memoizedState?(An(t),Ie(t),um(t,f)):(Ie(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&An(t),Ie(t),Lc(t,d,e,o,r)),null;case 27:if(ni(t),r=ve.current,d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&An(t);else{if(!o){if(t.stateNode===null)throw Error(l(166));return Ie(t),null}e=te.current,lr(t)?Ph(t):(e=vp(d,o,r),t.stateNode=e,An(t))}return Ie(t),null;case 5:if(ni(t),d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&An(t);else{if(!o){if(t.stateNode===null)throw Error(l(166));return Ie(t),null}if(f=te.current,lr(t))Ph(t);else{var v=il(ve.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?v.createElement(d,{is:o.is}):v.createElement(d)}}f[ht]=t,f[Nt]=o;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=f;e:switch(gt(f,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&An(t)}}return Ie(t),Lc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&An(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(l(166));if(e=ve.current,lr(t)){if(e=t.stateNode,r=t.memoizedProps,o=null,d=ft,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[ht]=t,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||ip(e.nodeValue,r)),e||Gn(t,!0)}else e=il(e).createTextNode(o),e[ht]=t,t.stateNode=e}return Ie(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(o=lr(t),r!==null){if(e===null){if(!o)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ht]=t}else Sa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),e=!1}else r=Jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ie(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=lr(t),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(l(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[ht]=t}else Sa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),d=!1}else d=Jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=r,t):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=t.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==d&&(o.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Gi(t,t.updateQueue),Ie(t),null);case 4:return Qe(),e===null&&ou(t.stateNode.containerInfo),Ie(t),null;case 10:return wn(t.type),Ie(t),null;case 19:if(P(Xe),o=t.memoizedState,o===null)return Ie(t),null;if(d=(t.flags&128)!==0,f=o.rendering,f===null)if(d)ws(o,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Ri(e),f!==null){for(t.flags|=128,ws(o,!1),e=f.updateQueue,t.updateQueue=e,Gi(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)$h(r,e),r=r.sibling;return J(Xe,Xe.current&1|2),je&&_n(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&Dt()>Ji&&(t.flags|=128,d=!0,ws(o,!1),t.lanes=4194304)}else{if(!d)if(e=Ri(f),e!==null){if(t.flags|=128,d=!0,e=e.updateQueue,t.updateQueue=e,Gi(t,e),ws(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!je)return Ie(t),null}else 2*Dt()-o.renderingStartTime>Ji&&r!==536870912&&(t.flags|=128,d=!0,ws(o,!1),t.lanes=4194304);o.isBackwards?(f.sibling=t.child,t.child=f):(e=o.last,e!==null?e.sibling=f:t.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Dt(),e.sibling=null,r=Xe.current,J(Xe,d?r&1|2:r&1),je&&_n(t,o.treeForkCount),e):(Ie(t),null);case 22:case 23:return Lt(t),cc(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(r&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),r=t.updateQueue,r!==null&&Gi(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==r&&(t.flags|=2048),e!==null&&P(Aa),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wn(at),Ie(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function wx(e,t){switch(Ko(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wn(at),Qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ni(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(l(340));Sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));Sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return P(Xe),null;case 4:return Qe(),null;case 10:return wn(t.type),null;case 22:case 23:return Lt(t),cc(),e!==null&&P(Aa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wn(at),null;case 25:return null;default:return null}}function dm(e,t){switch(Ko(t),t.tag){case 3:wn(at),Qe();break;case 26:case 27:case 5:ni(t);break;case 4:Qe();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:P(Xe);break;case 10:wn(t.type);break;case 22:case 23:Lt(t),cc(),e!==null&&P(Aa);break;case 24:wn(at)}}function Ss(e,t){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&e)===e){o=void 0;var f=r.create,v=r.inst;o=f(),v.destroy=o}r=r.next}while(r!==d)}}catch(b){Oe(t,t.return,b)}}function Xn(e,t,r){try{var o=t.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var f=d.next;o=f;do{if((o.tag&e)===e){var v=o.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,d=t;var N=r,R=b;try{R()}catch(B){Oe(d,N,B)}}}o=o.next}while(o!==f)}}catch(B){Oe(t,t.return,B)}}function hm(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{tf(t,r)}catch(o){Oe(e,e.return,o)}}}function fm(e,t,r){r.props=Ra(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Oe(e,t,o)}}function Ns(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(d){Oe(e,t,d)}}function hn(e,t){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(d){Oe(e,t,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Oe(e,t,d)}else r.current=null}function mm(e){var t=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(d){Oe(e,e.return,d)}}function Hc(e,t,r){try{var o=e.stateNode;Gx(o,e.type,r,t),o[Nt]=t}catch(d){Oe(e,e.return,d)}}function pm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sa(e.type)||e.tag===4}function Pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ic(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yn));else if(o!==4&&(o===27&&sa(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Ic(e,t,r),e=e.sibling;e!==null;)Ic(e,t,r),e=e.sibling}function Vi(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(o===27&&sa(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Vi(e,t,r),e=e.sibling;e!==null;)Vi(e,t,r),e=e.sibling}function gm(e){var t=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,d=t.attributes;d.length;)t.removeAttributeNode(d[0]);gt(t,o,r),t[ht]=e,t[Nt]=r}catch(f){Oe(e,e.return,f)}}var Tn=!1,it=!1,Zc=!1,vm=typeof WeakSet=="function"?WeakSet:Set,dt=null;function Sx(e,t){if(e=e.containerInfo,du=fl,e=Th(e),$o(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var d=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var v=0,b=-1,N=-1,R=0,B=0,H=e,z=null;t:for(;;){for(var D;H!==r||d!==0&&H.nodeType!==3||(b=v+d),H!==f||o!==0&&H.nodeType!==3||(N=v+o),H.nodeType===3&&(v+=H.nodeValue.length),(D=H.firstChild)!==null;)z=H,H=D;for(;;){if(H===e)break t;if(z===r&&++R===d&&(b=v),z===f&&++B===o&&(N=v),(D=H.nextSibling)!==null)break;H=z,z=H.parentNode}H=D}r=b===-1||N===-1?null:{start:b,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(hu={focusedElem:e,selectionRange:r},fl=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){switch(t=dt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)d=e[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=t,d=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var W=Ra(r.type,d);e=o.getSnapshotBeforeUpdate(W,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Oe(r,r.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)pu(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}}function ym(e,t,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:On(e,r),o&4&&Ss(5,r);break;case 1:if(On(e,r),o&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(v){Oe(r,r.return,v)}else{var d=Ra(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(d,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Oe(r,r.return,v)}}o&64&&hm(r),o&512&&Ns(r,r.return);break;case 3:if(On(e,r),o&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{tf(e,t)}catch(v){Oe(r,r.return,v)}}break;case 27:t===null&&o&4&&gm(r);case 26:case 5:On(e,r),t===null&&o&4&&mm(r),o&512&&Ns(r,r.return);break;case 12:On(e,r);break;case 31:On(e,r),o&4&&_m(e,r);break;case 13:On(e,r),o&4&&jm(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=zx.bind(null,r),Wx(e,r))));break;case 22:if(o=r.memoizedState!==null||Tn,!o){t=t!==null&&t.memoizedState!==null||it,d=Tn;var f=it;Tn=o,(it=t)&&!f?kn(e,r,(r.subtreeFlags&8772)!==0):On(e,r),Tn=d,it=f}break;case 30:break;default:On(e,r)}}function xm(e){var t=e.alternate;t!==null&&(e.alternate=null,xm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&bo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,At=!1;function Cn(e,t,r){for(r=r.child;r!==null;)bm(e,t,r),r=r.sibling}function bm(e,t,r){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Fr,r)}catch{}switch(r.tag){case 26:it||hn(r,t),Cn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:it||hn(r,t);var o=Ze,d=At;sa(r.type)&&(Ze=r.stateNode,At=!1),Cn(e,t,r),Ds(r.stateNode),Ze=o,At=d;break;case 5:it||hn(r,t);case 6:if(o=Ze,d=At,Ze=null,Cn(e,t,r),Ze=o,At=d,Ze!==null)if(At)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(r.stateNode)}catch(f){Oe(r,t,f)}else try{Ze.removeChild(r.stateNode)}catch(f){Oe(r,t,f)}break;case 18:Ze!==null&&(At?(e=Ze,hp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Tr(e)):hp(Ze,r.stateNode));break;case 4:o=Ze,d=At,Ze=r.stateNode.containerInfo,At=!0,Cn(e,t,r),Ze=o,At=d;break;case 0:case 11:case 14:case 15:Xn(2,r,t),it||Xn(4,r,t),Cn(e,t,r);break;case 1:it||(hn(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"&&fm(r,t,o)),Cn(e,t,r);break;case 21:Cn(e,t,r);break;case 22:it=(o=it)||r.memoizedState!==null,Cn(e,t,r),it=o;break;default:Cn(e,t,r)}}function _m(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Tr(e)}catch(r){Oe(t,t.return,r)}}}function jm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Tr(e)}catch(r){Oe(t,t.return,r)}}function Nx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new vm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new vm),t;default:throw Error(l(435,e.tag))}}function Yi(e,t){var r=Nx(e);t.forEach(function(o){if(!r.has(o)){r.add(o);var d=Dx.bind(null,e,o);o.then(d,d)}})}function Tt(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var d=r[o],f=e,v=t,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(sa(b.type)){Ze=b.stateNode,At=!1;break e}break;case 5:Ze=b.stateNode,At=!1;break e;case 3:case 4:Ze=b.stateNode.containerInfo,At=!0;break e}b=b.return}if(Ze===null)throw Error(l(160));bm(f,v,d),Ze=null,At=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)wm(t,e),t=t.sibling}var an=null;function wm(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),Ct(e),o&4&&(Xn(3,e,e.return),Ss(3,e),Xn(5,e,e.return));break;case 1:Tt(t,e),Ct(e),o&512&&(it||r===null||hn(r,r.return)),o&64&&Tn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var d=an;if(Tt(t,e),Ct(e),o&512&&(it||r===null||hn(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Xr]||f[ht]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(o),d.head.insertBefore(f,d.querySelector("head > title"))),gt(f,o,r),f[ht]=e,ut(f),o=f;break e;case"link":var v=wp("link","href",d).get(o+(r.href||""));if(v){for(var b=0;b<v.length;b++)if(f=v[b],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(b,1);break t}}f=d.createElement(o),gt(f,o,r),d.head.appendChild(f);break;case"meta":if(v=wp("meta","content",d).get(o+(r.content||""))){for(b=0;b<v.length;b++)if(f=v[b],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(b,1);break t}}f=d.createElement(o),gt(f,o,r),d.head.appendChild(f);break;default:throw Error(l(468,o))}f[ht]=e,ut(f),o=f}e.stateNode=o}else Sp(d,e.type,e.stateNode);else e.stateNode=jp(d,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?Sp(d,e.type,e.stateNode):jp(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Hc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Tt(t,e),Ct(e),o&512&&(it||r===null||hn(r,r.return)),r!==null&&o&4&&Hc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Tt(t,e),Ct(e),o&512&&(it||r===null||hn(r,r.return)),e.flags&32){d=e.stateNode;try{Qa(d,"")}catch(W){Oe(e,e.return,W)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,Hc(e,d,r!==null?r.memoizedProps:d)),o&1024&&(Zc=!0);break;case 6:if(Tt(t,e),Ct(e),o&4){if(e.stateNode===null)throw Error(l(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(W){Oe(e,e.return,W)}}break;case 3:if(cl=null,d=an,an=ll(t.containerInfo),Tt(t,e),an=d,Ct(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Tr(t.containerInfo)}catch(W){Oe(e,e.return,W)}Zc&&(Zc=!1,Sm(e));break;case 4:o=an,an=ll(e.stateNode.containerInfo),Tt(t,e),Ct(e),an=o;break;case 12:Tt(t,e),Ct(e);break;case 31:Tt(t,e),Ct(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yi(e,o)));break;case 13:Tt(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Fi=Dt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yi(e,o)));break;case 22:d=e.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,R=Tn,B=it;if(Tn=R||d,it=B||N,Tt(t,e),it=B,Tn=R,Ct(e),o&8192)e:for(t=e.stateNode,t._visibility=d?t._visibility&-2:t._visibility|1,d&&(r===null||N||Tn||it||za(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){N=r=t;try{if(f=N.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=N.stateNode;var H=N.memoizedProps.style,z=H!=null&&H.hasOwnProperty("display")?H.display:null;b.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(W){Oe(N,N.return,W)}}}else if(t.tag===6){if(r===null){N=t;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(W){Oe(N,N.return,W)}}}else if(t.tag===18){if(r===null){N=t;try{var D=N.stateNode;d?fp(D,!0):fp(N.stateNode,!1)}catch(W){Oe(N,N.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Yi(e,r))));break;case 19:Tt(t,e),Ct(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yi(e,o)));break;case 30:break;case 21:break;default:Tt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var r,o=e.return;o!==null;){if(pm(o)){r=o;break}o=o.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var d=r.stateNode,f=Pc(e);Vi(e,f,d);break;case 5:var v=r.stateNode;r.flags&32&&(Qa(v,""),r.flags&=-33);var b=Pc(e);Vi(e,b,v);break;case 3:case 4:var N=r.stateNode.containerInfo,R=Pc(e);Ic(e,R,N);break;default:throw Error(l(161))}}catch(B){Oe(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Sm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function On(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ym(e,t.alternate,t),t=t.sibling}function za(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Xn(4,t,t.return),za(t);break;case 1:hn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&fm(t,t.return,r),za(t);break;case 27:Ds(t.stateNode);case 26:case 5:hn(t,t.return),za(t);break;case 22:t.memoizedState===null&&za(t);break;case 30:za(t);break;default:za(t)}e=e.sibling}}function kn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,d=e,f=t,v=f.flags;switch(f.tag){case 0:case 11:case 15:kn(d,f,r),Ss(4,f);break;case 1:if(kn(d,f,r),o=f,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(R){Oe(o,o.return,R)}if(o=f,d=o.updateQueue,d!==null){var b=o.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)ef(N[d],b)}catch(R){Oe(o,o.return,R)}}r&&v&64&&hm(f),Ns(f,f.return);break;case 27:gm(f);case 26:case 5:kn(d,f,r),r&&o===null&&v&4&&mm(f),Ns(f,f.return);break;case 12:kn(d,f,r);break;case 31:kn(d,f,r),r&&v&4&&_m(d,f);break;case 13:kn(d,f,r),r&&v&4&&jm(d,f);break;case 22:f.memoizedState===null&&kn(d,f,r),Ns(f,f.return);break;case 30:break;default:kn(d,f,r)}t=t.sibling}}function Gc(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ds(r))}function Vc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ds(e))}function rn(e,t,r,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nm(e,t,r,o),t=t.sibling}function Nm(e,t,r,o){var d=t.flags;switch(t.tag){case 0:case 11:case 15:rn(e,t,r,o),d&2048&&Ss(9,t);break;case 1:rn(e,t,r,o);break;case 3:rn(e,t,r,o),d&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ds(e)));break;case 12:if(d&2048){rn(e,t,r,o),e=t.stateNode;try{var f=t.memoizedProps,v=f.id,b=f.onPostCommit;typeof b=="function"&&b(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Oe(t,t.return,N)}}else rn(e,t,r,o);break;case 31:rn(e,t,r,o);break;case 13:rn(e,t,r,o);break;case 23:break;case 22:f=t.stateNode,v=t.alternate,t.memoizedState!==null?f._visibility&2?rn(e,t,r,o):Es(e,t):f._visibility&2?rn(e,t,r,o):(f._visibility|=2,vr(e,t,r,o,(t.subtreeFlags&10256)!==0||!1)),d&2048&&Gc(v,t);break;case 24:rn(e,t,r,o),d&2048&&Vc(t.alternate,t);break;default:rn(e,t,r,o)}}function vr(e,t,r,o,d){for(d=d&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,v=t,b=r,N=o,R=v.flags;switch(v.tag){case 0:case 11:case 15:vr(f,v,b,N,d),Ss(8,v);break;case 23:break;case 22:var B=v.stateNode;v.memoizedState!==null?B._visibility&2?vr(f,v,b,N,d):Es(f,v):(B._visibility|=2,vr(f,v,b,N,d)),d&&R&2048&&Gc(v.alternate,v);break;case 24:vr(f,v,b,N,d),d&&R&2048&&Vc(v.alternate,v);break;default:vr(f,v,b,N,d)}t=t.sibling}}function Es(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,o=t,d=o.flags;switch(o.tag){case 22:Es(r,o),d&2048&&Gc(o.alternate,o);break;case 24:Es(r,o),d&2048&&Vc(o.alternate,o);break;default:Es(r,o)}t=t.sibling}}var As=8192;function yr(e,t,r){if(e.subtreeFlags&As)for(e=e.child;e!==null;)Em(e,t,r),e=e.sibling}function Em(e,t,r){switch(e.tag){case 26:yr(e,t,r),e.flags&As&&e.memoizedState!==null&&db(r,an,e.memoizedState,e.memoizedProps);break;case 5:yr(e,t,r);break;case 3:case 4:var o=an;an=ll(e.stateNode.containerInfo),yr(e,t,r),an=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=As,As=16777216,yr(e,t,r),As=o):yr(e,t,r));break;default:yr(e,t,r)}}function Am(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ts(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var o=t[r];dt=o,Cm(o,e)}Am(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Tm(e),e=e.sibling}function Tm(e){switch(e.tag){case 0:case 11:case 15:Ts(e),e.flags&2048&&Xn(9,e,e.return);break;case 3:Ts(e);break;case 12:Ts(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ki(e)):Ts(e);break;default:Ts(e)}}function Ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var o=t[r];dt=o,Cm(o,e)}Am(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Xn(8,t,t.return),Ki(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Ki(t));break;default:Ki(t)}e=e.sibling}}function Cm(e,t){for(;dt!==null;){var r=dt;switch(r.tag){case 0:case 11:case 15:Xn(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ds(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,dt=o;else e:for(r=e;dt!==null;){o=dt;var d=o.sibling,f=o.return;if(xm(o),o===r){dt=null;break e}if(d!==null){d.return=f,dt=d;break e}dt=f}}}var Ex={getCacheForType:function(e){var t=mt(at),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return mt(at).controller.signal}},Ax=typeof WeakMap=="function"?WeakMap:Map,Ae=0,qe=null,ye=null,be=0,Ce=0,Ht=null,Wn=!1,xr=!1,Yc=!1,Rn=0,Fe=0,ea=0,Da=0,Kc=0,Pt=0,br=0,Cs=null,Ot=null,Fc=!1,Fi=0,Om=0,Ji=1/0,Qi=null,ta=null,ct=0,na=null,_r=null,zn=0,Jc=0,Qc=null,km=null,Os=0,Xc=null;function It(){return(Ae&2)!==0&&be!==0?be&-be:$.T!==null?ru():Vd()}function Rm(){if(Pt===0)if((be&536870912)===0||je){var e=si;si<<=1,(si&3932160)===0&&(si=262144),Pt=e}else Pt=536870912;return e=Bt.current,e!==null&&(e.flags|=32),Pt}function kt(e,t,r){(e===qe&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(jr(e,0),aa(e,be,Pt,!1)),Qr(e,r),((Ae&2)===0||e!==qe)&&(e===qe&&((Ae&2)===0&&(Da|=r),Fe===4&&aa(e,be,Pt,!1)),fn(e))}function zm(e,t,r){if((Ae&6)!==0)throw Error(l(327));var o=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Jr(e,t),d=o?Ox(e,t):eu(e,t,!0),f=o;do{if(d===0){xr&&!o&&aa(e,t,0,!1);break}else{if(r=e.current.alternate,f&&!Tx(r)){d=eu(e,t,!1),f=!1;continue}if(d===2){if(f=t,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var b=e;d=Cs;var N=b.current.memoizedState.isDehydrated;if(N&&(jr(b,v).flags|=256),v=eu(b,v,!1),v!==2){if(Yc&&!N){b.errorRecoveryDisabledLanes|=f,Da|=f,d=4;break e}f=Ot,Ot=d,f!==null&&(Ot===null?Ot=f:Ot.push.apply(Ot,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){jr(e,0),aa(e,t,0,!0);break}e:{switch(o=e,f=d,f){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:aa(o,t,Pt,!Wn);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(d=Fi+300-Dt(),10<d)){if(aa(o,t,Pt,!Wn),li(o,0,!0)!==0)break e;zn=t,o.timeoutHandle=up(Dm.bind(null,o,r,Ot,Qi,Fc,t,Pt,Da,br,Wn,f,"Throttled",-0,0),d);break e}Dm(o,r,Ot,Qi,Fc,t,Pt,Da,br,Wn,f,null,-0,0)}}break}while(!0);fn(e)}function Dm(e,t,r,o,d,f,v,b,N,R,B,H,z,D){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},Em(t,f,H);var W=(f&62914560)===f?Fi-Dt():(f&4194048)===f?Om-Dt():0;if(W=hb(H,W),W!==null){zn=f,e.cancelPendingCommit=W(Pm.bind(null,e,t,f,r,o,d,v,b,N,B,H,null,z,D)),aa(e,f,v,!R);return}}Pm(e,t,f,r,o,d,v,b,N)}function Tx(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var d=r[o],f=d.getSnapshot;d=d.value;try{if(!$t(f(),d))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function aa(e,t,r,o){t&=~Kc,t&=~Da,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var d=t;0<d;){var f=31-Mt(d),v=1<<f;o[f]=-1,d&=~v}r!==0&&Id(e,r,t)}function Xi(){return(Ae&6)===0?(ks(0),!1):!0}function Wc(){if(ye!==null){if(Ce===0)var e=ye.return;else e=ye,jn=Na=null,pc(e),hr=null,fs=0,e=ye;for(;e!==null;)dm(e.alternate,e),e=e.return;ye=null}}function jr(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Kx(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),zn=0,Wc(),qe=e,ye=r=bn(e.current,null),be=t,Ce=0,Ht=null,Wn=!1,xr=Jr(e,t),Yc=!1,br=Pt=Kc=Da=ea=Fe=0,Ot=Cs=null,Fc=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var d=31-Mt(o),f=1<<d;t|=e[d],o&=~f}return Rn=t,xi(),r}function Um(e,t){pe=null,$.H=_s,t===dr||t===Ai?(t=Jh(),Ce=3):t===ac?(t=Jh(),Ce=4):Ce=t===kc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ht=t,ye===null&&(Fe=1,Hi(e,Kt(t,e.current)))}function Mm(){var e=Bt.current;return e===null?!0:(be&4194048)===be?Xt===null:(be&62914560)===be||(be&536870912)!==0?e===Xt:!1}function $m(){var e=$.H;return $.H=_s,e===null?_s:e}function qm(){var e=$.A;return $.A=Ex,e}function Wi(){Fe=4,Wn||(be&4194048)!==be&&Bt.current!==null||(xr=!0),(ea&134217727)===0&&(Da&134217727)===0||qe===null||aa(qe,be,Pt,!1)}function eu(e,t,r){var o=Ae;Ae|=2;var d=$m(),f=qm();(qe!==e||be!==t)&&(Qi=null,jr(e,t)),t=!1;var v=Fe;e:do try{if(Ce!==0&&ye!==null){var b=ye,N=Ht;switch(Ce){case 8:Wc(),v=6;break e;case 3:case 2:case 9:case 6:Bt.current===null&&(t=!0);var R=Ce;if(Ce=0,Ht=null,wr(e,b,N,R),r&&xr){v=0;break e}break;default:R=Ce,Ce=0,Ht=null,wr(e,b,N,R)}}Cx(),v=Fe;break}catch(B){Um(e,B)}while(!0);return t&&e.shellSuspendCounter++,jn=Na=null,Ae=o,$.H=d,$.A=f,ye===null&&(qe=null,be=0,xi()),v}function Cx(){for(;ye!==null;)Bm(ye)}function Ox(e,t){var r=Ae;Ae|=2;var o=$m(),d=qm();qe!==e||be!==t?(Qi=null,Ji=Dt()+500,jr(e,t)):xr=Jr(e,t);e:do try{if(Ce!==0&&ye!==null){t=ye;var f=Ht;t:switch(Ce){case 1:Ce=0,Ht=null,wr(e,t,f,1);break;case 2:case 9:if(Kh(f)){Ce=0,Ht=null,Lm(t);break}t=function(){Ce!==2&&Ce!==9||qe!==e||(Ce=7),fn(e)},f.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Kh(f)?(Ce=0,Ht=null,Lm(t)):(Ce=0,Ht=null,wr(e,t,f,7));break;case 5:var v=null;switch(ye.tag){case 26:v=ye.memoizedState;case 5:case 27:var b=ye;if(v?Np(v):b.stateNode.complete){Ce=0,Ht=null;var N=b.sibling;if(N!==null)ye=N;else{var R=b.return;R!==null?(ye=R,el(R)):ye=null}break t}}Ce=0,Ht=null,wr(e,t,f,5);break;case 6:Ce=0,Ht=null,wr(e,t,f,6);break;case 8:Wc(),Fe=6;break e;default:throw Error(l(462))}}kx();break}catch(B){Um(e,B)}while(!0);return jn=Na=null,$.H=o,$.A=d,Ae=r,ye!==null?0:(qe=null,be=0,xi(),Fe)}function kx(){for(;ye!==null&&!ey();)Bm(ye)}function Bm(e){var t=cm(e.alternate,e,Rn);e.memoizedProps=e.pendingProps,t===null?el(e):ye=t}function Lm(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=am(r,t,t.pendingProps,t.type,void 0,be);break;case 11:t=am(r,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:pc(t);default:dm(r,t),t=ye=$h(t,Rn),t=cm(r,t,Rn)}e.memoizedProps=e.pendingProps,t===null?el(e):ye=t}function wr(e,t,r,o){jn=Na=null,pc(t),hr=null,fs=0;var d=t.return;try{if(xx(e,d,t,r,be)){Fe=1,Hi(e,Kt(r,e.current)),ye=null;return}}catch(f){if(d!==null)throw ye=d,f;Fe=1,Hi(e,Kt(r,e.current)),ye=null;return}t.flags&32768?(je||o===1?e=!0:xr||(be&536870912)!==0?e=!1:(Wn=e=!0,(o===2||o===9||o===3||o===6)&&(o=Bt.current,o!==null&&o.tag===13&&(o.flags|=16384))),Hm(t,e)):el(t)}function el(e){var t=e;do{if((t.flags&32768)!==0){Hm(t,Wn);return}e=t.return;var r=jx(t.alternate,t,Rn);if(r!==null){ye=r;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Fe===0&&(Fe=5)}function Hm(e,t){do{var r=wx(e.alternate,e);if(r!==null){r.flags&=32767,ye=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=r}while(e!==null);Fe=6,ye=null}function Pm(e,t,r,o,d,f,v,b,N){e.cancelPendingCommit=null;do tl();while(ct!==0);if((Ae&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(f=t.lanes|t.childLanes,f|=Po,uy(e,r,f,v,b,N),e===qe&&(ye=qe=null,be=0),_r=t,na=e,zn=r,Jc=f,Qc=d,km=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ux(ai,function(){return Ym(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,d=G.p,G.p=2,v=Ae,Ae|=4;try{Sx(e,t,r)}finally{Ae=v,G.p=d,$.T=o}}ct=1,Im(),Zm(),Gm()}}function Im(){if(ct===1){ct=0;var e=na,t=_r,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=$.T,$.T=null;var o=G.p;G.p=2;var d=Ae;Ae|=4;try{wm(t,e);var f=hu,v=Th(e.containerInfo),b=f.focusedElem,N=f.selectionRange;if(v!==b&&b&&b.ownerDocument&&Ah(b.ownerDocument.documentElement,b)){if(N!==null&&$o(b)){var R=N.start,B=N.end;if(B===void 0&&(B=R),"selectionStart"in b)b.selectionStart=R,b.selectionEnd=Math.min(B,b.value.length);else{var H=b.ownerDocument||document,z=H&&H.defaultView||window;if(z.getSelection){var D=z.getSelection(),W=b.textContent.length,oe=Math.min(N.start,W),Ue=N.end===void 0?oe:Math.min(N.end,W);!D.extend&&oe>Ue&&(v=Ue,Ue=oe,oe=v);var C=Eh(b,oe),E=Eh(b,Ue);if(C&&E&&(D.rangeCount!==1||D.anchorNode!==C.node||D.anchorOffset!==C.offset||D.focusNode!==E.node||D.focusOffset!==E.offset)){var k=H.createRange();k.setStart(C.node,C.offset),D.removeAllRanges(),oe>Ue?(D.addRange(k),D.extend(E.node,E.offset)):(k.setEnd(E.node,E.offset),D.addRange(k))}}}}for(H=[],D=b;D=D.parentNode;)D.nodeType===1&&H.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<H.length;b++){var L=H[b];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}fl=!!du,hu=du=null}finally{Ae=d,G.p=o,$.T=r}}e.current=t,ct=2}}function Zm(){if(ct===2){ct=0;var e=na,t=_r,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=$.T,$.T=null;var o=G.p;G.p=2;var d=Ae;Ae|=4;try{ym(e,t.alternate,t)}finally{Ae=d,G.p=o,$.T=r}}ct=3}}function Gm(){if(ct===4||ct===3){ct=0,ty();var e=na,t=_r,r=zn,o=km;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ct=5:(ct=0,_r=na=null,Vm(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(ta=null),yo(r),t=t.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Fr,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=$.T,d=G.p,G.p=2,$.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var b=o[v];f(b.value,{componentStack:b.stack})}}finally{$.T=t,G.p=d}}(zn&3)!==0&&tl(),fn(e),d=e.pendingLanes,(r&261930)!==0&&(d&42)!==0?e===Xc?Os++:(Os=0,Xc=e):Os=0,ks(0)}}function Vm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ds(t)))}function tl(){return Im(),Zm(),Gm(),Ym()}function Ym(){if(ct!==5)return!1;var e=na,t=Jc;Jc=0;var r=yo(zn),o=$.T,d=G.p;try{G.p=32>r?32:r,$.T=null,r=Qc,Qc=null;var f=na,v=zn;if(ct=0,_r=na=null,zn=0,(Ae&6)!==0)throw Error(l(331));var b=Ae;if(Ae|=4,Tm(f.current),Nm(f,f.current,v,r),Ae=b,ks(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Fr,f)}catch{}return!0}finally{G.p=d,$.T=o,Vm(e,t)}}function Km(e,t,r){t=Kt(r,t),t=Oc(e.stateNode,t,2),e=Fn(e,t,2),e!==null&&(Qr(e,2),fn(e))}function Oe(e,t,r){if(e.tag===3)Km(e,e,r);else for(;t!==null;){if(t.tag===3){Km(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ta===null||!ta.has(o))){e=Kt(r,e),r=Ff(2),o=Fn(t,r,2),o!==null&&(Jf(r,o,t,e),Qr(o,2),fn(o));break}}t=t.return}}function tu(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Ax;var d=new Set;o.set(t,d)}else d=o.get(t),d===void 0&&(d=new Set,o.set(t,d));d.has(r)||(Yc=!0,d.add(r),e=Rx.bind(null,e,t,r),t.then(e,e))}function Rx(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,qe===e&&(be&r)===r&&(Fe===4||Fe===3&&(be&62914560)===be&&300>Dt()-Fi?(Ae&2)===0&&jr(e,0):Kc|=r,br===be&&(br=0)),fn(e)}function Fm(e,t){t===0&&(t=Pd()),e=ja(e,t),e!==null&&(Qr(e,t),fn(e))}function zx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Fm(e,r)}function Dx(e,t){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(l(314))}o!==null&&o.delete(t),Fm(e,r)}function Ux(e,t){return mo(e,t)}var nl=null,Sr=null,nu=!1,al=!1,au=!1,ra=0;function fn(e){e!==Sr&&e.next===null&&(Sr===null?nl=Sr=e:Sr=Sr.next=e),al=!0,nu||(nu=!0,$x())}function ks(e,t){if(!au&&al){au=!0;do for(var r=!1,o=nl;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var f=0;else{var v=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-Mt(42|e)+1)-1,f&=d&~(v&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Wm(o,f))}else f=be,f=li(o,o===qe?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Jr(o,f)||(r=!0,Wm(o,f));o=o.next}while(r);au=!1}}function Mx(){Jm()}function Jm(){al=nu=!1;var e=0;ra!==0&&Yx()&&(e=ra);for(var t=Dt(),r=null,o=nl;o!==null;){var d=o.next,f=Qm(o,t);f===0?(o.next=null,r===null?nl=d:r.next=d,d===null&&(Sr=r)):(r=o,(e!==0||(f&3)!==0)&&(al=!0)),o=d}ct!==0&&ct!==5||ks(e),ra!==0&&(ra=0)}function Qm(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Mt(f),b=1<<v,N=d[v];N===-1?((b&r)===0||(b&o)!==0)&&(d[v]=cy(b,t)):N<=t&&(e.expiredLanes|=b),f&=~b}if(t=qe,r=be,r=li(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&po(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Jr(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(o!==null&&po(o),yo(r)){case 2:case 8:r=Ld;break;case 32:r=ai;break;case 268435456:r=Hd;break;default:r=ai}return o=Xm.bind(null,e),r=mo(r,o),e.callbackPriority=t,e.callbackNode=r,t}return o!==null&&o!==null&&po(o),e.callbackPriority=2,e.callbackNode=null,2}function Xm(e,t){if(ct!==0&&ct!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(tl()&&e.callbackNode!==r)return null;var o=be;return o=li(e,e===qe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(zm(e,o,t),Qm(e,Dt()),e.callbackNode!=null&&e.callbackNode===r?Xm.bind(null,e):null)}function Wm(e,t){if(tl())return null;zm(e,t,!0)}function $x(){Fx(function(){(Ae&6)!==0?mo(Bd,Mx):Jm()})}function ru(){if(ra===0){var e=cr;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),ra=e}return ra}function ep(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:di(""+e)}function tp(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function qx(e,t,r,o,d){if(t==="submit"&&r&&r.stateNode===d){var f=ep((d[Nt]||null).action),v=o.submitter;v&&(t=(t=v[Nt]||null)?ep(t.formAction):v.getAttribute("formAction"),t!==null&&(f=t,v=null));var b=new pi("action","action",null,o,d);e.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ra!==0){var N=v?tp(d,v):new FormData(d);Sc(r,{pending:!0,data:N,method:d.method,action:f},null,N)}}else typeof f=="function"&&(b.preventDefault(),N=v?tp(d,v):new FormData(d),Sc(r,{pending:!0,data:N,method:d.method,action:f},f,N))},currentTarget:d}]})}}for(var su=0;su<Ho.length;su++){var iu=Ho[su],Bx=iu.toLowerCase(),Lx=iu[0].toUpperCase()+iu.slice(1);nn(Bx,"on"+Lx)}nn(kh,"onAnimationEnd"),nn(Rh,"onAnimationIteration"),nn(zh,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(nx,"onTransitionRun"),nn(ax,"onTransitionStart"),nn(rx,"onTransitionCancel"),nn(Dh,"onTransitionEnd"),Fa("onMouseEnter",["mouseout","mouseover"]),Fa("onMouseLeave",["mouseout","mouseover"]),Fa("onPointerEnter",["pointerout","pointerover"]),Fa("onPointerLeave",["pointerout","pointerover"]),ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ya("onBeforeInput",["compositionend","keypress","textInput","paste"]),ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rs));function np(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],d=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var v=o.length-1;0<=v;v--){var b=o[v],N=b.instance,R=b.currentTarget;if(b=b.listener,N!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=R;try{f(d)}catch(B){yi(B)}d.currentTarget=null,f=N}else for(v=0;v<o.length;v++){if(b=o[v],N=b.instance,R=b.currentTarget,b=b.listener,N!==f&&d.isPropagationStopped())break e;f=b,d.currentTarget=R;try{f(d)}catch(B){yi(B)}d.currentTarget=null,f=N}}}}function xe(e,t){var r=t[xo];r===void 0&&(r=t[xo]=new Set);var o=e+"__bubble";r.has(o)||(ap(t,e,2,!1),r.add(o))}function lu(e,t,r){var o=0;t&&(o|=4),ap(r,e,o,t)}var rl="_reactListening"+Math.random().toString(36).slice(2);function ou(e){if(!e[rl]){e[rl]=!0,Fd.forEach(function(r){r!=="selectionchange"&&(Hx.has(r)||lu(r,!1,e),lu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rl]||(t[rl]=!0,lu("selectionchange",!1,t))}}function ap(e,t,r,o){switch(Rp(t)){case 2:var d=pb;break;case 8:d=gb;break;default:d=wu}r=d.bind(null,t,r,e),d=void 0,!To||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(t,r,{capture:!0,passive:d}):e.addEventListener(t,r,!0):d!==void 0?e.addEventListener(t,r,{passive:d}):e.addEventListener(t,r,!1)}function cu(e,t,r,o,d){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var b=o.stateNode.containerInfo;if(b===d)break;if(v===4)for(v=o.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;b!==null;){if(v=Va(b),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){o=f=v;continue e}b=b.parentNode}}o=o.return}lh(function(){var R=f,B=Eo(r),H=[];e:{var z=Uh.get(e);if(z!==void 0){var D=pi,W=e;switch(e){case"keypress":if(fi(r)===0)break e;case"keydown":case"keyup":D=Dy;break;case"focusin":W="focus",D=Ro;break;case"focusout":W="blur",D=Ro;break;case"beforeblur":case"afterblur":D=Ro;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=uh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=jy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=$y;break;case kh:case Rh:case zh:D=Ny;break;case Dh:D=By;break;case"scroll":case"scrollend":D=by;break;case"wheel":D=Hy;break;case"copy":case"cut":case"paste":D=Ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=hh;break;case"toggle":case"beforetoggle":D=Iy}var oe=(t&4)!==0,Ue=!oe&&(e==="scroll"||e==="scrollend"),C=oe?z!==null?z+"Capture":null:z;oe=[];for(var E=R,k;E!==null;){var L=E;if(k=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||k===null||C===null||(L=es(E,C),L!=null&&oe.push(zs(E,L,k))),Ue)break;E=E.return}0<oe.length&&(z=new D(z,W,null,r,B),H.push({event:z,listeners:oe}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",z&&r!==No&&(W=r.relatedTarget||r.fromElement)&&(Va(W)||W[Ga]))break e;if((D||z)&&(z=B.window===B?B:(z=B.ownerDocument)?z.defaultView||z.parentWindow:window,D?(W=r.relatedTarget||r.toElement,D=R,W=W?Va(W):null,W!==null&&(Ue=u(W),oe=W.tag,W!==Ue||oe!==5&&oe!==27&&oe!==6)&&(W=null)):(D=null,W=R),D!==W)){if(oe=uh,L="onMouseLeave",C="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(oe=hh,L="onPointerLeave",C="onPointerEnter",E="pointer"),Ue=D==null?z:Wr(D),k=W==null?z:Wr(W),z=new oe(L,E+"leave",D,r,B),z.target=Ue,z.relatedTarget=k,L=null,Va(B)===R&&(oe=new oe(C,E+"enter",W,r,B),oe.target=k,oe.relatedTarget=Ue,L=oe),Ue=L,D&&W)t:{for(oe=Px,C=D,E=W,k=0,L=C;L;L=oe(L))k++;L=0;for(var ie=E;ie;ie=oe(ie))L++;for(;0<k-L;)C=oe(C),k--;for(;0<L-k;)E=oe(E),L--;for(;k--;){if(C===E||E!==null&&C===E.alternate){oe=C;break t}C=oe(C),E=oe(E)}oe=null}else oe=null;D!==null&&rp(H,z,D,oe,!1),W!==null&&Ue!==null&&rp(H,Ue,W,oe,!0)}}e:{if(z=R?Wr(R):window,D=z.nodeName&&z.nodeName.toLowerCase(),D==="select"||D==="input"&&z.type==="file")var Ne=bh;else if(yh(z))if(_h)Ne=Wy;else{Ne=Qy;var ne=Jy}else D=z.nodeName,!D||D.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?R&&So(R.elementType)&&(Ne=bh):Ne=Xy;if(Ne&&(Ne=Ne(e,R))){xh(H,Ne,r,B);break e}ne&&ne(e,z,R),e==="focusout"&&R&&z.type==="number"&&R.memoizedProps.value!=null&&wo(z,"number",z.value)}switch(ne=R?Wr(R):window,e){case"focusin":(yh(ne)||ne.contentEditable==="true")&&(tr=ne,qo=R,os=null);break;case"focusout":os=qo=tr=null;break;case"mousedown":Bo=!0;break;case"contextmenu":case"mouseup":case"dragend":Bo=!1,Ch(H,r,B);break;case"selectionchange":if(tx)break;case"keydown":case"keyup":Ch(H,r,B)}var ge;if(Do)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else er?gh(e,r)&&(_e="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_e="onCompositionStart");_e&&(fh&&r.locale!=="ko"&&(er||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&er&&(ge=oh()):(Pn=B,Co="value"in Pn?Pn.value:Pn.textContent,er=!0)),ne=sl(R,_e),0<ne.length&&(_e=new dh(_e,e,null,r,B),H.push({event:_e,listeners:ne}),ge?_e.data=ge:(ge=vh(r),ge!==null&&(_e.data=ge)))),(ge=Gy?Vy(e,r):Yy(e,r))&&(_e=sl(R,"onBeforeInput"),0<_e.length&&(ne=new dh("onBeforeInput","beforeinput",null,r,B),H.push({event:ne,listeners:_e}),ne.data=ge)),qx(H,e,R,r,B)}np(H,t)})}function zs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function sl(e,t){for(var r=t+"Capture",o=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=es(e,r),d!=null&&o.unshift(zs(e,d,f)),d=es(e,t),d!=null&&o.push(zs(e,d,f))),e.tag===3)return o;e=e.return}return[]}function Px(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rp(e,t,r,o,d){for(var f=t._reactName,v=[];r!==null&&r!==o;){var b=r,N=b.alternate,R=b.stateNode;if(b=b.tag,N!==null&&N===o)break;b!==5&&b!==26&&b!==27||R===null||(N=R,d?(R=es(r,f),R!=null&&v.unshift(zs(r,R,N))):d||(R=es(r,f),R!=null&&v.push(zs(r,R,N)))),r=r.return}v.length!==0&&e.push({event:t,listeners:v})}var Ix=/\r\n?/g,Zx=/\u0000|\uFFFD/g;function sp(e){return(typeof e=="string"?e:""+e).replace(Ix,`
`).replace(Zx,"")}function ip(e,t){return t=sp(t),sp(e)===t}function De(e,t,r,o,d,f){switch(r){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||Qa(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&Qa(e,""+o);break;case"className":ci(e,"class",o);break;case"tabIndex":ci(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(e,r,o);break;case"style":sh(e,o,f);break;case"data":if(t!=="object"){ci(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=di(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(t!=="input"&&De(e,t,"name",d.name,d,null),De(e,t,"formEncType",d.formEncType,d,null),De(e,t,"formMethod",d.formMethod,d,null),De(e,t,"formTarget",d.formTarget,d,null)):(De(e,t,"encType",d.encType,d,null),De(e,t,"method",d.method,d,null),De(e,t,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=di(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=yn);break;case"onScroll":o!=null&&xe("scroll",e);break;case"onScrollEnd":o!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=di(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":xe("beforetoggle",e),xe("toggle",e),oi(e,"popover",o);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":oi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=yy.get(r)||r,oi(e,r,o))}}function uu(e,t,r,o,d,f){switch(r){case"style":sh(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Qa(e,o):(typeof o=="number"||typeof o=="bigint")&&Qa(e,""+o);break;case"onScroll":o!=null&&xe("scroll",e);break;case"onScrollEnd":o!=null&&xe("scrollend",e);break;case"onClick":o!=null&&(e.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),t=r.slice(2,d?r.length-7:void 0),f=e[Nt]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(t,f,d),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,o,d);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):oi(e,r,o)}}}function gt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var o=!1,d=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:De(e,t,f,v,r,null)}}d&&De(e,t,"srcSet",r.srcSet,r,null),o&&De(e,t,"src",r.src,r,null);return;case"input":xe("invalid",e);var b=f=v=d=null,N=null,R=null;for(o in r)if(r.hasOwnProperty(o)){var B=r[o];if(B!=null)switch(o){case"name":d=B;break;case"type":v=B;break;case"checked":N=B;break;case"defaultChecked":R=B;break;case"value":f=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(l(137,t));break;default:De(e,t,o,B,r,null)}}th(e,f,b,N,R,v,d,!1);return;case"select":xe("invalid",e),o=v=f=null;for(d in r)if(r.hasOwnProperty(d)&&(b=r[d],b!=null))switch(d){case"value":f=b;break;case"defaultValue":v=b;break;case"multiple":o=b;default:De(e,t,d,b,r,null)}t=f,r=v,e.multiple=!!o,t!=null?Ja(e,!!o,t,!1):r!=null&&Ja(e,!!o,r,!0);return;case"textarea":xe("invalid",e),f=d=o=null;for(v in r)if(r.hasOwnProperty(v)&&(b=r[v],b!=null))switch(v){case"value":o=b;break;case"defaultValue":d=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(l(91));break;default:De(e,t,v,b,r,null)}ah(e,o,d,f);return;case"option":for(N in r)if(r.hasOwnProperty(N)&&(o=r[N],o!=null))switch(N){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:De(e,t,N,o,r,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(o=0;o<Rs.length;o++)xe(Rs[o],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:De(e,t,R,o,r,null)}return;default:if(So(t)){for(B in r)r.hasOwnProperty(B)&&(o=r[B],o!==void 0&&uu(e,t,B,o,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(o=r[b],o!=null&&De(e,t,b,o,r,null))}function Gx(e,t,r,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,b=null,N=null,R=null,B=null;for(D in r){var H=r[D];if(r.hasOwnProperty(D)&&H!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":N=H;default:o.hasOwnProperty(D)||De(e,t,D,null,o,H)}}for(var z in o){var D=o[z];if(H=r[z],o.hasOwnProperty(z)&&(D!=null||H!=null))switch(z){case"type":f=D;break;case"name":d=D;break;case"checked":R=D;break;case"defaultChecked":B=D;break;case"value":v=D;break;case"defaultValue":b=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:D!==H&&De(e,t,z,D,o,H)}}jo(e,v,b,N,R,B,f,d);return;case"select":D=v=b=z=null;for(f in r)if(N=r[f],r.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":D=N;default:o.hasOwnProperty(f)||De(e,t,f,null,o,N)}for(d in o)if(f=o[d],N=r[d],o.hasOwnProperty(d)&&(f!=null||N!=null))switch(d){case"value":z=f;break;case"defaultValue":b=f;break;case"multiple":v=f;default:f!==N&&De(e,t,d,f,o,N)}t=b,r=v,o=D,z!=null?Ja(e,!!r,z,!1):!!o!=!!r&&(t!=null?Ja(e,!!r,t,!0):Ja(e,!!r,r?[]:"",!1));return;case"textarea":D=z=null;for(b in r)if(d=r[b],r.hasOwnProperty(b)&&d!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:De(e,t,b,null,o,d)}for(v in o)if(d=o[v],f=r[v],o.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":z=d;break;case"defaultValue":D=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(l(91));break;default:d!==f&&De(e,t,v,d,o,f)}nh(e,z,D);return;case"option":for(var W in r)if(z=r[W],r.hasOwnProperty(W)&&z!=null&&!o.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:De(e,t,W,null,o,z)}for(N in o)if(z=o[N],D=r[N],o.hasOwnProperty(N)&&z!==D&&(z!=null||D!=null))switch(N){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:De(e,t,N,z,o,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in r)z=r[oe],r.hasOwnProperty(oe)&&z!=null&&!o.hasOwnProperty(oe)&&De(e,t,oe,null,o,z);for(R in o)if(z=o[R],D=r[R],o.hasOwnProperty(R)&&z!==D&&(z!=null||D!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:De(e,t,R,z,o,D)}return;default:if(So(t)){for(var Ue in r)z=r[Ue],r.hasOwnProperty(Ue)&&z!==void 0&&!o.hasOwnProperty(Ue)&&uu(e,t,Ue,void 0,o,z);for(B in o)z=o[B],D=r[B],!o.hasOwnProperty(B)||z===D||z===void 0&&D===void 0||uu(e,t,B,z,o,D);return}}for(var C in r)z=r[C],r.hasOwnProperty(C)&&z!=null&&!o.hasOwnProperty(C)&&De(e,t,C,null,o,z);for(H in o)z=o[H],D=r[H],!o.hasOwnProperty(H)||z===D||z==null&&D==null||De(e,t,H,z,o,D)}function lp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var d=r[o],f=d.transferSize,v=d.initiatorType,b=d.duration;if(f&&b&&lp(v)){for(v=0,b=d.responseEnd,o+=1;o<r.length;o++){var N=r[o],R=N.startTime;if(R>b)break;var B=N.transferSize,H=N.initiatorType;B&&lp(H)&&(N=N.responseEnd,v+=B*(N<b?1:(b-R)/(N-R)))}if(--o,t+=8*(f+v)/(d.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var du=null,hu=null;function il(e){return e.nodeType===9?e:e.ownerDocument}function op(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mu=null;function Yx(){var e=window.event;return e&&e.type==="popstate"?e===mu?!1:(mu=e,!0):(mu=null,!1)}var up=typeof setTimeout=="function"?setTimeout:void 0,Kx=typeof clearTimeout=="function"?clearTimeout:void 0,dp=typeof Promise=="function"?Promise:void 0,Fx=typeof queueMicrotask=="function"?queueMicrotask:typeof dp<"u"?function(e){return dp.resolve(null).then(e).catch(Jx)}:up;function Jx(e){setTimeout(function(){throw e})}function sa(e){return e==="head"}function hp(e,t){var r=t,o=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(d),Tr(t);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Ds(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Ds(r);for(var f=r.firstChild;f;){var v=f.nextSibling,b=f.nodeName;f[Xr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=v}}else r==="body"&&Ds(e.ownerDocument.body);r=d}while(r);Tr(t)}function fp(e,t){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function pu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":pu(r),bo(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Qx(e,t,r,o){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Xr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function Xx(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Wt(e.nextSibling),e===null))return null;return e}function mp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Wt(e.nextSibling),e===null))return null;return e}function gu(e){return e.data==="$?"||e.data==="$~"}function vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Wx(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var o=function(){t(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var yu=null;function pp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Wt(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function gp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function vp(e,t,r){switch(t=il(r),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Ds(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);bo(e)}var en=new Map,yp=new Set;function ll(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dn=G.d;G.d={f:eb,r:tb,D:nb,C:ab,L:rb,m:sb,X:lb,S:ib,M:ob};function eb(){var e=Dn.f(),t=Xi();return e||t}function tb(e){var t=Ya(e);t!==null&&t.tag===5&&t.type==="form"?Uf(t):Dn.r(e)}var Nr=typeof document>"u"?null:document;function xp(e,t,r){var o=Nr;if(o&&typeof t=="string"&&t){var d=Vt(t);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),yp.has(d)||(yp.add(d),e={rel:e,crossOrigin:r,href:t},o.querySelector(d)===null&&(t=o.createElement("link"),gt(t,"link",e),ut(t),o.head.appendChild(t)))}}function nb(e){Dn.D(e),xp("dns-prefetch",e,null)}function ab(e,t){Dn.C(e,t),xp("preconnect",e,t)}function rb(e,t,r){Dn.L(e,t,r);var o=Nr;if(o&&e&&t){var d='link[rel="preload"][as="'+Vt(t)+'"]';t==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+Vt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+Vt(r.imageSizes)+'"]')):d+='[href="'+Vt(e)+'"]';var f=d;switch(t){case"style":f=Er(e);break;case"script":f=Ar(e)}en.has(f)||(e=_({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),en.set(f,e),o.querySelector(d)!==null||t==="style"&&o.querySelector(Us(f))||t==="script"&&o.querySelector(Ms(f))||(t=o.createElement("link"),gt(t,"link",e),ut(t),o.head.appendChild(t)))}}function sb(e,t){Dn.m(e,t);var r=Nr;if(r&&e){var o=t&&typeof t.as=="string"?t.as:"script",d='link[rel="modulepreload"][as="'+Vt(o)+'"][href="'+Vt(e)+'"]',f=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ar(e)}if(!en.has(f)&&(e=_({rel:"modulepreload",href:e},t),en.set(f,e),r.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ms(f)))return}o=r.createElement("link"),gt(o,"link",e),ut(o),r.head.appendChild(o)}}}function ib(e,t,r){Dn.S(e,t,r);var o=Nr;if(o&&e){var d=Ka(o).hoistableStyles,f=Er(e);t=t||"default";var v=d.get(f);if(!v){var b={loading:0,preload:null};if(v=o.querySelector(Us(f)))b.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},r),(r=en.get(f))&&xu(e,r);var N=v=o.createElement("link");ut(N),gt(N,"link",e),N._p=new Promise(function(R,B){N.onload=R,N.onerror=B}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,ol(v,t,o)}v={type:"stylesheet",instance:v,count:1,state:b},d.set(f,v)}}}function lb(e,t){Dn.X(e,t);var r=Nr;if(r&&e){var o=Ka(r).hoistableScripts,d=Ar(e),f=o.get(d);f||(f=r.querySelector(Ms(d)),f||(e=_({src:e,async:!0},t),(t=en.get(d))&&bu(e,t),f=r.createElement("script"),ut(f),gt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function ob(e,t){Dn.M(e,t);var r=Nr;if(r&&e){var o=Ka(r).hoistableScripts,d=Ar(e),f=o.get(d);f||(f=r.querySelector(Ms(d)),f||(e=_({src:e,async:!0,type:"module"},t),(t=en.get(d))&&bu(e,t),f=r.createElement("script"),ut(f),gt(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function bp(e,t,r,o){var d=(d=ve.current)?ll(d):null;if(!d)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Er(r.href),r=Ka(d).hoistableStyles,o=r.get(t),o||(o={type:"style",instance:null,count:0,state:null},r.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Er(r.href);var f=Ka(d).hoistableStyles,v=f.get(e);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=d.querySelector(Us(e)))&&!f._p&&(v.instance=f,v.state.loading=5),en.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},en.set(e,r),f||cb(d,e,r,v.state))),t&&o===null)throw Error(l(528,""));return v}if(t&&o!==null)throw Error(l(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ar(r),r=Ka(d).hoistableScripts,o=r.get(t),o||(o={type:"script",instance:null,count:0,state:null},r.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Er(e){return'href="'+Vt(e)+'"'}function Us(e){return'link[rel="stylesheet"]['+e+"]"}function _p(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function cb(e,t,r,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),gt(t,"link",r),ut(t),e.head.appendChild(t))}function Ar(e){return'[src="'+Vt(e)+'"]'}function Ms(e){return"script[async]"+e}function jp(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+Vt(r.href)+'"]');if(o)return t.instance=o,ut(o),o;var d=_({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ut(o),gt(o,"style",d),ol(o,r.precedence,e),t.instance=o;case"stylesheet":d=Er(r.href);var f=e.querySelector(Us(d));if(f)return t.state.loading|=4,t.instance=f,ut(f),f;o=_p(r),(d=en.get(d))&&xu(o,d),f=(e.ownerDocument||e).createElement("link"),ut(f);var v=f;return v._p=new Promise(function(b,N){v.onload=b,v.onerror=N}),gt(f,"link",o),t.state.loading|=4,ol(f,r.precedence,e),t.instance=f;case"script":return f=Ar(r.src),(d=e.querySelector(Ms(f)))?(t.instance=d,ut(d),d):(o=r,(d=en.get(f))&&(o=_({},r),bu(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),ut(d),gt(d,"link",o),e.head.appendChild(d),t.instance=d);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,ol(o,r.precedence,e));return t.instance}function ol(e,t,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,f=d,v=0;v<o.length;v++){var b=o[v];if(b.dataset.precedence===t)f=b;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var cl=null;function wp(e,t,r){if(cl===null){var o=new Map,d=cl=new Map;d.set(r,o)}else d=cl,o=d.get(r),o||(o=new Map,d.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var f=r[d];if(!(f[Xr]||f[ht]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(t)||"";v=e+v;var b=o.get(v);b?b.push(f):o.set(v,[f])}}return o}function Sp(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function ub(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Np(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function db(e,t,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Er(o.href),f=t.querySelector(Us(d));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ul.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=f,ut(f);return}f=t.ownerDocument||t,o=_p(o),(d=en.get(d))&&xu(o,d),f=f.createElement("link"),ut(f);var v=f;v._p=new Promise(function(b,N){v.onload=b,v.onerror=N}),gt(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=ul.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var _u=0;function hb(e,t){return e.stylesheets&&e.count===0&&hl(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&hl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&_u===0&&(_u=62500*Vx());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>_u?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function ul(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var dl=null;function hl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,dl=new Map,t.forEach(fb,e),dl=null,ul.call(e))}function fb(e,t){if(!(t.state.loading&4)){var r=dl.get(e);if(r)var o=r.get(null);else{r=new Map,dl.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),o=v)}o&&r.set(null,o)}d=t.instance,v=d.getAttribute("data-precedence"),f=r.get(v)||o,f===o&&r.set(null,d),r.set(v,d),this.count++,o=ul.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),t.state.loading|=4}}var $s={$$typeof:M,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function mb(e,t,r,o,d,f,v,b,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=go(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=go(0),this.hiddenUpdates=go(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Ep(e,t,r,o,d,f,v,b,N,R,B,H){return e=new mb(e,t,r,v,N,R,B,H,b),t=1,f===!0&&(t|=24),f=qt(3,null,null,t),e.current=f,f.stateNode=e,t=ec(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:t},rc(f),e}function Ap(e){return e?(e=rr,e):rr}function Tp(e,t,r,o,d,f){d=Ap(d),o.context===null?o.context=d:o.pendingContext=d,o=Kn(t),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Fn(e,o,t),r!==null&&(kt(r,e,t),ps(r,e,t))}function Cp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ju(e,t){Cp(e,t),(e=e.alternate)&&Cp(e,t)}function Op(e){if(e.tag===13||e.tag===31){var t=ja(e,67108864);t!==null&&kt(t,e,67108864),ju(e,67108864)}}function kp(e){if(e.tag===13||e.tag===31){var t=It();t=vo(t);var r=ja(e,t);r!==null&&kt(r,e,t),ju(e,t)}}var fl=!0;function pb(e,t,r,o){var d=$.T;$.T=null;var f=G.p;try{G.p=2,wu(e,t,r,o)}finally{G.p=f,$.T=d}}function gb(e,t,r,o){var d=$.T;$.T=null;var f=G.p;try{G.p=8,wu(e,t,r,o)}finally{G.p=f,$.T=d}}function wu(e,t,r,o){if(fl){var d=Su(o);if(d===null)cu(e,t,o,ml,r),zp(e,o);else if(yb(d,e,t,r,o))o.stopPropagation();else if(zp(e,o),t&4&&-1<vb.indexOf(e)){for(;d!==null;){var f=Ya(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=va(f.pendingLanes);if(v!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var N=1<<31-Mt(v);b.entanglements[1]|=N,v&=~N}fn(f),(Ae&6)===0&&(Ji=Dt()+500,ks(0))}}break;case 31:case 13:b=ja(f,2),b!==null&&kt(b,f,2),Xi(),ju(f,2)}if(f=Su(o),f===null&&cu(e,t,o,ml,r),f===d)break;d=f}d!==null&&o.stopPropagation()}else cu(e,t,o,null,r)}}function Su(e){return e=Eo(e),Nu(e)}var ml=null;function Nu(e){if(ml=null,e=Va(e),e!==null){var t=u(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=h(t),e!==null)return e;e=null}else if(r===31){if(e=m(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ml=e,null}function Rp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ny()){case Bd:return 2;case Ld:return 8;case ai:case ay:return 32;case Hd:return 268435456;default:return 32}default:return 32}}var Eu=!1,ia=null,la=null,oa=null,qs=new Map,Bs=new Map,ca=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(e,t){switch(e){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(t.pointerId)}}function Ls(e,t,r,o,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[d]},t!==null&&(t=Ya(t),t!==null&&Op(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function yb(e,t,r,o,d){switch(t){case"focusin":return ia=Ls(ia,e,t,r,o,d),!0;case"dragenter":return la=Ls(la,e,t,r,o,d),!0;case"mouseover":return oa=Ls(oa,e,t,r,o,d),!0;case"pointerover":var f=d.pointerId;return qs.set(f,Ls(qs.get(f)||null,e,t,r,o,d)),!0;case"gotpointercapture":return f=d.pointerId,Bs.set(f,Ls(Bs.get(f)||null,e,t,r,o,d)),!0}return!1}function Dp(e){var t=Va(e.target);if(t!==null){var r=u(t);if(r!==null){if(t=r.tag,t===13){if(t=h(r),t!==null){e.blockedOn=t,Yd(e.priority,function(){kp(r)});return}}else if(t===31){if(t=m(r),t!==null){e.blockedOn=t,Yd(e.priority,function(){kp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Su(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);No=o,r.target.dispatchEvent(o),No=null}else return t=Ya(r),t!==null&&Op(t),e.blockedOn=r,!1;t.shift()}return!0}function Up(e,t,r){pl(e)&&r.delete(t)}function xb(){Eu=!1,ia!==null&&pl(ia)&&(ia=null),la!==null&&pl(la)&&(la=null),oa!==null&&pl(oa)&&(oa=null),qs.forEach(Up),Bs.forEach(Up)}function gl(e,t){e.blockedOn===t&&(e.blockedOn=null,Eu||(Eu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,xb)))}var vl=null;function Mp(e){vl!==e&&(vl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){vl===e&&(vl=null);for(var t=0;t<e.length;t+=3){var r=e[t],o=e[t+1],d=e[t+2];if(typeof o!="function"){if(Nu(o||r)===null)continue;break}var f=Ya(r);f!==null&&(e.splice(t,3),t-=3,Sc(f,{pending:!0,data:d,method:r.method,action:o},o,d))}}))}function Tr(e){function t(N){return gl(N,e)}ia!==null&&gl(ia,e),la!==null&&gl(la,e),oa!==null&&gl(oa,e),qs.forEach(t),Bs.forEach(t);for(var r=0;r<ca.length;r++){var o=ca[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ca.length&&(r=ca[0],r.blockedOn===null);)Dp(r),r.blockedOn===null&&ca.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var d=r[o],f=r[o+1],v=d[Nt]||null;if(typeof f=="function")v||Mp(r);else if(v){var b=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[Nt]||null)b=v.formAction;else if(Nu(d)!==null)continue}else b=v.action;typeof b=="function"?r[o+1]=b:(r.splice(o,3),o-=3),Mp(r)}}}function $p(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function t(){d!==null&&(d(),d=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),d!==null&&(d(),d=null)}}}function Au(e){this._internalRoot=e}yl.prototype.render=Au.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var r=t.current,o=It();Tp(r,o,e,t,null,null)},yl.prototype.unmount=Au.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tp(e.current,2,null,e,null,null),Xi(),t[Ga]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ca.length&&t!==0&&t<ca[r].priority;r++);ca.splice(r,0,e),r===0&&Dp(e)}};var qp=n.version;if(qp!=="19.2.1")throw Error(l(527,qp,"19.2.1"));G.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var bb={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{Fr=xl.inject(bb),Ut=xl}catch{}}return Ps.createRoot=function(e,t){if(!c(e))throw Error(l(299));var r=!1,o="",d=Gf,f=Vf,v=Yf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(d=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=Ep(e,1,!1,null,null,r,o,null,d,f,v,$p),e[Ga]=t.current,ou(e),new Au(t)},Ps.hydrateRoot=function(e,t,r){if(!c(e))throw Error(l(299));var o=!1,d="",f=Gf,v=Vf,b=Yf,N=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),t=Ep(e,1,!0,t,r??null,o,d,N,f,v,b,$p),t.context=Ap(null),r=t.current,o=It(),o=vo(o),d=Kn(o),d.callback=null,Fn(r,d,o),r=o,t.current.lanes=r,Qr(t,r),fn(t),e[Ga]=t.current,ou(e),new yl(t)},Ps.version="19.2.1",Ps}var Kp;function Rb(){if(Kp)return Ou.exports;Kp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Ou.exports=kb(),Ou.exports}var zb=Rb();const we=({children:a,variant:n="primary",size:s="md",icon:l,className:c="",...u})=>{const h="font-medium rounded-md transition-all flex items-center justify-center gap-2 active:scale-95",m={primary:"bg-black text-white hover:bg-gray-800 shadow-lg shadow-gray-200",secondary:"bg-[var(--accent)] text-white hover:bg-[var(--accent-hover)] shadow-md",ghost:"bg-transparent text-gray-600 hover:text-black hover:bg-gray-100",white:"bg-white text-black border border-gray-200 hover:border-black shadow-sm"},g={sm:"text-xs px-3 py-1.5 h-8",md:"text-sm px-4 py-2 h-10",lg:"text-base px-6 py-3 h-12"};return i.jsxs("button",{className:`${h} ${m[n]} ${g[s]} ${c}`,...u,children:[l&&i.jsx("span",{className:"mr-1",children:l}),a]})},Q=({className:a="",...n})=>i.jsx("input",{className:`w-full px-3 py-2 bg-white border border-gray-200 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-black/5 focus:border-black transition-all ${a}`,...n}),I=({children:a,className:n=""})=>i.jsx("label",{className:`block text-xs font-semibold text-gray-700 mb-1.5 uppercase tracking-wide ${n}`,children:a});/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ub=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,l)=>l?l.toUpperCase():s.toLowerCase()),Fp=a=>{const n=Ub(a);return n.charAt(0).toUpperCase()+n.slice(1)},Kg=(...a)=>a.filter((n,s,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===s).join(" ").trim(),Mb=a=>{for(const n in a)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $b={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=Y.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:h,...m},g)=>Y.createElement("svg",{ref:g,...$b,width:n,height:n,stroke:a,strokeWidth:l?Number(s)*24/Number(n):s,className:Kg("lucide",c),...!u&&!Mb(m)&&{"aria-hidden":"true"},...m},[...h.map(([p,x])=>Y.createElement(p,x)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(a,n)=>{const s=Y.forwardRef(({className:l,...c},u)=>Y.createElement(qb,{ref:u,iconNode:n,className:Kg(`lucide-${Db(Fp(a))}`,`lucide-${a}`,l),...c}));return s.displayName=Fp(a),s};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Fg=de("activity",Bb);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jg=de("arrow-left",Lb);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Pu=de("arrow-right",Hb);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],dd=de("briefcase",Pb);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],hd=de("building-2",Ib);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$n=de("check",Zb);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vb=de("chevron-down",Gb);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kb=de("chevron-right",Yb);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_t=de("circle-alert",Fb);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pn=de("circle-check",Jb);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Qg=de("clipboard-list",Qb);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xg=de("clock",Xb);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Wg=de("cloud-upload",Wb);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],t_=de("database",e_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Bl=de("download",n_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],r_=de("ellipsis",a_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],i_=de("external-link",s_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],o_=de("eye",l_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],u_=de("file-check",c_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cn=de("file-text",d_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Jp=de("folder",h_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],m_=de("funnel",f_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],g_=de("globe",p_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],y_=de("graduation-cap",v_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],b_=de("history",x_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ys=de("layers",__);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],w_=de("layout-dashboard",j_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],N_=de("layout-grid",S_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],A_=de("link-2",E_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fd=de("loader-circle",T_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],e0=de("lock",C_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],t0=de("log-in",O_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],R_=de("log-out",k_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],md=de("mail",z_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],U_=de("map-pin",D_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ll=de("plus",M_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],n0=de("refresh-cw",$_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Dl=de("search",q_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],pd=de("shield",B_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],a0=de("trash-2",L_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],r0=de("triangle-alert",H_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ks=de("upload",P_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Z_=de("user-check",I_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Iu=de("user-plus",G_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],s0=de("user",V_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],i0=de("users",Y_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gd=de("x",K_);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vd=de("zap",F_),Be=({className:a="",children:n,...s})=>i.jsxs("div",{className:"relative",children:[i.jsx("select",{className:`w-full appearance-none px-3 py-2 bg-white border border-gray-200 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-black/5 focus:border-black transition-all pr-8 ${a}`,...s,children:n}),i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:i.jsx(Kb,{className:"rotate-90 w-4 h-4"})})]}),yd=({isOpen:a,onClose:n,title:s,children:l})=>a?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity",onClick:n}),i.jsxs("div",{className:"relative w-full max-w-md bg-white rounded-lg shadow-xl border border-gray-100 p-6 animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s}),i.jsxs("button",{onClick:n,className:"text-gray-400 hover:text-black transition-colors",children:[i.jsx("span",{className:"sr-only",children:"Close"}),i.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),i.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})]})]}),l]})]}):null,Hr=({status:a})=>{const n={Draft:"bg-gray-100 text-gray-600 border-gray-200",Ready:"bg-blue-50 text-blue-700 border-blue-200",Submitted:"bg-purple-50 text-purple-700 border-purple-200",Approved:"bg-green-50 text-green-700 border-green-200","Action Required":"bg-red-50 text-red-700 border-red-200","In Review":"bg-amber-50 text-amber-700 border-amber-200"};return i.jsx("span",{className:`px-2 py-0.5 rounded text-[11px] font-medium border uppercase tracking-wide ${n[a]||n.Draft}`,children:a})},J_=({children:a,active:n=!1})=>i.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 text-xs font-mono uppercase tracking-wider rounded shadow-sm border ${n?"bg-white border-gray-200 text-gray-900":"bg-gray-50 border-gray-200 text-gray-500"}`,children:[n&&i.jsx("span",{className:"w-2 h-2 rounded-full bg-[var(--accent)] animate-pulse"}),a]}),l0=({className:a=""})=>i.jsxs("div",{className:`flex items-center gap-2 font-bold text-lg tracking-tight ${a}`,children:[i.jsx("div",{className:"w-6 h-6 bg-black text-white flex items-center justify-center rounded-sm",children:i.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:i.jsx("path",{d:"M13 2L3 14H12L11 22L21 10H12L13 2Z",fill:"currentColor"})})}),"LMIAFlow"]}),o0=({title:a,subtitle:n,center:s=!1})=>i.jsxs("div",{className:`mb-12 ${s?"text-center":""}`,children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 tracking-tight text-gray-900",children:a}),n&&i.jsx("p",{className:"text-gray-500 text-lg",children:n})]}),Q_=()=>i.jsx("style",{children:`
    @import url('https://fonts.googleapis.com/css2?family=Inter+Tight:wght@400;500;600;700;800&family=Inter:wght@400;500;600&family=JetBrains+Mono:wght@400;500;600&display=swap');

    :root {
      --bg-primary: #F9F9F7;
      --bg-surface: #FFFFFF;
      --text-primary: #050505;
      --text-secondary: #525252;
      --accent: #FF3300;
      --accent-hover: #CC2900;
      --success: #059669;
      --warning: #D97706;
      --danger: #DC2626;
      --border: rgba(0, 0, 0, 0.08);
      --border-strong: rgba(0, 0, 0, 0.15);
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-primary);
      color: var(--text-primary);
      -webkit-font-smoothing: antialiased;
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: 'Inter Tight', sans-serif;
      letter-spacing: -0.03em;
    }

    .font-mono {
      font-family: 'JetBrains Mono', monospace;
      letter-spacing: -0.02em;
    }

    .custom-scrollbar::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
      background: transparent;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: #E5E5E5;
      border-radius: 3px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: #D4D4D4;
    }

    @keyframes slide-up {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .reveal {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .reveal.active {
      opacity: 1;
      transform: translateY(0);
    }

    .glass-nav {
      background: rgba(249, 249, 247, 0.85);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
    }

    .dash-grid-bg {
      background-image: 
        linear-gradient(var(--border) 1px, transparent 1px),
        linear-gradient(90deg, var(--border) 1px, transparent 1px);
      background-size: 40px 40px;
    }
  `}),X_=({onLogin:a,onLogout:n,isLoggedIn:s})=>i.jsx("nav",{className:"glass-nav fixed top-0 left-0 right-0 z-50 h-16 flex items-center",children:i.jsxs("div",{className:"container flex justify-between items-center",children:[i.jsx("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>window.location.reload(),children:i.jsx(l0,{})}),i.jsxs("div",{className:"hidden md:flex gap-8 items-center text-sm font-medium text-gray-500",children:[i.jsx("a",{href:"#features",className:"hover:text-black transition-colors",children:"Platform"}),i.jsx("a",{href:"#workflow",className:"hover:text-black transition-colors",children:"How it Works"}),i.jsx("a",{href:"#pricing",className:"hover:text-black transition-colors",children:"Pricing"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[s?i.jsx(we,{variant:"ghost",onClick:n,children:"Sign out"}):i.jsx(we,{variant:"ghost",onClick:a,children:"Log in"}),i.jsx(we,{variant:"primary",onClick:a,children:"Book Demo"})]})]})}),W_=({onLogin:a})=>i.jsxs("section",{className:"pt-32 pb-20 overflow-hidden relative",children:[i.jsx("div",{className:"absolute inset-0 dash-grid-bg opacity-40 pointer-events-none"}),i.jsxs("div",{className:"container text-center flex flex-col items-center relative z-10",children:[i.jsx("div",{className:"reveal inline-flex items-center gap-2 mb-8",children:i.jsx(J_,{active:!0,children:"New: Bulk CSV Processing Live"})}),i.jsxs("h1",{className:"reveal text-5xl md:text-8xl font-bold text-gray-900 mb-6 tracking-tighter max-w-5xl mx-auto leading-[0.95]",children:["The High-Velocity Engine for ",i.jsx("br",{}),i.jsx("span",{className:"text-gray-400",children:"Canadian Work Permits."})]}),i.jsx("p",{className:"reveal text-lg md:text-xl text-gray-600 max-w-2xl mb-10 leading-relaxed font-medium",children:"Stop drowning in PDFs. Automate LMIAs, validate wage compliance, and generate error-free application packages in minutesnot hours."}),i.jsxs("div",{className:"reveal flex flex-col md:flex-row gap-4 mb-20",children:[i.jsxs(we,{variant:"primary",size:"lg",onClick:a,className:"h-14 px-8 text-lg",children:["Start for Free ",i.jsx("span",{className:"ml-2 opacity-50 text-sm font-normal",children:"(No credit card)"})]}),i.jsx(we,{variant:"white",size:"lg",onClick:a,className:"h-14 px-8 text-lg",children:"See the ROI"})]}),i.jsx(ej,{})]})]}),ej=()=>i.jsxs("div",{className:"reveal w-full max-w-5xl relative",children:[i.jsxs("div",{className:"relative bg-white rounded-xl border border-gray-200 shadow-2xl overflow-hidden hover:scale-[1.01] transition-transform duration-700 ease-out hover:shadow-3xl",children:[i.jsxs("div",{className:"h-10 border-b border-gray-100 flex items-center px-4 justify-between bg-gray-50",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"}),i.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"}),i.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"})]}),i.jsx("div",{className:"text-xs font-mono text-gray-400",children:"BATCH_PROCESS_V2.1"}),i.jsx("div",{className:"w-16"})]}),i.jsxs("div",{className:"p-1 min-h-[400px] flex",children:[i.jsx("div",{className:"w-64 border-r border-gray-100 p-4 hidden md:block bg-gray-50/50",children:i.jsxs("div",{className:"space-y-1 mb-6",children:[i.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2 px-2",children:"Workspace"}),i.jsxs("div",{className:"px-2 py-1.5 bg-white border border-gray-200 rounded text-sm font-medium flex items-center gap-2 shadow-sm",children:[i.jsx(Jp,{size:14,className:"text-black"})," Tech_Cohort_A"]}),i.jsxs("div",{className:"px-2 py-1.5 text-gray-500 rounded text-sm font-medium flex items-center gap-2",children:[i.jsx(Jp,{size:14})," Nurses_Batch_22"]})]})}),i.jsxs("div",{className:"flex-1 p-6 md:p-8 bg-white flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold",children:"Processing Cohort: Software Engineers"}),i.jsx("p",{className:"text-sm text-gray-500 font-mono mt-1",children:"NOC 21231  Toronto, ON  15 Applicants"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold font-mono",children:"14/15"}),i.jsx("div",{className:"text-xs text-green-600 font-bold uppercase tracking-wider",children:"Validated"})]}),i.jsx("div",{className:"w-12 h-12 relative",children:i.jsxs("svg",{className:"w-full h-full -rotate-90",viewBox:"0 0 36 36",children:[i.jsx("path",{className:"text-gray-100",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"text-[var(--accent)]",strokeDasharray:"93, 100",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"4"})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 flex-1",children:[i.jsxs("div",{className:"border border-dashed border-gray-200 rounded-lg p-4 flex flex-col gap-3 bg-gray-50/30",children:[i.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase",children:"Input Stream"}),[1,2,3].map(a=>i.jsxs("div",{className:"bg-white border border-gray-200 p-3 rounded shadow-sm flex items-center gap-3 opacity-60",children:[i.jsx(cn,{size:16,className:"text-gray-400"}),i.jsx("div",{className:"h-2 w-16 bg-gray-200 rounded"})]},a))]}),i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 flex flex-col items-center justify-center relative overflow-hidden bg-[var(--bg-primary)]",children:[i.jsx("div",{className:"w-16 h-16 bg-white border border-gray-200 rounded-full flex items-center justify-center shadow-lg relative z-10",children:i.jsx(vd,{size:24,className:"text-[var(--accent)]",fill:"currentColor"})}),i.jsxs("div",{className:"mt-4 flex gap-2",children:[i.jsx("span",{className:"text-[10px] bg-white border border-gray-200 px-2 py-1 rounded",children:"Wage_Check"}),i.jsx("span",{className:"text-[10px] bg-white border border-gray-200 px-2 py-1 rounded",children:"Form_Gen"})]})]}),i.jsxs("div",{className:"border border-green-100 rounded-lg p-4 flex flex-col gap-3 bg-green-50/20",children:[i.jsx("div",{className:"text-xs font-bold text-green-700 uppercase",children:"Output"}),i.jsxs("div",{className:"bg-white border border-green-200 p-3 rounded shadow-sm flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(u_,{size:16,className:"text-green-500"}),i.jsx("span",{className:"font-mono text-xs",children:"Pkg_J_Doe.pdf"})]}),i.jsx($n,{size:14,className:"text-green-500"})]})]})]})]})]})]}),i.jsxs("div",{className:"mt-16 flex flex-col items-center gap-6",children:[i.jsx("p",{className:"font-mono text-xs text-gray-400 uppercase tracking-widest",children:"Trusted by high-volume agencies"}),i.jsx("div",{className:"flex flex-wrap justify-center gap-12 opacity-50 grayscale mix-blend-multiply",children:["GlobalMigrate","VisaPlace","LawPoint","BorderLink"].map((a,n)=>i.jsx("div",{className:"text-lg font-bold font-serif text-gray-800",children:a},n))})]})]}),tj=()=>{const[a,n]=Y.useState(50);return i.jsx("section",{className:"py-24 bg-white border-t border-gray-100",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx(o0,{title:"Chaos vs. Control",center:!0}),i.jsxs("div",{className:"flex justify-center gap-8 text-sm font-medium",children:[i.jsx("div",{className:"text-gray-400",children:"The Old Way"}),i.jsx("div",{className:"text-[var(--accent)]",children:"The LMIAFlow Way"})]})]}),i.jsxs("div",{className:"relative w-full max-w-6xl mx-auto h-[500px] rounded-xl overflow-hidden border border-gray-200 select-none shadow-2xl",children:[i.jsx("div",{className:"absolute inset-0 bg-[#FFF5F5] flex",children:i.jsxs("div",{className:"w-1/2 p-12 pr-24 flex flex-col justify-center",children:[i.jsx("h3",{className:"text-red-500 font-mono text-sm uppercase tracking-widest mb-6 font-bold",children:"Manual Chaos"}),i.jsx("p",{className:"text-3xl font-bold mb-4 text-gray-900 leading-tight",children:"45 minutes of copy-pasting."}),i.jsx("div",{className:"space-y-3 opacity-75 mt-4",children:i.jsxs("div",{className:"flex items-center gap-3 text-red-700 bg-red-100/50 p-3 rounded border border-red-200",children:[i.jsx(_t,{size:18})," Error: Wage below median"]})})]})}),i.jsx("div",{className:"absolute inset-0 bg-white border-r border-gray-900 overflow-hidden",style:{width:`${a}%`},children:i.jsx("div",{className:"absolute inset-0 w-full max-w-6xl mx-auto h-[500px] flex justify-end",children:i.jsxs("div",{className:"w-1/2 p-12 pl-24 flex flex-col justify-center bg-white h-full relative",children:[i.jsx("div",{className:"absolute inset-0 dash-grid-bg opacity-30 pointer-events-none"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("h3",{className:"text-[var(--accent)] font-mono text-sm uppercase tracking-widest mb-6 font-bold",children:"Industrial Control"}),i.jsx("p",{className:"text-3xl font-bold mb-4 text-gray-900 leading-tight",children:"Upload CSV. Validate. Done."}),i.jsxs("div",{className:"space-y-0 border border-gray-200 rounded-lg overflow-hidden bg-white shadow-sm mt-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-100 bg-gray-50",children:[i.jsx("span",{className:"font-mono text-xs text-gray-500",children:"STATUS_CHECK"}),i.jsx("span",{className:"font-mono text-xs text-green-600",children:"ALL_SYSTEMS_GO"})]}),i.jsxs("div",{className:"p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx($n,{size:14,className:"text-green-500"})," ",i.jsx("span",{className:"text-sm",children:"NOC Match: Valid"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($n,{size:14,className:"text-green-500"})," ",i.jsx("span",{className:"text-sm",children:"Wage: Above Median"})]})]})]})]})]})})}),i.jsx("div",{className:"absolute inset-y-0 w-1 bg-black cursor-ew-resize hover:scale-110 transition-transform z-30",style:{left:`${a}%`},onMouseDown:s=>{const l=s.currentTarget.parentElement;if(!l)return;const c=l.getBoundingClientRect(),u=m=>{const g=Math.max(0,Math.min(m.clientX-c.left,c.width));n(g/c.width*100)},h=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",h)},children:i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-8 h-8 bg-black rounded-full flex items-center justify-center shadow-lg border-2 border-white",children:i.jsx(r_,{size:16,className:"text-white"})})})]})]})})},nj=()=>i.jsx("section",{className:"py-24 bg-[var(--bg-primary)]",id:"features",children:i.jsxs("div",{className:"container",children:[i.jsx(o0,{title:"The Industrial Wedge.",center:!0}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:[{title:"Smart Intake",desc:"Type a NOC code. We pull live wage data. Flag errors before you start.",icon:vd},{title:"Zero-Friction",desc:"Send secure magic links. Clients upload from phone. OCR extracts data.",icon:Wg},{title:"Auto-Assembly",desc:"One click merges, compresses, and renames files to IRCC standards.",icon:Ys}].map((a,n)=>i.jsxs("div",{className:"bg-white p-8 rounded-xl border border-gray-200 hover:border-black transition-colors",children:[i.jsx(a.icon,{size:32,className:"mb-6 text-gray-800"}),i.jsx("h3",{className:"text-xl font-bold mb-3",children:a.title}),i.jsx("p",{className:"text-gray-600 leading-relaxed",children:a.desc})]},n))})]})}),aj=({onLogin:a})=>i.jsx("section",{className:"py-24 bg-white border-t border-gray-100",id:"pricing",children:i.jsxs("div",{className:"container",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl mb-4 font-bold",children:"Volume Pricing."}),i.jsx("p",{className:"text-gray-500",children:"Stop paying for seats. Pay for performance."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[i.jsxs("div",{className:"p-8 border border-gray-200 rounded-xl",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Starter"}),i.jsxs("div",{className:"text-4xl font-bold mb-6",children:["$0",i.jsx("span",{className:"text-sm font-normal text-gray-500",children:"/mo"})]}),i.jsxs("ul",{className:"space-y-4 mb-8 text-sm",children:[i.jsxs("li",{className:"flex gap-2",children:[i.jsx($n,{size:16})," Pay per application"]}),i.jsxs("li",{className:"flex gap-2",children:[i.jsx($n,{size:16})," All forms included"]})]}),i.jsx(we,{variant:"white",onClick:a,className:"w-full",children:"Start for Free"})]}),i.jsxs("div",{className:"p-8 border-2 border-[var(--accent)] rounded-xl relative bg-orange-50/10",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-[var(--accent)] text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider",children:"Best Value"}),i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Agency"}),i.jsxs("div",{className:"text-4xl font-bold mb-6",children:["$199",i.jsx("span",{className:"text-sm font-normal text-gray-500",children:"/mo"})]}),i.jsxs("ul",{className:"space-y-4 mb-8 text-sm",children:[i.jsxs("li",{className:"flex gap-2",children:[i.jsx($n,{size:16})," 15 apps included"]}),i.jsxs("li",{className:"flex gap-2",children:[i.jsx($n,{size:16})," Bulk CSV Import"]})]}),i.jsx(we,{variant:"secondary",onClick:a,className:"w-full",children:"Start Trial"})]}),i.jsxs("div",{className:"p-8 border border-gray-200 rounded-xl bg-gray-50",children:[i.jsx("h3",{className:"font-bold text-lg mb-2",children:"Enterprise"}),i.jsx("div",{className:"text-4xl font-bold mb-6",children:"Custom"}),i.jsxs("ul",{className:"space-y-4 mb-8 text-sm text-gray-600",children:[i.jsxs("li",{className:"flex gap-2",children:[i.jsx($n,{size:16})," Unlimited Volume"]}),i.jsxs("li",{className:"flex gap-2",children:[i.jsx($n,{size:16})," API Access"]})]}),i.jsx(we,{variant:"white",className:"w-full",children:"Contact Sales"})]})]})]})}),rj=()=>i.jsx("footer",{className:"py-20 bg-black text-white",children:i.jsxs("div",{className:"container",children:[i.jsx("h2",{className:"text-5xl md:text-7xl font-bold mb-12 tracking-tight",children:"Ready to fix your workflow?"}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-12 border-t border-gray-800 pt-12",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-2xl mb-4",children:"LMIAFlow"}),i.jsx("p",{className:"text-gray-500",children:"Montreal, QC  Data Sovereignty Guaranteed"})]}),i.jsxs("div",{className:"flex gap-12 text-sm text-gray-400",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("span",{className:"text-white font-bold",children:"Product"}),i.jsx("a",{href:"#",children:"Features"}),i.jsx("a",{href:"#",children:"Security"})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("span",{className:"text-white font-bold",children:"Legal"}),i.jsx("a",{href:"#",children:"Privacy"}),i.jsx("a",{href:"#",children:"Terms"})]})]})]})]})}),sj=({onLogin:a,onLogout:n,isLoggedIn:s})=>(Y.useEffect(()=>{const l=new IntersectionObserver(c=>{c.forEach(u=>{u.isIntersecting&&u.target.classList.add("active")})},{threshold:.1});return document.querySelectorAll(".reveal").forEach(c=>l.observe(c)),()=>l.disconnect()},[]),i.jsxs(i.Fragment,{children:[i.jsx(X_,{onLogin:a,onLogout:n,isLoggedIn:s}),i.jsx(W_,{onLogin:a}),i.jsx(tj,{}),i.jsx(nj,{}),i.jsx(aj,{onLogin:a}),i.jsx(rj,{})]}));var Un={},bl={},Zu=function(a,n){return Zu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},Zu(a,n)};function c0(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Zu(a,n);function s(){this.constructor=a}a.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}var Hl=function(){return Hl=Object.assign||function(n){for(var s,l=1,c=arguments.length;l<c;l++){s=arguments[l];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(n[u]=s[u])}return n},Hl.apply(this,arguments)};function Gr(a,n){var s={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&n.indexOf(l)<0&&(s[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(a);c<l.length;c++)n.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(a,l[c])&&(s[l[c]]=a[l[c]]);return s}function u0(a,n,s,l){var c=arguments.length,u=c<3?n:l===null?l=Object.getOwnPropertyDescriptor(n,s):l,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,n,s,l);else for(var m=a.length-1;m>=0;m--)(h=a[m])&&(u=(c<3?h(u):c>3?h(n,s,u):h(n,s))||u);return c>3&&u&&Object.defineProperty(n,s,u),u}function d0(a,n){return function(s,l){n(s,l,a)}}function h0(a,n,s,l,c,u){function h(U){if(U!==void 0&&typeof U!="function")throw new TypeError("Function expected");return U}for(var m=l.kind,g=m==="getter"?"get":m==="setter"?"set":"value",p=!n&&a?l.static?a:a.prototype:null,x=n||(p?Object.getOwnPropertyDescriptor(p,l.name):{}),_,w=!1,S=s.length-1;S>=0;S--){var j={};for(var A in l)j[A]=A==="access"?{}:l[A];for(var A in l.access)j.access[A]=l.access[A];j.addInitializer=function(U){if(w)throw new TypeError("Cannot add initializers after decoration has completed");u.push(h(U||null))};var O=(0,s[S])(m==="accessor"?{get:x.get,set:x.set}:x[g],j);if(m==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(_=h(O.get))&&(x.get=_),(_=h(O.set))&&(x.set=_),(_=h(O.init))&&c.unshift(_)}else(_=h(O))&&(m==="field"?c.unshift(_):x[g]=_)}p&&Object.defineProperty(p,l.name,x),w=!0}function f0(a,n,s){for(var l=arguments.length>2,c=0;c<n.length;c++)s=l?n[c].call(a,s):n[c].call(a);return l?s:void 0}function m0(a){return typeof a=="symbol"?a:"".concat(a)}function p0(a,n,s){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:s?"".concat(s," ",n):n})}function g0(a,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,n)}function ee(a,n,s,l){function c(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function m(x){try{p(l.next(x))}catch(_){h(_)}}function g(x){try{p(l.throw(x))}catch(_){h(_)}}function p(x){x.done?u(x.value):c(x.value).then(m,g)}p((l=l.apply(a,n||[])).next())})}function v0(a,n){var s={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},l,c,u,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=m(0),h.throw=m(1),h.return=m(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(p){return function(x){return g([p,x])}}function g(p){if(l)throw new TypeError("Generator is already executing.");for(;h&&(h=0,p[0]&&(s=0)),s;)try{if(l=1,c&&(u=p[0]&2?c.return:p[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,p[1])).done)return u;switch(c=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,c=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(u=s.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){s=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){s.label=p[1];break}if(p[0]===6&&s.label<u[1]){s.label=u[1],u=p;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(p);break}u[2]&&s.ops.pop(),s.trys.pop();continue}p=n.call(a,s)}catch(x){p=[6,x],c=0}finally{l=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var eo=Object.create?(function(a,n,s,l){l===void 0&&(l=s);var c=Object.getOwnPropertyDescriptor(n,s);(!c||("get"in c?!n.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return n[s]}}),Object.defineProperty(a,l,c)}):(function(a,n,s,l){l===void 0&&(l=s),a[l]=n[s]});function y0(a,n){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&eo(n,a,s)}function Pl(a){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&a[n],l=0;if(s)return s.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&l>=a.length&&(a=void 0),{value:a&&a[l++],done:!a}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function xd(a,n){var s=typeof Symbol=="function"&&a[Symbol.iterator];if(!s)return a;var l=s.call(a),c,u=[],h;try{for(;(n===void 0||n-- >0)&&!(c=l.next()).done;)u.push(c.value)}catch(m){h={error:m}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(h)throw h.error}}return u}function x0(){for(var a=[],n=0;n<arguments.length;n++)a=a.concat(xd(arguments[n]));return a}function b0(){for(var a=0,n=0,s=arguments.length;n<s;n++)a+=arguments[n].length;for(var l=Array(a),c=0,n=0;n<s;n++)for(var u=arguments[n],h=0,m=u.length;h<m;h++,c++)l[c]=u[h];return l}function _0(a,n,s){if(s||arguments.length===2)for(var l=0,c=n.length,u;l<c;l++)(u||!(l in n))&&(u||(u=Array.prototype.slice.call(n,0,l)),u[l]=n[l]);return a.concat(u||Array.prototype.slice.call(n))}function Pr(a){return this instanceof Pr?(this.v=a,this):new Pr(a)}function j0(a,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s.apply(a,n||[]),c,u=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",h),c[Symbol.asyncIterator]=function(){return this},c;function h(S){return function(j){return Promise.resolve(j).then(S,_)}}function m(S,j){l[S]&&(c[S]=function(A){return new Promise(function(O,U){u.push([S,A,O,U])>1||g(S,A)})},j&&(c[S]=j(c[S])))}function g(S,j){try{p(l[S](j))}catch(A){w(u[0][3],A)}}function p(S){S.value instanceof Pr?Promise.resolve(S.value.v).then(x,_):w(u[0][2],S)}function x(S){g("next",S)}function _(S){g("throw",S)}function w(S,j){S(j),u.shift(),u.length&&g(u[0][0],u[0][1])}}function w0(a){var n,s;return n={},l("next"),l("throw",function(c){throw c}),l("return"),n[Symbol.iterator]=function(){return this},n;function l(c,u){n[c]=a[c]?function(h){return(s=!s)?{value:Pr(a[c](h)),done:!1}:u?u(h):h}:u}}function S0(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=a[Symbol.asyncIterator],s;return n?n.call(a):(a=typeof Pl=="function"?Pl(a):a[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(u){s[u]=a[u]&&function(h){return new Promise(function(m,g){h=a[u](h),c(m,g,h.done,h.value)})}}function c(u,h,m,g){Promise.resolve(g).then(function(p){u({value:p,done:m})},h)}}function N0(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a}var ij=Object.create?(function(a,n){Object.defineProperty(a,"default",{enumerable:!0,value:n})}):function(a,n){a.default=n},Gu=function(a){return Gu=Object.getOwnPropertyNames||function(n){var s=[];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[s.length]=l);return s},Gu(a)};function E0(a){if(a&&a.__esModule)return a;var n={};if(a!=null)for(var s=Gu(a),l=0;l<s.length;l++)s[l]!=="default"&&eo(n,a,s[l]);return ij(n,a),n}function A0(a){return a&&a.__esModule?a:{default:a}}function T0(a,n,s,l){if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?a!==n||!l:!n.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?l:s==="a"?l.call(a):l?l.value:n.get(a)}function C0(a,n,s,l,c){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?a!==n||!c:!n.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?c.call(a,s):c?c.value=s:n.set(a,s),s}function O0(a,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?n===a:a.has(n)}function k0(a,n,s){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var l,c;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=n[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=n[Symbol.dispose],s&&(c=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");c&&(l=function(){try{c.call(this)}catch(u){return Promise.reject(u)}}),a.stack.push({value:n,dispose:l,async:s})}else s&&a.stack.push({async:!0});return n}var lj=typeof SuppressedError=="function"?SuppressedError:function(a,n,s){var l=new Error(s);return l.name="SuppressedError",l.error=a,l.suppressed=n,l};function R0(a){function n(u){a.error=a.hasError?new lj(u,a.error,"An error was suppressed during disposal."):u,a.hasError=!0}var s,l=0;function c(){for(;s=a.stack.pop();)try{if(!s.async&&l===1)return l=0,a.stack.push(s),Promise.resolve().then(c);if(s.dispose){var u=s.dispose.call(s.value);if(s.async)return l|=2,Promise.resolve(u).then(c,function(h){return n(h),c()})}else l|=1}catch(h){n(h)}if(l===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return c()}function z0(a,n){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,l,c,u,h){return l?n?".jsx":".js":c&&(!u||!h)?s:c+u+"."+h.toLowerCase()+"js"}):a}const oj={__extends:c0,__assign:Hl,__rest:Gr,__decorate:u0,__param:d0,__esDecorate:h0,__runInitializers:f0,__propKey:m0,__setFunctionName:p0,__metadata:g0,__awaiter:ee,__generator:v0,__createBinding:eo,__exportStar:y0,__values:Pl,__read:xd,__spread:x0,__spreadArrays:b0,__spreadArray:_0,__await:Pr,__asyncGenerator:j0,__asyncDelegator:w0,__asyncValues:S0,__makeTemplateObject:N0,__importStar:E0,__importDefault:A0,__classPrivateFieldGet:T0,__classPrivateFieldSet:C0,__classPrivateFieldIn:O0,__addDisposableResource:k0,__disposeResources:R0,__rewriteRelativeImportExtension:z0},cj=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:k0,get __assign(){return Hl},__asyncDelegator:w0,__asyncGenerator:j0,__asyncValues:S0,__await:Pr,__awaiter:ee,__classPrivateFieldGet:T0,__classPrivateFieldIn:O0,__classPrivateFieldSet:C0,__createBinding:eo,__decorate:u0,__disposeResources:R0,__esDecorate:h0,__exportStar:y0,__extends:c0,__generator:v0,__importDefault:A0,__importStar:E0,__makeTemplateObject:N0,__metadata:g0,__param:d0,__propKey:m0,__read:xd,__rest:Gr,__rewriteRelativeImportExtension:z0,__runInitializers:f0,__setFunctionName:p0,__spread:x0,__spreadArray:_0,__spreadArrays:b0,__values:Pl,default:oj},Symbol.toStringTag,{value:"Module"})),uj=a=>a?(...n)=>a(...n):(...n)=>fetch(...n);let to=class extends Error{constructor(n,s="FunctionsError",l){super(n),this.name=s,this.context=l}},D0=class extends to{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},Vu=class extends to{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},Yu=class extends to{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}};var Il;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(Il||(Il={}));class dj{constructor(n,{headers:s={},customFetch:l,region:c=Il.Any}={}){this.url=n,this.headers=s,this.region=c,this.fetch=uj(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return ee(this,arguments,void 0,function*(s,l={}){var c;let u,h;try{const{headers:m,method:g,body:p,signal:x,timeout:_}=l;let w={},{region:S}=l;S||(S=this.region);const j=new URL(`${this.url}/${s}`);S&&S!=="any"&&(w["x-region"]=S,j.searchParams.set("forceFunctionRegion",S));let A;p&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",A=p):typeof p=="string"?(w["Content-Type"]="text/plain",A=p):typeof FormData<"u"&&p instanceof FormData?A=p:(w["Content-Type"]="application/json",A=JSON.stringify(p)):A=p;let O=x;_&&(h=new AbortController,u=setTimeout(()=>h.abort(),_),x?(O=h.signal,x.addEventListener("abort",()=>h.abort())):O=h.signal);const U=yield this.fetch(j.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),m),body:A,signal:O}).catch(se=>{throw new D0(se)}),q=U.headers.get("x-relay-error");if(q&&q==="true")throw new Vu(U);if(!U.ok)throw new Yu(U);let M=((c=U.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),V;return M==="application/json"?V=yield U.json():M==="application/octet-stream"||M==="application/pdf"?V=yield U.blob():M==="text/event-stream"?V=U:M==="multipart/form-data"?V=yield U.formData():V=yield U.text(),{data:V,error:null,response:U}}catch(m){return{data:null,error:m,response:m instanceof Yu||m instanceof Vu?m.context:void 0}}finally{u&&clearTimeout(u)}})}}const hj=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Il},FunctionsClient:dj,FunctionsError:to,FunctionsFetchError:D0,FunctionsHttpError:Yu,FunctionsRelayError:Vu},Symbol.toStringTag,{value:"Module"})),U0=Ws(hj);var bt={};const Vr=Ws(cj);var _l={},jl={},wl={},Sl={},Nl={},El={},Qp;function M0(){if(Qp)return El;Qp=1,Object.defineProperty(El,"__esModule",{value:!0});class a extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return El.default=a,El}var Xp;function $0(){if(Xp)return Nl;Xp=1,Object.defineProperty(Nl,"__esModule",{value:!0});const n=Vr.__importDefault(M0());let s=class{constructor(c){var u,h;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(h=c.isMaybeSingle)!==null&&h!==void 0?h:!1,c.fetch?this.fetch=c.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,x,_,w;let S=null,j=null,A=null,O=g.status,U=g.statusText;if(g.ok){if(this.method!=="HEAD"){const se=await g.text();se===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?j=se:j=JSON.parse(se))}const M=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),V=(_=g.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");M&&V&&V.length>1&&(A=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(S={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,A=null,O=406,U="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const M=await g.text();try{S=JSON.parse(M),Array.isArray(S)&&g.status===404&&(j=[],S=null,O=200,U="OK")}catch{g.status===404&&M===""?(O=204,U="No Content"):S={message:M}}if(S&&this.isMaybeSingle&&(!((w=S==null?void 0:S.details)===null||w===void 0)&&w.includes("0 rows"))&&(S=null,O=200,U="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:j,count:A,status:O,statusText:U}});return this.shouldThrowOnError||(m=m.catch(g=>{var p,x,_,w,S,j;let A="";const O=g==null?void 0:g.cause;if(O){const U=(p=O==null?void 0:O.message)!==null&&p!==void 0?p:"",q=(x=O==null?void 0:O.code)!==null&&x!==void 0?x:"";A=`${(_=g==null?void 0:g.name)!==null&&_!==void 0?_:"FetchError"}: ${g==null?void 0:g.message}`,A+=`

Caused by: ${(w=O==null?void 0:O.name)!==null&&w!==void 0?w:"Error"}: ${U}`,q&&(A+=` (${q})`),O!=null&&O.stack&&(A+=`
${O.stack}`)}else A=(S=g==null?void 0:g.stack)!==null&&S!==void 0?S:"";return{error:{message:`${(j=g==null?void 0:g.name)!==null&&j!==void 0?j:"FetchError"}: ${g==null?void 0:g.message}`,details:A,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(c,u)}returns(){return this}overrideTypes(){return this}};return Nl.default=s,Nl}var Wp;function q0(){if(Wp)return Sl;Wp=1,Object.defineProperty(Sl,"__esModule",{value:!0});const n=Vr.__importDefault($0());let s=class extends n.default{select(c){let u=!1;const h=(c??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(c,{ascending:u=!0,nullsFirst:h,foreignTable:m,referencedTable:g=m}={}){const p=g?`${g}.order`:"order",x=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${x?`${x},`:""}${c}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:u,referencedTable:h=u}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${c}`),this}range(c,u,{foreignTable:h,referencedTable:m=h}={}){const g=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${c}`),this.url.searchParams.set(p,`${u-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:c=!1,verbose:u=!1,settings:h=!1,buffers:m=!1,wal:g=!1,format:p="text"}={}){var x;const _=[c?"analyze":null,u?"verbose":null,h?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),w=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${w}"; options=${_};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(c){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${c}`),this}};return Sl.default=s,Sl}var eg;function bd(){if(eg)return wl;eg=1,Object.defineProperty(wl,"__esModule",{value:!0});const n=Vr.__importDefault(q0()),s=new RegExp("[,()]");let l=class extends n.default{eq(u,h){return this.url.searchParams.append(u,`eq.${h}`),this}neq(u,h){return this.url.searchParams.append(u,`neq.${h}`),this}gt(u,h){return this.url.searchParams.append(u,`gt.${h}`),this}gte(u,h){return this.url.searchParams.append(u,`gte.${h}`),this}lt(u,h){return this.url.searchParams.append(u,`lt.${h}`),this}lte(u,h){return this.url.searchParams.append(u,`lte.${h}`),this}like(u,h){return this.url.searchParams.append(u,`like.${h}`),this}likeAllOf(u,h){return this.url.searchParams.append(u,`like(all).{${h.join(",")}}`),this}likeAnyOf(u,h){return this.url.searchParams.append(u,`like(any).{${h.join(",")}}`),this}ilike(u,h){return this.url.searchParams.append(u,`ilike.${h}`),this}ilikeAllOf(u,h){return this.url.searchParams.append(u,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(u,h){return this.url.searchParams.append(u,`ilike(any).{${h.join(",")}}`),this}regexMatch(u,h){return this.url.searchParams.append(u,`match.${h}`),this}regexIMatch(u,h){return this.url.searchParams.append(u,`imatch.${h}`),this}is(u,h){return this.url.searchParams.append(u,`is.${h}`),this}isDistinct(u,h){return this.url.searchParams.append(u,`isdistinct.${h}`),this}in(u,h){const m=Array.from(new Set(h)).map(g=>typeof g=="string"&&s.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(u,`in.(${m})`),this}contains(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cs.{${h.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(h)}`),this}containedBy(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cd.{${h.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(h)}`),this}rangeGt(u,h){return this.url.searchParams.append(u,`sr.${h}`),this}rangeGte(u,h){return this.url.searchParams.append(u,`nxl.${h}`),this}rangeLt(u,h){return this.url.searchParams.append(u,`sl.${h}`),this}rangeLte(u,h){return this.url.searchParams.append(u,`nxr.${h}`),this}rangeAdjacent(u,h){return this.url.searchParams.append(u,`adj.${h}`),this}overlaps(u,h){return typeof h=="string"?this.url.searchParams.append(u,`ov.${h}`):this.url.searchParams.append(u,`ov.{${h.join(",")}}`),this}textSearch(u,h,{config:m,type:g}={}){let p="";g==="plain"?p="pl":g==="phrase"?p="ph":g==="websearch"&&(p="w");const x=m===void 0?"":`(${m})`;return this.url.searchParams.append(u,`${p}fts${x}.${h}`),this}match(u){return Object.entries(u).forEach(([h,m])=>{this.url.searchParams.append(h,`eq.${m}`)}),this}not(u,h,m){return this.url.searchParams.append(u,`not.${h}.${m}`),this}or(u,{foreignTable:h,referencedTable:m=h}={}){const g=m?`${m}.or`:"or";return this.url.searchParams.append(g,`(${u})`),this}filter(u,h,m){return this.url.searchParams.append(u,`${h}.${m}`),this}};return wl.default=l,wl}var tg;function B0(){if(tg)return jl;tg=1,Object.defineProperty(jl,"__esModule",{value:!0});const n=Vr.__importDefault(bd());let s=class{constructor(c,{headers:u={},schema:h,fetch:m}){this.url=c,this.headers=new Headers(u),this.schema=h,this.fetch=m}select(c,u){const{head:h=!1,count:m}=u??{},g=h?"HEAD":"GET";let p=!1;const x=(c??"*").split("").map(_=>/\s/.test(_)&&!p?"":(_==='"'&&(p=!p),_)).join("");return this.url.searchParams.set("select",x),m&&this.headers.append("Prefer",`count=${m}`),new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(c,{count:u,defaultToNull:h=!0}={}){var m;const g="POST";if(u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const p=c.reduce((x,_)=>x.concat(Object.keys(_)),[]);if(p.length>0){const x=[...new Set(p)].map(_=>`"${_}"`);this.url.searchParams.set("columns",x.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(c,{onConflict:u,ignoreDuplicates:h=!1,count:m,defaultToNull:g=!0}={}){var p;const x="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(c)){const _=c.reduce((w,S)=>w.concat(Object.keys(S)),[]);if(_.length>0){const w=[...new Set(_)].map(S=>`"${S}"`);this.url.searchParams.set("columns",w.join(","))}}return new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(c,{count:u}={}){var h;const m="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:c}={}){var u;const h="DELETE";return c&&this.headers.append("Prefer",`count=${c}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return jl.default=s,jl}var ng;function fj(){if(ng)return _l;ng=1,Object.defineProperty(_l,"__esModule",{value:!0});const a=Vr,n=a.__importDefault(B0()),s=a.__importDefault(bd());let l=class L0{constructor(u,{headers:h={},schema:m,fetch:g}={}){this.url=u,this.headers=new Headers(h),this.schemaName=m,this.fetch=g}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const h=new URL(`${this.url}/${u}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new L0(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:m=!1,get:g=!1,count:p}={}){var x;let _;const w=new URL(`${this.url}/rpc/${u}`);let S;m||g?(_=m?"HEAD":"GET",Object.entries(h).filter(([A,O])=>O!==void 0).map(([A,O])=>[A,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([A,O])=>{w.searchParams.append(A,O)})):(_="POST",S=h);const j=new Headers(this.headers);return p&&j.set("Prefer",`count=${p}`),new s.default({method:_,url:w,headers:j,schema:this.schemaName,body:S,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}};return _l.default=l,_l}var ag;function H0(){if(ag)return bt;ag=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.PostgrestError=bt.PostgrestBuilder=bt.PostgrestTransformBuilder=bt.PostgrestFilterBuilder=bt.PostgrestQueryBuilder=bt.PostgrestClient=void 0;const a=Vr,n=a.__importDefault(fj());bt.PostgrestClient=n.default;const s=a.__importDefault(B0());bt.PostgrestQueryBuilder=s.default;const l=a.__importDefault(bd());bt.PostgrestFilterBuilder=l.default;const c=a.__importDefault(q0());bt.PostgrestTransformBuilder=c.default;const u=a.__importDefault($0());bt.PostgrestBuilder=u.default;const h=a.__importDefault(M0());return bt.PostgrestError=h.default,bt.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:l.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:u.default,PostgrestError:h.default},bt}class P0{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const l=s.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const l=this.getWebSocketConstructor();return new l(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const mj="2.86.2",pj=`realtime-js/${mj}`,I0="1.0.0",gj="2.0.0",rg=I0,Ku=1e4,vj=1e3,yj=100;var La;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(La||(La={}));var lt;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(lt||(lt={}));var on;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(on||(on={}));var Fu;(function(a){a.websocket="websocket"})(Fu||(Fu={}));var Ha;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(Ha||(Ha={}));class xj{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,l;const c=(l=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var s,l;const c=(l=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(n,s,l){var c,u;const h=n.topic,m=(c=n.ref)!==null&&c!==void 0?c:"",g=(u=n.join_ref)!==null&&u!==void 0?u:"",p=n.payload.event,x=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},_=Object.keys(x).length===0?"":JSON.stringify(x);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+h.length+p.length+_.length,S=new ArrayBuffer(this.HEADER_LENGTH+w);let j=new DataView(S),A=0;j.setUint8(A++,this.KINDS.userBroadcastPush),j.setUint8(A++,g.length),j.setUint8(A++,m.length),j.setUint8(A++,h.length),j.setUint8(A++,p.length),j.setUint8(A++,_.length),j.setUint8(A++,s),Array.from(g,U=>j.setUint8(A++,U.charCodeAt(0))),Array.from(m,U=>j.setUint8(A++,U.charCodeAt(0))),Array.from(h,U=>j.setUint8(A++,U.charCodeAt(0))),Array.from(p,U=>j.setUint8(A++,U.charCodeAt(0))),Array.from(_,U=>j.setUint8(A++,U.charCodeAt(0)));var O=new Uint8Array(S.byteLength+l.byteLength);return O.set(new Uint8Array(S),0),O.set(new Uint8Array(l),S.byteLength),O.buffer}decode(n,s){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return s(l)}if(typeof n=="string"){const l=JSON.parse(n),[c,u,h,m,g]=l;return s({join_ref:c,ref:u,topic:h,event:m,payload:g})}return s({})}_binaryDecode(n){const s=new DataView(n),l=s.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,c)}}_decodeUserBroadcast(n,s,l){const c=s.getUint8(1),u=s.getUint8(2),h=s.getUint8(3),m=s.getUint8(4);let g=this.HEADER_LENGTH+4;const p=l.decode(n.slice(g,g+c));g=g+c;const x=l.decode(n.slice(g,g+u));g=g+u;const _=l.decode(n.slice(g,g+h));g=g+h;const w=n.slice(g,n.byteLength),S=m===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,j={type:this.BROADCAST_EVENT,event:x,payload:S};return h>0&&(j.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>s.includes(l)))}}class Z0{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Le||(Le={}));const sg=(a,n,s={})=>{var l;const c=(l=s.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((u,h)=>(u[h]=bj(h,a,n,c),u),{}):{}},bj=(a,n,s,l)=>{const c=n.find(m=>m.name===a),u=c==null?void 0:c.type,h=s[a];return u&&!l.includes(u)?G0(u,h):Ju(h)},G0=(a,n)=>{if(a.charAt(0)==="_"){const s=a.slice(1,a.length);return Sj(n,s)}switch(a){case Le.bool:return _j(n);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return jj(n);case Le.json:case Le.jsonb:return wj(n);case Le.timestamp:return Nj(n);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Ju(n);default:return Ju(n)}},Ju=a=>a,_j=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},jj=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},wj=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(n){return console.log(`JSON parse error: ${n}`),a}return a},Sj=(a,n)=>{if(typeof a!="string")return a;const s=a.length-1,l=a[s];if(a[0]==="{"&&l==="}"){let u;const h=a.slice(1,s);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(m=>G0(n,m))}return a},Nj=a=>typeof a=="string"?a.replace(" ","T"):a,V0=a=>{const n=new URL(a);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Du{constructor(n,s,l={},c=Ku){this.channel=n,this.event=s,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var l;return this._hasReceived(n)&&s((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Qu;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(Qu||(Qu={}));let Y0=class Ul{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ul.syncState(this.state,c,u,h),this.pendingDiffs.forEach(g=>{this.state=Ul.syncDiff(this.state,g,u,h)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},c=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ul.syncDiff(this.state,c,u,h),m())}),this.onJoin((c,u,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:u,newPresences:h})}),this.onLeave((c,u,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,l,c){const u=this.cloneDeep(n),h=this.transformState(s),m={},g={};return this.map(u,(p,x)=>{h[p]||(g[p]=x)}),this.map(h,(p,x)=>{const _=u[p];if(_){const w=x.map(O=>O.presence_ref),S=_.map(O=>O.presence_ref),j=x.filter(O=>S.indexOf(O.presence_ref)<0),A=_.filter(O=>w.indexOf(O.presence_ref)<0);j.length>0&&(m[p]=j),A.length>0&&(g[p]=A)}else m[p]=x}),this.syncDiff(u,{joins:m,leaves:g},l,c)}static syncDiff(n,s,l,c){const{joins:u,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(u,(m,g)=>{var p;const x=(p=n[m])!==null&&p!==void 0?p:[];if(n[m]=this.cloneDeep(g),x.length>0){const _=n[m].map(S=>S.presence_ref),w=x.filter(S=>_.indexOf(S.presence_ref)<0);n[m].unshift(...w)}l(m,x,g)}),this.map(h,(m,g)=>{let p=n[m];if(!p)return;const x=g.map(_=>_.presence_ref);p=p.filter(_=>x.indexOf(_.presence_ref)<0),n[m]=p,c(m,p,g),p.length===0&&delete n[m]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(l=>s(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,l)=>{const c=n[l];return"metas"in c?s[l]=c.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[l]=c,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Xu;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(Xu||(Xu={}));var qr;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(qr||(qr={}));var mn;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(mn||(mn={}));const Ej=lt;let K0=class F0{constructor(n,s={config:{}},l){var c,u;if(this.topic=n,this.params=s,this.socket=l,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Du(this,on.join,this.params,this.timeout),this.rejoinTimer=new Z0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(on.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new Y0(this),this.broadcastEndpointURL=V0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var l,c,u;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:h,presence:m,private:g}}=this.params,p=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(S=>S.filter))!==null&&c!==void 0?c:[],x=!!this.bindings[qr.PRESENCE]&&this.bindings[qr.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,_={},w={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:x}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(S=>n==null?void 0:n(mn.CHANNEL_ERROR,S)),this._onClose(()=>n==null?void 0:n(mn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var j;if(this.socket.setAuth(),S===void 0){n==null||n(mn.SUBSCRIBED);return}else{const A=this.bindings.postgres_changes,O=(j=A==null?void 0:A.length)!==null&&j!==void 0?j:0,U=[];for(let q=0;q<O;q++){const M=A[q],{filter:{event:V,schema:se,table:X,filter:y}}=M,F=S&&S[q];if(F&&F.event===V&&F.schema===se&&F.table===X&&F.filter===y)U.push(Object.assign(Object.assign({},M),{id:F.id}));else{this.unsubscribe(),this.state=lt.errored,n==null||n(mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,n&&n(mn.SUBSCRIBED);return}}).receive("error",S=>{this.state=lt.errored,n==null||n(mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,l){return this.state===lt.joined&&n===qr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,l)}async httpSend(n,s,l={}){var c;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const h={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const p=await m.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(n,s={}){var l,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:h}=n,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,m,g;const p=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=lt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(on.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Du(this,on.leave,{},n),l.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(n,s,l){const c=new AbortController,u=setTimeout(()=>c.abort(),l),h=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(u),h}_push(n,s,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Du(this,n,s,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>yj){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,l){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,l){var c,u;const h=n.toLocaleLowerCase(),{close:m,error:g,leave:p,join:x}=on;if(l&&[m,g,p,x].indexOf(h)>=0&&l!==this._joinRef())return;let w=this._onMessage(h,s,l);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(S=>{var j,A,O;return((j=S.filter)===null||j===void 0?void 0:j.event)==="*"||((O=(A=S.filter)===null||A===void 0?void 0:A.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===h}).map(S=>S.callback(w,l)):(u=this.bindings[h])===null||u===void 0||u.filter(S=>{var j,A,O,U,q,M;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const V=S.id,se=(j=S.filter)===null||j===void 0?void 0:j.event;return V&&((A=s.ids)===null||A===void 0?void 0:A.includes(V))&&(se==="*"||(se==null?void 0:se.toLocaleLowerCase())===((O=s.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const V=(q=(U=S==null?void 0:S.filter)===null||U===void 0?void 0:U.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return V==="*"||V===((M=s==null?void 0:s.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof w=="object"&&"ids"in w){const j=w.data,{schema:A,table:O,commit_timestamp:U,type:q,errors:M}=j;w=Object.assign(Object.assign({},{schema:A,table:O,commit_timestamp:U,eventType:q,new:{},old:{},errors:M}),this._getPayloadRecords(j))}S.callback(w,l)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,l){const c=n.toLocaleLowerCase(),u={type:c,filter:s,callback:l};return this.bindings[c]?this.bindings[c].push(u):this.bindings[c]=[u],this}_off(n,s){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var u;return!(((u=c.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===l&&F0.isEqual(c.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const l in n)if(n[l]!==s[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(on.close,{},n)}_onError(n){this._on(on.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=sg(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=sg(n.columns,n.old_record)),s}};const Uu=()=>{},Al={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Aj=[1e3,2e3,5e3,1e4],Tj=1e4,Cj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Oj=class{constructor(n,s){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ku,this.transport=null,this.heartbeatIntervalMs=Al.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uu,this.ref=0,this.reconnectTimer=null,this.vsn=rg,this.logger=Uu,this.conn=null,this.sendBuffer=[],this.serializer=new xj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...u)=>c(...u):(...u)=>fetch(...u),!(!((l=s==null?void 0:s.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Fu.websocket}`,this.httpEndpoint=V0(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=P0.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,l){this.logger(n,s,l)}connectionState(){switch(this.conn&&this.conn.readyState){case La.connecting:return Ha.Connecting;case La.open:return Ha.Open;case La.closing:return Ha.Closing;default:return Ha.Closed}}isConnected(){return this.connectionState()===Ha.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const l=`realtime:${n}`,c=this.getChannels().find(u=>u.topic===l);if(c)return c;{const u=new K0(`realtime:${n}`,s,this);return this.channels.push(u),u}}push(n){const{topic:s,event:l,payload:c,ref:u}=n,h=()=>{this.encode(n,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${l} (${u})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(vj,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Al.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:c,payload:u,ref:h}=s,m=h?`(${h})`:"",g=u.status||"";this.log("receive",`${g} ${l} ${c} ${m}`.trim(),u),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(c,u,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===La.open||this.conn.readyState===La.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(on.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const l=n.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${n}${l}${c}`}_workerObjectUrl(n){let s;if(n)s=n;else{const l=new Blob([Cj],{type:"application/javascript"});s=URL.createObjectURL(l)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const c={access_token:s,version:pj};s&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(on.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(s)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Z0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Al.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,l,c,u,h,m,g,p,x,_,w,S;switch(this.transport=(s=n==null?void 0:n.transport)!==null&&s!==void 0?s:null,this.timeout=(l=n==null?void 0:n.timeout)!==null&&l!==void 0?l:Ku,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:Al.HEARTBEAT_INTERVAL,this.worker=(u=n==null?void 0:n.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=n==null?void 0:n.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=n==null?void 0:n.heartbeatCallback)!==null&&m!==void 0?m:Uu,this.vsn=(g=n==null?void 0:n.vsn)!==null&&g!==void 0?g:rg,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n==null?void 0:n.reconnectAfterMs)!==null&&p!==void 0?p:(j=>Aj[j-1]||Tj),this.vsn){case I0:this.encode=(x=n==null?void 0:n.encode)!==null&&x!==void 0?x:((j,A)=>A(JSON.stringify(j))),this.decode=(_=n==null?void 0:n.decode)!==null&&_!==void 0?_:((j,A)=>A(JSON.parse(j)));break;case gj:this.encode=(w=n==null?void 0:n.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(S=n==null?void 0:n.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}};const kj=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Ej,get REALTIME_LISTEN_TYPES(){return qr},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Xu},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Qu},get REALTIME_SUBSCRIBE_STATES(){return mn},RealtimeChannel:K0,RealtimeClient:Oj,RealtimePresence:Y0,WebSocketFactory:P0},Symbol.toStringTag,{value:"Module"})),J0=Ws(kj);class ei extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ge(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class Q0 extends ei{constructor(n,s,l){super(n),this.name="StorageApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zl extends ei{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}const _d=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),Rj=()=>Response,Wu=a=>{if(Array.isArray(a))return a.map(s=>Wu(s));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([s,l])=>{const c=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[c]=Wu(l)}),n},zj=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Dj=a=>!a||typeof a!="string"||a.length===0||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(a),Mu=a=>{var n;return a.msg||a.message||a.error_description||(typeof a.error=="string"?a.error:(n=a.error)===null||n===void 0?void 0:n.message)||JSON.stringify(a)},Uj=(a,n,s)=>ee(void 0,void 0,void 0,function*(){const l=yield Rj();a instanceof l&&!(s!=null&&s.noResolveJson)?a.json().then(c=>{const u=a.status||500,h=(c==null?void 0:c.statusCode)||u+"";n(new Q0(Mu(c),u,h))}).catch(c=>{n(new Zl(Mu(c),c))}):n(new Zl(Mu(a),a))}),Mj=(a,n,s,l)=>{const c={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"||!l?c:(zj(l)?(c.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(l)):c.body=l,n!=null&&n.duplex&&(c.duplex=n.duplex),Object.assign(Object.assign({},c),s))};function ti(a,n,s,l,c,u){return ee(this,void 0,void 0,function*(){return new Promise((h,m)=>{a(s,Mj(n,l,c,u)).then(g=>{if(!g.ok)throw g;return l!=null&&l.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>Uj(g,m,l))})})}function Fs(a,n,s,l){return ee(this,void 0,void 0,function*(){return ti(a,"GET",n,s,l)})}function ln(a,n,s,l,c){return ee(this,void 0,void 0,function*(){return ti(a,"POST",n,l,c,s)})}function ed(a,n,s,l,c){return ee(this,void 0,void 0,function*(){return ti(a,"PUT",n,l,c,s)})}function $j(a,n,s,l){return ee(this,void 0,void 0,function*(){return ti(a,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),l)})}function jd(a,n,s,l,c){return ee(this,void 0,void 0,function*(){return ti(a,"DELETE",n,l,c,s)})}class qj{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s}then(n,s){return this.execute().then(n,s)}execute(){return ee(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}}var X0;class Bj{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s,this[X0]="BlobDownloadBuilder",this.promise=null}asStream(){return new qj(this.downloadFn,this.shouldThrowOnError)}then(n,s){return this.getPromise().then(n,s)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ee(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}})}}X0=Symbol.toStringTag;const Lj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ig={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hj{constructor(n,s={},l,c){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=l,this.fetch=_d(c)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,l,c){return ee(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},ig),c);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),g&&u.append("metadata",this.encodeMetadata(g)),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.has("cacheControl")||u.append("cacheControl",h.cacheControl),g&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(g))):(u=l,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!h.duplex&&(h.duplex="half")),c!=null&&c.headers&&(m=Object.assign(Object.assign({},m),c.headers));const p=this._removeEmptyFolders(s),x=this._getFinalPath(p),_=yield(n=="PUT"?ed:ln)(this.fetch,`${this.url}/object/${x}`,u,Object.assign({headers:m},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:p,id:_.Id,fullPath:_.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}upload(n,s,l){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,l)})}uploadToSignedUrl(n,s,l,c){return ee(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),h=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",s);try{let g;const p=Object.assign({upsert:ig.upsert},c),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&l instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",l)):typeof FormData<"u"&&l instanceof FormData?(g=l,g.append("cacheControl",p.cacheControl)):(g=l,x["cache-control"]=`max-age=${p.cacheControl}`,x["content-type"]=p.contentType);const _=yield ed(this.fetch,m.toString(),g,{headers:x});return{data:{path:u,fullPath:_.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Ge(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(n,s){return ee(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n);const c=Object.assign({},this.headers);s!=null&&s.upsert&&(c["x-upsert"]="true");const u=yield ln(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:c}),h=new URL(this.url+u.url),m=h.searchParams.get("token");if(!m)throw new ei("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:m},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}update(n,s,l){return ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,l)})}move(n,s,l){return ee(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}copy(n,s,l){return ee(this,void 0,void 0,function*(){try{return{data:{path:(yield ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}createSignedUrl(n,s,l){return ee(this,void 0,void 0,function*(){try{let c=this._getFinalPath(n),u=yield ln(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:s},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const h=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}createSignedUrls(n,s,l){return ee(this,void 0,void 0,function*(){try{const c=yield ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),u=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:c.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}download(n,s){const c=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),h=u?`?${u}`:"",m=this._getFinalPath(n),g=()=>Fs(this.fetch,`${this.url}/${c}/${m}${h}`,{headers:this.headers,noResolveJson:!0});return new Bj(g,this.shouldThrowOnError)}info(n){return ee(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const l=yield Fs(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Wu(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}exists(n){return ee(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield $j(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l)&&l instanceof Zl){const c=l.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:l}}throw l}})}getPublicUrl(n,s){const l=this._getFinalPath(n),c=[],u=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&c.push(u);const m=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});g!==""&&c.push(g);let p=c.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${l}${p}`)}}}remove(n){return ee(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}list(n,s,l){return ee(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},Lj),s),{prefix:n||""});return{data:yield ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},l),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}listV2(n,s){return ee(this,void 0,void 0,function*(){try{const l=Object.assign({},n);return{data:yield ln(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const W0="2.86.2",ev={"X-Client-Info":`storage-js/${W0}`};class Pj{constructor(n,s={},l,c){this.shouldThrowOnError=!1;const u=new URL(n);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ev),s),this.fetch=_d(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return ee(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(n);return{data:yield Fs(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}getBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}createBucket(n){return ee(this,arguments,void 0,function*(s,l={public:!1}){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}updateBucket(n,s){return ee(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}})}emptyBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}deleteBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(n){const s={};return n&&("limit"in n&&(s.limit=String(n.limit)),"offset"in n&&(s.offset=String(n.offset)),n.search&&(s.search=n.search),n.sortColumn&&(s.sortColumn=n.sortColumn),n.sortOrder&&(s.sortOrder=n.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var Js=class extends Error{constructor(a,n){var s;super(a),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((s=n.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Ij(a,n,s){const l=new URL(n,a);if(s)for(const[c,u]of Object.entries(s))u!==void 0&&l.searchParams.set(c,u);return l.toString()}async function Zj(a){return!a||a.type==="none"?{}:a.type==="bearer"?{Authorization:`Bearer ${a.token}`}:a.type==="header"?{[a.name]:a.value}:a.type==="custom"?await a.getHeaders():{}}function Gj(a){const n=a.fetchImpl??globalThis.fetch;return{async request({method:s,path:l,query:c,body:u,headers:h}){const m=Ij(a.baseUrl,l,c),g=await Zj(a.auth),p=await n(m,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...g,...h},body:u?JSON.stringify(u):void 0}),x=await p.text(),_=(p.headers.get("content-type")||"").includes("application/json"),w=_&&x?JSON.parse(x):x;if(!p.ok){const S=_?w:void 0,j=S==null?void 0:S.error;throw new Js((j==null?void 0:j.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:j==null?void 0:j.type,icebergCode:j==null?void 0:j.code,details:S})}return{status:p.status,headers:p.headers,data:w}}}}function Tl(a){return a.join("")}var Vj=class{constructor(a,n=""){this.client=a,this.prefix=n}async listNamespaces(a){const n=a?{parent:Tl(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(a,n){const s={namespace:a.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tl(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tl(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tl(a.namespace)}`}),!0}catch(n){if(n instanceof Js&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(a,n){try{return await this.createNamespace(a,n)}catch(s){if(s instanceof Js&&s.status===409)return;throw s}}};function Cr(a){return a.join("")}var Yj=class{constructor(a,n="",s){this.client=a,this.prefix=n,this.accessDelegation=s}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cr(a.namespace)}/tables`})).data.identifiers}async createTable(a,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cr(a.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(a,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cr(a.namespace)}/tables/${a.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(a,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cr(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(a){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cr(a.namespace)}/tables/${a.name}`,headers:n})).data.metadata}async tableExists(a){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cr(a.namespace)}/tables/${a.name}`,headers:n}),!0}catch(s){if(s instanceof Js&&s.status===404)return!1;throw s}}async createTableIfNotExists(a,n){try{return await this.createTable(a,n)}catch(s){if(s instanceof Js&&s.status===409)return await this.loadTable({namespace:a.namespace,name:n.name});throw s}}},Kj=class{constructor(a){var l;let n="v1";a.catalogName&&(n+=`/${a.catalogName}`);const s=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=Gj({baseUrl:s,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=(l=a.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new Vj(this.client,n),this.tableOps=new Yj(this.client,n,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,n){return this.namespaceOps.createNamespace(a,n)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,n){return this.tableOps.createTable(a,n)}async updateTable(a,n){return this.tableOps.updateTable(a,n)}async dropTable(a,n){await this.tableOps.dropTable(a,n)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,n){return this.namespaceOps.createNamespaceIfNotExists(a,n)}async createTableIfNotExists(a,n){return this.tableOps.createTableIfNotExists(a,n)}};class tv{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ev),s),this.fetch=_d(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}listBuckets(n){return ee(this,void 0,void 0,function*(){try{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const l=s.toString(),c=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield Fs(this.fetch,c,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}deleteBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield jd(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}from(n){if(!Dj(n))throw new ei("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new Kj({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:()=>ee(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const wd={"X-Client-Info":`storage-js/${W0}`,"Content-Type":"application/json"};class Sd extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function zt(a){return typeof a=="object"&&a!==null&&"__isStorageVectorsError"in a}class Ml extends Sd{constructor(n,s,l){super(n),this.name="StorageVectorsApiError",this.status=s,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class nv extends Sd{constructor(n,s){super(n),this.name="StorageVectorsUnknownError",this.originalError=s}}var td;(function(a){a.InternalError="InternalError",a.S3VectorConflictException="S3VectorConflictException",a.S3VectorNotFoundException="S3VectorNotFoundException",a.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",a.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",a.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(td||(td={}));const no=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),Fj=()=>Response,av=a=>{if(typeof a!="object"||a===null)return!1;const n=Object.getPrototypeOf(a);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Jj=a=>Array.from(new Float32Array(a)),Qj=(a,n)=>{if(n!==void 0&&a.float32.length!==n)throw new Error(`Vector dimension mismatch: expected ${n}, got ${a.float32.length}`)},lg=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Xj=(a,n,s)=>ee(void 0,void 0,void 0,function*(){if(a&&typeof a=="object"&&"status"in a&&"ok"in a&&typeof a.status=="number"&&!(s!=null&&s.noResolveJson)){const c=a.status||500,u=a;if(typeof u.json=="function")u.json().then(h=>{const m=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||c+"";n(new Ml(lg(h),c,m))}).catch(()=>{const h=c+"",m=u.statusText||`HTTP ${c} error`;n(new Ml(m,c,h))});else{const h=c+"",m=u.statusText||`HTTP ${c} error`;n(new Ml(m,c,h))}}else n(new nv(lg(a),a))}),Wj=(a,n,s,l)=>{const c={method:a,headers:(n==null?void 0:n.headers)||{}};return l?(av(l)?(c.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(l)):c.body=l,Object.assign(Object.assign({},c),s)):c};function ew(a,n,s,l,c,u){return ee(this,void 0,void 0,function*(){return new Promise((h,m)=>{a(s,Wj(n,l,c,u)).then(g=>{if(!g.ok)throw g;if(l!=null&&l.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>h(g)).catch(g=>Xj(g,m,l))})})}function Zt(a,n,s,l,c){return ee(this,void 0,void 0,function*(){return ew(a,"POST",n,l,c,s)})}class rv{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wd),s),this.fetch=no(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return ee(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}getIndex(n,s){return ee(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(zt(l))return{data:null,error:l};throw l}})}listIndexes(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}deleteIndex(n,s){return ee(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:s},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(zt(l))return{data:null,error:l};throw l}})}}class sv{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wd),s),this.fetch=no(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return ee(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Zt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}getVectors(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}listVectors(n){return ee(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Zt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}queryVectors(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}deleteVectors(n){return ee(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Zt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}}class iv{constructor(n,s={},l){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},wd),s),this.fetch=no(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}getBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:yield Zt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}listBuckets(){return ee(this,arguments,void 0,function*(n={}){try{return{data:yield Zt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}deleteBucket(n){return ee(this,void 0,void 0,function*(){try{return{data:(yield Zt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(zt(s))return{data:null,error:s};throw s}})}}class lv extends iv{constructor(n,s={}){super(n,s.headers||{},s.fetch)}from(n){return new ov(this.url,this.headers,n,this.fetch)}createBucket(n){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ee(this,void 0,void 0,function*(){return s.createBucket.call(this,n)})}getBucket(n){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ee(this,void 0,void 0,function*(){return s.getBucket.call(this,n)})}listBuckets(){const n=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ee(this,arguments,void 0,function*(s={}){return n.listBuckets.call(this,s)})}deleteBucket(n){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ee(this,void 0,void 0,function*(){return s.deleteBucket.call(this,n)})}}class ov extends rv{constructor(n,s,l,c){super(n,s,c),this.vectorBucketName=l}createIndex(n){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ee(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ee(this,arguments,void 0,function*(s={}){return n.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ee(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ee(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new cv(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class cv extends sv{constructor(n,s,l,c,u){super(n,s,u),this.vectorBucketName=l,this.indexName=c}putVectors(n){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ee(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ee(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ee(this,arguments,void 0,function*(s={}){return n.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ee(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ee(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class tw extends Pj{constructor(n,s={},l,c){super(n,s,l,c)}from(n){return new Hj(this.url,this.headers,n,this.fetch)}get vectors(){return new lv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tv(this.url+"/iceberg",this.headers,this.fetch)}}const nw=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:tv,StorageApiError:Q0,StorageClient:tw,StorageError:ei,StorageUnknownError:Zl,StorageVectorsApiError:Ml,StorageVectorsClient:lv,StorageVectorsError:Sd,get StorageVectorsErrorCode(){return td},StorageVectorsUnknownError:nv,VectorBucketApi:iv,VectorBucketScope:ov,VectorDataApi:sv,VectorIndexApi:rv,VectorIndexScope:cv,isPlainObject:av,isStorageError:Ge,isStorageVectorsError:zt,normalizeToFloat32:Jj,resolveFetch:no,resolveResponse:Fj,validateVectorDimension:Qj},Symbol.toStringTag,{value:"Module"})),aw=Ws(nw);var $u={},Is={},og;function rw(){return og||(og=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.version=void 0,Is.version="2.86.2"),Is}var cg;function sw(){return cg||(cg=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_REALTIME_OPTIONS=a.DEFAULT_AUTH_OPTIONS=a.DEFAULT_DB_OPTIONS=a.DEFAULT_GLOBAL_OPTIONS=a.DEFAULT_HEADERS=void 0;const n=rw();let s="";typeof Deno<"u"?s="deno":typeof document<"u"?s="web":typeof navigator<"u"&&navigator.product==="ReactNative"?s="react-native":s="node",a.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${s}/${n.version}`},a.DEFAULT_GLOBAL_OPTIONS={headers:a.DEFAULT_HEADERS},a.DEFAULT_DB_OPTIONS={schema:"public"},a.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},a.DEFAULT_REALTIME_OPTIONS={}})($u)),$u}var qu={},ug;function iw(){return ug||(ug=1,(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fetchWithAuth=a.resolveHeadersConstructor=a.resolveFetch=void 0;const n=c=>c?(...u)=>c(...u):(...u)=>fetch(...u);a.resolveFetch=n;const s=()=>Headers;a.resolveHeadersConstructor=s;const l=(c,u,h)=>{const m=(0,a.resolveFetch)(h),g=(0,a.resolveHeadersConstructor)();return async(p,x)=>{var _;const w=(_=await u())!==null&&_!==void 0?_:c;let S=new g(x==null?void 0:x.headers);return S.has("apikey")||S.set("apikey",c),S.has("Authorization")||S.set("Authorization",`Bearer ${w}`),m(p,Object.assign(Object.assign({},x),{headers:S}))}};a.fetchWithAuth=l})(qu)),qu}var Mn={},dg;function lw(){if(dg)return Mn;dg=1,Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.isBrowser=void 0,Mn.uuid=a,Mn.ensureTrailingSlash=n,Mn.applySettingDefaults=l,Mn.validateSupabaseUrl=c;function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var h=Math.random()*16|0,m=u=="x"?h:h&3|8;return m.toString(16)})}function n(u){return u.endsWith("/")?u:u+"/"}const s=()=>typeof window<"u";Mn.isBrowser=s;function l(u,h){var m,g;const{db:p,auth:x,realtime:_,global:w}=u,{db:S,auth:j,realtime:A,global:O}=h,U={db:Object.assign(Object.assign({},S),p),auth:Object.assign(Object.assign({},j),x),realtime:Object.assign(Object.assign({},A),_),storage:{},global:Object.assign(Object.assign(Object.assign({},O),w),{headers:Object.assign(Object.assign({},(m=O==null?void 0:O.headers)!==null&&m!==void 0?m:{}),(g=w==null?void 0:w.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return u.accessToken?U.accessToken=u.accessToken:delete U.accessToken,U}function c(u){const h=u==null?void 0:u.trim();if(!h)throw new Error("supabaseUrl is required.");if(!h.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(n(h))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Mn}var Zs={};const uv="2.86.2",Dr=30*1e3,nd=3,Bu=nd*Dr,ow="http://localhost:9999",cw="supabase.auth.token",uw={"X-Client-Info":`gotrue-js/${uv}`},ad="X-Supabase-Api-Version",dv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hw=600*1e3;let Ir=class extends Error{constructor(n,s,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=l}};function ae(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}let hv=class extends Ir{constructor(n,s,l){super(n,s,l),this.name="AuthApiError",this.status=s,this.code=l}};function fv(a){return ae(a)&&a.name==="AuthApiError"}let da=class extends Ir{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}},Bn=class extends Ir{constructor(n,s,l,c){super(n,l,c),this.name=s,this.status=l}},Rt=class extends Bn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function mv(a){return ae(a)&&a.name==="AuthSessionMissingError"}let $a=class extends Bn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Gs=class extends Bn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},Vs=class extends Bn{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function pv(a){return ae(a)&&a.name==="AuthImplicitGrantRedirectError"}let rd=class extends Bn{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Gl=class extends Bn{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}};function $l(a){return ae(a)&&a.name==="AuthRetryableFetchError"}let sd=class extends Bn{constructor(n,s,l){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=l}};function fw(a){return ae(a)&&a.name==="AuthWeakPasswordError"}let Vl=class extends Bn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};const Yl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hg=` 	
\r=`.split(""),mw=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<hg.length;n+=1)a[hg[n].charCodeAt(0)]=-2;for(let n=0;n<Yl.length;n+=1)a[Yl[n].charCodeAt(0)]=n;return a})();function fg(a,n,s){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(Yl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;s(Yl[l]),n.queuedBits-=6}}function gv(a,n,s){const l=mw[a];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function mg(a){const n=[],s=h=>{n.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},u=h=>{vw(h,l,s)};for(let h=0;h<a.length;h+=1)gv(a.charCodeAt(h),c,u);return n.join("")}function pw(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function gw(a,n){for(let s=0;s<a.length;s+=1){let l=a.charCodeAt(s);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(a.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}pw(l,n)}}function vw(a,n,s){if(n.utf8seq===0){if(a<=127){s(a);return}for(let l=1;l<6;l+=1)if((a>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Br(a){const n=[],s={queue:0,queuedBits:0},l=c=>{n.push(c)};for(let c=0;c<a.length;c+=1)gv(a.charCodeAt(c),s,l);return new Uint8Array(n)}function yw(a){const n=[];return gw(a,s=>n.push(s)),new Uint8Array(n)}function Pa(a){const n=[],s={queue:0,queuedBits:0},l=c=>{n.push(c)};return a.forEach(c=>fg(c,s,l)),fg(null,s,l),n.join("")}function xw(a){return Math.round(Date.now()/1e3)+a}function bw(){return Symbol("auth-callback")}const yt=()=>typeof window<"u"&&typeof document<"u",Ua={tested:!1,writable:!1},vv=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ua.tested)return Ua.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),Ua.tested=!0,Ua.writable=!0}catch{Ua.tested=!0,Ua.writable=!1}return Ua.writable};function _w(a){const n={},s=new URL(a);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,u)=>{n[u]=c})}catch{}return s.searchParams.forEach((l,c)=>{n[c]=l}),n}const yv=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),jw=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",Ur=async(a,n,s)=>{await a.setItem(n,JSON.stringify(s))},Ma=async(a,n)=>{const s=await a.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},vt=async(a,n)=>{await a.removeItem(n)};class ao{constructor(){this.promise=new ao.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}ao.promiseConstructor=Promise;function Lu(a){const n=a.split(".");if(n.length!==3)throw new Vl("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!dw.test(n[l]))throw new Vl("JWT not in base64url format");return{header:JSON.parse(mg(n[0])),payload:JSON.parse(mg(n[1])),signature:Br(n[2]),raw:{header:n[0],payload:n[1]}}}async function ww(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function Sw(a,n){return new Promise((l,c)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await a(u);if(!n(u,null,h)){l(h);return}}catch(h){if(!n(u,h)){c(h);return}}})()})}function Nw(a){return("0"+a.toString(16)).substr(-2)}function Ew(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=s.length;let c="";for(let u=0;u<56;u++)c+=s.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(n),Array.from(n,Nw).join("")}async function Aw(a){const s=new TextEncoder().encode(a),l=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(l);return Array.from(c).map(u=>String.fromCharCode(u)).join("")}async function Tw(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const s=await Aw(a);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Or(a,n,s=!1){const l=Ew();let c=l;s&&(c+="/PASSWORD_RECOVERY"),await Ur(a,`${n}-code-verifier`,c);const u=await Tw(l);return[u,l===u?"plain":"s256"]}const Cw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ow(a){const n=a.headers.get(ad);if(!n||!n.match(Cw))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function kw(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function Rw(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kr(a){if(!zw.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hu(){const a={};return new Proxy(a,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const l=s.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dw(a,n){return new Proxy(a,{get:(s,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const u=l.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,l,c)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,l,c)}})}function pg(a){return JSON.parse(JSON.stringify(a))}const qa=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Uw=[502,503,504];async function gg(a){var n;if(!jw(a))throw new Gl(qa(a),0);if(Uw.includes(a.status))throw new Gl(qa(a),a.status);let s;try{s=await a.json()}catch(u){throw new da(qa(u),u)}let l;const c=Ow(a);if(c&&c.getTime()>=dv["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?l=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(l=s.error_code),l){if(l==="weak_password")throw new sd(qa(s),a.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Rt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new sd(qa(s),a.status,s.weak_password.reasons);throw new hv(qa(s),a.status||500,l)}const Mw=(a,n,s,l)=>{const c={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),s))};async function ce(a,n,s,l){var c;const u=Object.assign({},l==null?void 0:l.headers);u[ad]||(u[ad]=dv["2024-01-01"].name),l!=null&&l.jwt&&(u.Authorization=`Bearer ${l.jwt}`);const h=(c=l==null?void 0:l.query)!==null&&c!==void 0?c:{};l!=null&&l.redirectTo&&(h.redirect_to=l.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await $w(a,n,s+m,{headers:u,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(g):{data:Object.assign({},g),error:null}}async function $w(a,n,s,l,c,u){const h=Mw(n,l,c,u);let m;try{m=await a(s,Object.assign({},h))}catch(g){throw console.error(g),new Gl(qa(g),0)}if(m.ok||await gg(m),l!=null&&l.noResolveJson)return m;try{return await m.json()}catch(g){await gg(g)}}function sn(a){var n;let s=null;Lw(a)&&(s=Object.assign({},a),a.expires_at||(s.expires_at=xw(a.expires_in)));const l=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:s,user:l},error:null}}function vg(a){const n=sn(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0)&&(n.data.weak_password=a.weak_password),n}function ha(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function qw(a){return{data:a,error:null}}function Bw(a){const{action_link:n,email_otp:s,hashed_token:l,redirect_to:c,verification_type:u}=a,h=Gr(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:s,hashed_token:l,redirect_to:c,verification_type:u},g=Object.assign({},h);return{data:{properties:m,user:g},error:null}}function yg(a){return a}function Lw(a){return a.access_token&&a.refresh_token&&a.expires_in}const ql=["global","local","others"];let Nd=class{constructor({url:n="",headers:s={},fetch:l}){this.url=n,this.headers=s,this.fetch=yv(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=ql[0]){if(ql.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ql.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,s={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:ha})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:s}=n,l=Gr(n,["options"]),c=Object.assign(Object.assign({},l),s);return"newEmail"in l&&(c.new_email=l==null?void 0:l.newEmail,delete c.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Bw,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ae(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ha})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,l,c,u,h,m,g;try{const p={nextPage:null,lastPage:0,total:0},x=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:yg});if(x.error)throw x.error;const _=await x.json(),w=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(g=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(j=>{const A=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(j.split(";")[1].split("=")[1]);p[`${O}Page`]=A}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ae(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){kr(n);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ha})}catch(s){if(ae(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){kr(n);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:ha})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,s=!1){kr(n);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:ha})}catch(l){if(ae(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){kr(n.userId);try{const{data:s,error:l}=await ce(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:l}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _deleteFactor(n){kr(n.userId),kr(n.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,l,c,u,h,m,g;try{const p={nextPage:null,lastPage:0,total:0},x=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:"",per_page:(u=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&u!==void 0?u:""},xform:yg});if(x.error)throw x.error;const _=await x.json(),w=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(g=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(j=>{const A=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(j.split(";")[1].split("=")[1]);p[`${O}Page`]=A}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},_),p),error:null}}catch(p){if(ae(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ae(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ae(s))return{data:null,error:s};throw s}}};function xg(a={}){return{getItem:n=>a[n]||null,setItem:(n,s)=>{a[n]=s},removeItem:n=>{delete a[n]}}}const Ba={debug:!!(globalThis&&vv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ed extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}let xv=class extends Ed{};class Hw extends Ed{}async function bv(a,n,s){Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,c.name);try{return await s()}finally{Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,c.name)}}else{if(n===0)throw Ba.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new xv(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(Ba.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}const bg={};async function Pw(a,n,s){var l;const c=(l=bg[a])!==null&&l!==void 0?l:Promise.resolve(),u=Promise.race([c.catch(()=>null),n>=0?new Promise((h,m)=>{setTimeout(()=>{m(new Hw(`Acquring process lock with name "${a}" timed out`))},n)}):null].filter(h=>h)).catch(h=>{if(h&&h.isAcquireTimeout)throw h;return null}).then(async()=>await s());return bg[a]=u.catch(async h=>{if(h&&h.isAcquireTimeout)return await c,null;throw h}),await u}function Iw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _v(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw new Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}function Zw(a){return parseInt(a,16)}function Gw(a){const n=new TextEncoder().encode(a);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function Vw(a){var n;const{chainId:s,domain:l,expirationTime:c,issuedAt:u=new Date,nonce:h,notBefore:m,requestId:g,resources:p,scheme:x,uri:_,version:w}=a;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=a.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`)}const S=_v(a.address),j=x?`${x}://${l}`:l,A=a.statement?`${a.statement}
`:"",O=`${j} wants you to sign in with your Ethereum account:
${S}

${A}`;let U=`URI: ${_}
Version: ${w}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${u.toISOString()}`;if(c&&(U+=`
Expiration Time: ${c.toISOString()}`),m&&(U+=`
Not Before: ${m.toISOString()}`),g&&(U+=`
Request ID: ${g}`),p){let q=`
Resources:`;for(const M of p){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);q+=`
- ${M}`}U+=q}return`${O}
${U}`}class ot extends Error{constructor({message:n,code:s,cause:l,name:c}){var u;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(u=c??(l instanceof Error?l.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class Kl extends ot{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function Yw({error:a,options:n}){var s,l,c;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if(a.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});if(n.mediation==="conditional"&&((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});if(((c=u.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else{if(a.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});if(a.name==="NotAllowedError")return new ot({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});if(a.name==="SecurityError"){const h=window.location.hostname;if(jv(h)){if(u.rp.id!==h)return new ot({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if(a.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}function Kw({error:a,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(a.name==="AbortError"){if(n.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else{if(a.name==="NotAllowedError")return new ot({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});if(a.name==="SecurityError"){const l=window.location.hostname;if(jv(l)){if(s.rpId!==l)return new ot({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a})}else if(a.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}class Fw{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Jw=new Fw;function Qw(a){if(!a)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(a);const{challenge:n,user:s,excludeCredentials:l}=a,c=Gr(a,["challenge","user","excludeCredentials"]),u=Br(n).buffer,h=Object.assign(Object.assign({},s),{id:Br(s.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:u,user:h});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const p=l[g];m.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Br(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function Xw(a){if(!a)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(a);const{challenge:n,allowCredentials:s}=a,l=Gr(a,["challenge","allowCredentials"]),c=Br(n).buffer,u=Object.assign(Object.assign({},l),{challenge:c});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];u.allowCredentials[h]=Object.assign(Object.assign({},m),{id:Br(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function Ww(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const s=a;return{id:a.id,rawId:a.id,response:{attestationObject:Pa(new Uint8Array(a.response.attestationObject)),clientDataJSON:Pa(new Uint8Array(a.response.clientDataJSON))},type:"public-key",clientExtensionResults:a.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function e1(a){var n;if("toJSON"in a&&typeof a.toJSON=="function")return a.toJSON();const s=a,l=a.getClientExtensionResults(),c=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:Pa(new Uint8Array(c.authenticatorData)),clientDataJSON:Pa(new Uint8Array(c.clientDataJSON)),signature:Pa(new Uint8Array(c.signature)),userHandle:c.userHandle?Pa(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function jv(a){return a==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function _g(){var a,n;return!!(yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function t1(a){try{const n=await navigator.credentials.create(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Kl("Browser returned unexpected credential type",n)}:{data:null,error:new Kl("Empty credential response",n)}}catch(n){return{data:null,error:Yw({error:n,options:a})}}}async function n1(a){try{const n=await navigator.credentials.get(a);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Kl("Browser returned unexpected credential type",n)}:{data:null,error:new Kl("Empty credential response",n)}}catch(n){return{data:null,error:Kw({error:n,options:a})}}}const a1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},r1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Fl(...a){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of a)if(c)for(const u in c){const h=c[u];if(h!==void 0)if(Array.isArray(h))l[u]=h;else if(s(h))l[u]=h;else if(n(h)){const m=l[u];n(m)?l[u]=Fl(m,h):l[u]=Fl(h)}else l[u]=h}return l}function s1(a,n){return Fl(a1,a,n||{})}function i1(a,n){return Fl(r1,a,n||{})}class l1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:l,signal:c},u){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!h)return{data:null,error:m};const g=c??Jw.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:p}=h.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${l}`),p.displayName||(p.displayName=p.name)}switch(h.webauthn.type){case"create":{const p=s1(h.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:x,error:_}=await t1({publicKey:p,signal:g});return x?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:_}}case"request":{const p=i1(h.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:x,error:_}=await n1(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:p,signal:g}));return x?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:x}},error:null}:{data:null,error:_}}}}catch(h){return ae(h)?{data:null,error:h}:{data:null,error:new da("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:s,webauthn:l}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!s)return{data:null,error:new Ir("rpId is required for WebAuthn authentication")};try{if(!_g())return{data:null,error:new da("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:l},signal:c},{request:u});if(!h)return{data:null,error:m};const{webauthn:g}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:l,credential_response:g.credential_response}})}catch(h){return ae(h)?{data:null,error:h}:{data:null,error:new da("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},u){if(!s)return{data:null,error:new Ir("rpId is required for WebAuthn registration")};try{if(!_g())return{data:null,error:new da("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(x=>{var _;return(_=x.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:m};const{data:g,error:p}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:l},signal:c},{create:u});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(h){return ae(h)?{data:null,error:h}:{data:null,error:new da("Unexpected error in register",h)}}}}Iw();const o1={url:ow,storageKey:cw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function jg(a,n,s){return await s()}const Rr={};let Ad=class id{get jwks(){var n,s;return(s=(n=Rr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=Rr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{cachedAt:n})}constructor(n){var s,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},o1),n);if(this.storageKey=u.storageKey,this.instanceID=(s=id.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,id.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&yt()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Nd({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=yv(u.fetch),this.lock=u.lock||jg,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:yt()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=bv:this.lock=jg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new l1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:vv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xg(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=xg(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${uv}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},l="none";if(yt()&&(s=_w(window.location.href),this._isImplicitGrantCallback(s)?l="implicit":await this._isPKCECallback(s)&&(l="pkce")),yt()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:u}=await this._getSessionFromURL(s,l);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),pv(u)){const g=(n=u.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ae(s)?this._returnResult({error:s}):this._returnResult({error:new da("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,l,c;try{const u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:sn}),{data:h,error:m}=u;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const g=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var s,l,c;try{let u;if("email"in n){const{email:x,password:_,options:w}=n;let S=null,j=null;this.flowType==="pkce"&&([S,j]=await Or(this.storage,this.storageKey)),u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:x,password:_,data:(s=w==null?void 0:w.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:S,code_challenge_method:j},xform:sn})}else if("phone"in n){const{phone:x,password:_,options:w}=n;u=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:_,data:(l=w==null?void 0:w.data)!==null&&l!==void 0?l:{},channel:(c=w==null?void 0:w.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:sn})}else throw new Gs("You must provide either an email or phone number and a password");const{data:h,error:m}=u;if(m||!h)return await vt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ae(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let s;if("email"in n){const{email:u,password:h,options:m}=n;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:vg})}else if("phone"in n){const{phone:u,password:h,options:m}=n;s=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:vg})}else throw new Gs("You must provide either an email or phone number and a password");const{data:l,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new $a;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,l,c,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,l,c,u,h,m,g,p,x,_,w;let S,j;if("message"in n)S=n.message,j=n.signature;else{const{chain:A,wallet:O,statement:U,options:q}=n;let M;if(yt())if(typeof O=="object")M=O;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")M=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(q!=null&&q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=O}const V=new URL((s=q==null?void 0:q.url)!==null&&s!==void 0?s:window.location.href),se=await M.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!se||se.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const X=_v(se[0]);let y=(l=q==null?void 0:q.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!y){const K=await M.request({method:"eth_chainId"});y=Zw(K)}const F={domain:V.host,address:X,statement:U,uri:V.href,version:"1",chainId:y,nonce:(c=q==null?void 0:q.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(u=q==null?void 0:q.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=q==null?void 0:q.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=q==null?void 0:q.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=q==null?void 0:q.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(x=q==null?void 0:q.signInWithEthereum)===null||x===void 0?void 0:x.resources};S=Vw(F),j=await M.request({method:"personal_sign",params:[Gw(S),X]})}try{const{data:A,error:O}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:j},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:sn});if(O)throw O;if(!A||!A.session||!A.user){const U=new $a;return this._returnResult({data:{user:null,session:null},error:U})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:O})}catch(A){if(ae(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async signInWithSolana(n){var s,l,c,u,h,m,g,p,x,_,w,S;let j,A;if("message"in n)j=n.message,A=n.signature;else{const{chain:O,wallet:U,statement:q,options:M}=n;let V;if(yt())if(typeof U=="object")V=U;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))V=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=U}const se=new URL((s=M==null?void 0:M.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in V&&V.signIn){const X=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:se.host,uri:se.href}),q?{statement:q}:null));let y;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")y=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)y=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in y&&"signature"in y&&(typeof y.signedMessage=="string"||y.signedMessage instanceof Uint8Array)&&y.signature instanceof Uint8Array)j=typeof y.signedMessage=="string"?y.signedMessage:new TextDecoder().decode(y.signedMessage),A=y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${se.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${se.href}`,`Issued At: ${(c=(l=M==null?void 0:M.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((u=M==null?void 0:M.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((h=M==null?void 0:M.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((m=M==null?void 0:M.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((g=M==null?void 0:M.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((p=M==null?void 0:M.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((_=(x=M==null?void 0:M.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||_===void 0)&&_.length?["Resources",...M.signInWithSolana.resources.map(y=>`- ${y}`)]:[]].join(`
`);const X=await V.signMessage(new TextEncoder().encode(j),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");A=X}}try{const{data:O,error:U}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Pa(A)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:sn});if(U)throw U;if(!O||!O.session||!O.user){const q=new $a;return this._returnResult({data:{user:null,session:null},error:q})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:U})}catch(O){if(ae(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(n){const s=await Ma(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(s??"").split("/");try{const{data:u,error:h}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:sn});if(await vt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!u||!u.session||!u.user){const m=new $a;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:c??null}),error:h})}catch(u){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ae(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:s,provider:l,token:c,access_token:u,nonce:h}=n,m=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:sn}),{data:g,error:p}=m;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const x=new $a;return this._returnResult({data:{user:null,session:null},error:x})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,l,c,u,h;try{if("email"in n){const{email:m,options:g}=n;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Or(this.storage,this.storageKey));const{error:_}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:x},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in n){const{phone:m,options:g}=n,{data:p,error:x}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g==null?void 0:g.data)!==null&&c!==void 0?c:{},create_user:(u=g==null?void 0:g.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(h=g==null?void 0:g.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:x})}throw new Gs("You must provide either an email or phone number.")}catch(m){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ae(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var s,l;try{let c,u;"options"in n&&(c=(s=n.options)===null||s===void 0?void 0:s.redirectTo,u=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:m}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:c,xform:sn});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,p=h.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(c){if(ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var s,l,c,u,h;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Or(this.storage,this.storageKey));const p=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:qw});return!((u=p.data)===null||u===void 0)&&u.url&&yt()&&!(!((h=n.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(m){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ae(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;if(l)throw l;if(!s)throw new Rt;const{error:c}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(ae(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:l,type:c,options:u}=n,{error:h}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in n){const{phone:l,type:c,options:u}=n,{data:h,error:m}=await ce(this.fetch,"POST",s,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m})}throw new Gs("You must provide either an email or phone number and a type")}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=s();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Bu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const h=await Ma(this.userStorage,this.storageKey+"-user");h!=null&&h.user?n.user=h.user:n.user=Hu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=Dw(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ha}):await this._useSession(async s=>{var l,c,u;const{data:h,error:m}=s;if(m)throw m;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0,xform:ha})})}catch(s){if(ae(s))return mv(s)&&(await this._removeSession(),await vt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async l=>{const{data:c,error:u}=l;if(u)throw u;if(!c.session)throw new Rt;const h=c.session;let m=null,g=null;this.flowType==="pkce"&&n.email!=null&&([m,g]=await Or(this.storage,this.storageKey));const{data:p,error:x}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:g}),jwt:h.access_token,xform:ha});if(x)throw x;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Rt;const s=Date.now()/1e3;let l=s,c=!0,u=null;const{payload:h}=Lu(n.access_token);if(h.exp&&(l=h.exp,c=l<=s),c){const{data:m,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:g}=await this._getUser(n.access_token);if(g)throw g;u={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:l-s,expires_at:l},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(ae(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var l;if(!n){const{data:h,error:m}=s;if(m)throw m;n=(l=h.session)!==null&&l!==void 0?l:void 0}if(!(n!=null&&n.refresh_token))throw new Rt;const{data:c,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!yt())throw new Vs("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Vs(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new rd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new rd("No code detected.");const{data:q,error:M}=await this._exchangeCodeForSession(n.code);if(M)throw M;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:u,refresh_token:h,expires_in:m,expires_at:g,token_type:p}=n;if(!u||!m||!h||!p)throw new Vs("No session defined in URL");const x=Math.round(Date.now()/1e3),_=parseInt(m);let w=x+_;g&&(w=parseInt(g));const S=w-x;S*1e3<=Dr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${_}s`);const j=w-_;x-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,w,x):x-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,w,x);const{data:A,error:O}=await this._getUser(u);if(O)throw O;const U={provider_token:l,provider_refresh_token:c,access_token:u,expires_in:_,expires_at:w,refresh_token:h,token_type:p,user:A.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:n.type},error:null})}catch(l){if(ae(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Ma(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var l;const{data:c,error:u}=s;if(u)return this._returnResult({error:u});const h=(l=c.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:m}=await this.admin.signOut(h,n);if(m&&!(fv(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await vt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=bw(),l={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async s=>{var l,c;try{const{data:{session:u},error:h}=s;if(h)throw h;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,s={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Or(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ae(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:s,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:l,error:c}=await this._useSession(async u=>{var h,m,g,p,x;const{data:_,error:w}=u;if(w)throw w;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",S,{headers:this.headers,jwt:(x=(p=_.session)===null||p===void 0?void 0:p.access_token)!==null&&x!==void 0?x:void 0})});if(c)throw c;return yt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:n.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(ae(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var l;try{const{error:c,data:{session:u}}=s;if(c)throw c;const{options:h,provider:m,token:g,access_token:p,nonce:x}=n,_=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=u==null?void 0:u.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:g,access_token:p,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:sn}),{data:w,error:S}=_;return S?this._returnResult({data:{user:null,session:null},error:S}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new $a}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:S}))}catch(c){if(await vt(this.storage,`${this.storageKey}-code-verifier`),ae(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var l,c;const{data:u,error:h}=s;if(h)throw h;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const l=Date.now();return await Sw(async c=>(c>0&&await ww(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:sn})),(c,u)=>{const h=200*Math.pow(2,c);return u&&$l(u)&&Date.now()+h-l<Dr})}catch(l){if(this._debug(s,"error",l),ae(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",l),yt()&&!s.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,s;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Ma(this.storage,this.storageKey);if(c&&this.userStorage){let h=await Ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await Ur(this.userStorage,this.storageKey+"-user",h)),c.user=(n=h==null?void 0:h.user)!==null&&n!==void 0?n:Hu()}else if(c&&!c.user&&!c.user){const h=await Ma(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await vt(this.storage,this.storageKey+"-user"),await Ur(this.storage,this.storageKey,c)):c.user=Hu()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const u=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Bu;if(this._debug(l,`session has${u?"":" not"} expired with margin of ${Bu}s`),u){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),$l(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var s,l;if(!n)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new ao;const{data:u,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!u.session)throw new Rt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(c,"error",u),ae(u)){const h={data:null,error:u};return $l(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(u),u}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,s,l=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",s,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:s});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,s)}catch(g){u.push(g)}});if(await Promise.all(h),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await vt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),l=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&s.user&&await Ur(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const u=pg(c);await Ur(this.storage,this.storageKey,u)}else{const c=pg(s);await Ur(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await vt(this.storage,this.storageKey),await vt(this.storage,this.storageKey+"-code-verifier"),await vt(this.storage,this.storageKey+"-user"),this.userStorage&&await vt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Dr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:l}}=s;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-n)/Dr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Dr}ms, refresh threshold is ${nd} ticks`),c<=nd&&await this._callRefreshToken(l.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Ed)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,l){const c=[`provider=${encodeURIComponent(s)}`];if(l!=null&&l.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[u,h]=await Or(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(l!=null&&l.queryParams){const u=new URLSearchParams(l.queryParams);c.push(u.toString())}return l!=null&&l.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var l;const{data:c,error:u}=s;return u?this._returnResult({data:null,error:u}):await ce(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var l,c;const{data:u,error:h}=s;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:p}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=u==null?void 0:u.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&g.type==="totp"&&(!((c=g==null?void 0:g.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Ww(n.webauthn.credential_response):e1(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:g}=await ce(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var l;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const h=await ce(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=c==null?void 0:c.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Qw(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Xw(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=s==null?void 0:s.factors)!==null&&n!==void 0?n:[])c.all.push(u),u.status==="verified"&&c[u.factor_type].push(u);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,s;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Lu(l.access_token);let h=null;u.aal&&(h=u.aal);let m=h;((s=(n=l.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(m="aal2");const p=u.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:l},error:c}=s;return c?this._returnResult({data:null,error:c}):l?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Rt});const h=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&yt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,s){try{return await this._useSession(async l=>{const{data:{session:c},error:u}=l;if(u)return this._returnResult({data:null,error:u});if(!c)return this._returnResult({data:null,error:new Rt});const h=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&yt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:l}=n;return l?this._returnResult({data:null,error:l}):s?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Rt})})}catch(n){if(ae(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:l},error:c}=s;return c?this._returnResult({data:null,error:c}):l?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Rt})})}catch(s){if(ae(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let l=s.keys.find(m=>m.kid===n);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(m=>m.kid===n),l&&this.jwks_cached_at+hw>c)return l;const{data:u,error:h}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=c,l=u.keys.find(m=>m.kid===n),!l)?null:l}async getClaims(n,s={}){try{let l=n;if(!l){const{data:S,error:j}=await this.getSession();if(j||!S.session)return this._returnResult({data:null,error:j});l=S.session.access_token}const{header:c,payload:u,signature:h,raw:{header:m,payload:g}}=Lu(l);s!=null&&s.allowExpired||kw(u.exp);const p=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!p){const{error:S}=await this.getUser(l);if(S)throw S;return{data:{claims:u,header:c,signature:h},error:null}}const x=Rw(c.alg),_=await crypto.subtle.importKey("jwk",p,x,!0,["verify"]);if(!await crypto.subtle.verify(x,_,h,yw(`${m}.${g}`)))throw new Vl("Invalid JWT signature");return{data:{claims:u,header:c,signature:h},error:null}}catch(l){if(ae(l))return this._returnResult({data:null,error:l});throw l}}};Ad.nextInstanceID={};const c1=Nd,u1=Ad,d1=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:c1,AuthApiError:hv,AuthClient:u1,AuthError:Ir,AuthImplicitGrantRedirectError:Vs,AuthInvalidCredentialsError:Gs,AuthInvalidJwtError:Vl,AuthInvalidTokenResponseError:$a,AuthPKCEGrantCodeExchangeError:rd,AuthRetryableFetchError:Gl,AuthSessionMissingError:Rt,AuthUnknownError:da,AuthWeakPasswordError:sd,CustomAuthError:Bn,GoTrueAdminApi:Nd,GoTrueClient:Ad,NavigatorLockAcquireTimeoutError:xv,SIGN_OUT_SCOPES:ql,isAuthApiError:fv,isAuthError:ae,isAuthImplicitGrantRedirectError:pv,isAuthRetryableFetchError:$l,isAuthSessionMissingError:mv,isAuthWeakPasswordError:fw,lockInternals:Ba,navigatorLock:bv,processLock:Pw},Symbol.toStringTag,{value:"Module"})),wv=Ws(d1);var wg;function h1(){if(wg)return Zs;wg=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.SupabaseAuthClient=void 0;const a=wv;let n=class extends a.AuthClient{constructor(l){super(l)}};return Zs.SupabaseAuthClient=n,Zs}var Sg;function Ng(){if(Sg)return bl;Sg=1,Object.defineProperty(bl,"__esModule",{value:!0});const a=U0,n=H0(),s=J0,l=aw,c=sw(),u=iw(),h=lw(),m=h1();class g{constructor(x,_,w){var S,j,A;this.supabaseUrl=x,this.supabaseKey=_;const O=(0,h.validateSupabaseUrl)(x);if(!_)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",O),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",O),this.storageUrl=new URL("storage/v1",O),this.functionsUrl=new URL("functions/v1",O);const U=`sb-${O.hostname.split(".")[0]}-auth-token`,q={db:c.DEFAULT_DB_OPTIONS,realtime:c.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},c.DEFAULT_AUTH_OPTIONS),{storageKey:U}),global:c.DEFAULT_GLOBAL_OPTIONS},M=(0,h.applySettingDefaults)(w??{},q);this.storageKey=(S=M.auth.storageKey)!==null&&S!==void 0?S:"",this.headers=(j=M.global.headers)!==null&&j!==void 0?j:{},M.accessToken?(this.accessToken=M.accessToken,this.auth=new Proxy({},{get:(V,se)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(se)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((A=M.auth)!==null&&A!==void 0?A:{},this.headers,M.global.fetch),this.fetch=(0,u.fetchWithAuth)(_,this._getAccessToken.bind(this),M.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},M.realtime)),this.accessToken&&this.accessToken().then(V=>this.realtime.setAuth(V)).catch(V=>console.warn("Failed to set initial Realtime auth token:",V)),this.rest=new n.PostgrestClient(new URL("rest/v1",O).href,{headers:this.headers,schema:M.db.schema,fetch:this.fetch}),this.storage=new l.StorageClient(this.storageUrl.href,this.headers,this.fetch,w==null?void 0:w.storage),M.accessToken||this._listenForAuthEvents()}get functions(){return new a.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(x){return this.rest.from(x)}schema(x){return this.rest.schema(x)}rpc(x,_={},w={head:!1,get:!1,count:void 0}){return this.rest.rpc(x,_,w)}channel(x,_={config:{}}){return this.realtime.channel(x,_)}getChannels(){return this.realtime.getChannels()}removeChannel(x){return this.realtime.removeChannel(x)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var x,_;if(this.accessToken)return await this.accessToken();const{data:w}=await this.auth.getSession();return(_=(x=w.session)===null||x===void 0?void 0:x.access_token)!==null&&_!==void 0?_:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:x,persistSession:_,detectSessionInUrl:w,storage:S,userStorage:j,storageKey:A,flowType:O,lock:U,debug:q,throwOnError:M},V,se){const X={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},X),V),storageKey:A,autoRefreshToken:x,persistSession:_,detectSessionInUrl:w,storage:S,userStorage:j,flowType:O,lock:U,debug:q,throwOnError:M,fetch:se,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(x){return new s.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},x),{params:Object.assign({apikey:this.supabaseKey},x==null?void 0:x.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((_,w)=>{this._handleTokenChanged(_,"CLIENT",w==null?void 0:w.access_token)})}_handleTokenChanged(x,_,w){(x==="TOKEN_REFRESHED"||x==="SIGNED_IN")&&this.changedAccessToken!==w?(this.changedAccessToken=w,this.realtime.setAuth(w)):x==="SIGNED_OUT"&&(this.realtime.setAuth(),_=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return bl.default=g,bl}var Eg;function f1(){return Eg||(Eg=1,(function(a){var n=Un&&Un.__createBinding||(Object.create?(function(x,_,w,S){S===void 0&&(S=w);var j=Object.getOwnPropertyDescriptor(_,w);(!j||("get"in j?!_.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(x,S,j)}):(function(x,_,w,S){S===void 0&&(S=w),x[S]=_[w]})),s=Un&&Un.__exportStar||function(x,_){for(var w in x)w!=="default"&&!Object.prototype.hasOwnProperty.call(_,w)&&n(_,x,w)},l=Un&&Un.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(a,"__esModule",{value:!0}),a.createClient=a.SupabaseClient=a.FunctionRegion=a.FunctionsError=a.FunctionsRelayError=a.FunctionsFetchError=a.FunctionsHttpError=a.PostgrestError=void 0;const c=l(Ng());s(wv,a);var u=H0();Object.defineProperty(a,"PostgrestError",{enumerable:!0,get:function(){return u.PostgrestError}});var h=U0;Object.defineProperty(a,"FunctionsHttpError",{enumerable:!0,get:function(){return h.FunctionsHttpError}}),Object.defineProperty(a,"FunctionsFetchError",{enumerable:!0,get:function(){return h.FunctionsFetchError}}),Object.defineProperty(a,"FunctionsRelayError",{enumerable:!0,get:function(){return h.FunctionsRelayError}}),Object.defineProperty(a,"FunctionsError",{enumerable:!0,get:function(){return h.FunctionsError}}),Object.defineProperty(a,"FunctionRegion",{enumerable:!0,get:function(){return h.FunctionRegion}}),s(J0,a);var m=Ng();Object.defineProperty(a,"SupabaseClient",{enumerable:!0,get:function(){return l(m).default}});const g=(x,_,w)=>new c.default(x,_,w);a.createClient=g;function p(){if(typeof window<"u"||typeof process>"u")return!1;const x=process.version;if(x==null)return!1;const _=x.match(/^v(\d+)\./);return _?parseInt(_[1],10)<=18:!1}p()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Un)),Un}var Sv=f1();const Nv=Yg(Sv),m1=jb({__proto__:null,default:Nv},[Sv]),{PostgrestError:LA,FunctionsHttpError:HA,FunctionsFetchError:PA,FunctionsRelayError:IA,FunctionsError:ZA,FunctionRegion:GA,SupabaseClient:VA,createClient:p1,GoTrueAdminApi:YA,GoTrueClient:KA,AuthAdminApi:FA,AuthClient:JA,navigatorLock:QA,NavigatorLockAcquireTimeoutError:XA,lockInternals:WA,processLock:eT,SIGN_OUT_SCOPES:tT,AuthError:nT,AuthApiError:aT,AuthUnknownError:rT,CustomAuthError:sT,AuthSessionMissingError:iT,AuthInvalidTokenResponseError:lT,AuthInvalidCredentialsError:oT,AuthImplicitGrantRedirectError:cT,AuthPKCEGrantCodeExchangeError:uT,AuthRetryableFetchError:dT,AuthWeakPasswordError:hT,AuthInvalidJwtError:fT,isAuthError:mT,isAuthApiError:pT,isAuthSessionMissingError:gT,isAuthImplicitGrantRedirectError:vT,isAuthRetryableFetchError:yT,isAuthWeakPasswordError:xT,RealtimePresence:bT,RealtimeChannel:_T,RealtimeClient:jT,REALTIME_LISTEN_TYPES:wT,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:ST,REALTIME_PRESENCE_LISTEN_EVENTS:NT,REALTIME_SUBSCRIBE_STATES:ET,REALTIME_CHANNEL_STATES:AT}=Nv||m1,g1="https://yrohswgyceedbarsxtxl.supabase.co",v1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlyb2hzd2d5Y2VlZGJhcnN4dHhsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5ODA3NDcsImV4cCI6MjA4MDU1Njc0N30.VX-74kSH0MtW3cdNEHlxmib4N8Nma4MUDtqzTHrGQ8k",et=p1(g1,v1),Ev=Y.createContext(void 0),y1=({children:a})=>{const[n,s]=Y.useState(null),[l,c]=Y.useState(null),[u,h]=Y.useState(null),[m,g]=Y.useState(!0),p=Y.useCallback(async j=>{const{data:A,error:O}=await et.from("users").select("id, email, display_name, org_id, role").eq("id",j).maybeSingle();return O?(console.warn("[Auth] Profile fetch error:",O.message),null):A?{id:A.id,email:A.email,displayName:A.display_name,orgId:A.org_id,role:A.role}:(console.log("[Auth] No profile found for user, using default org"),null)},[]);Y.useEffect(()=>{console.log("[Auth] Starting session check...");let j=!1;const A=setTimeout(()=>{j||(console.warn("[Auth] Session check timed out after 5s, proceeding without session"),g(!1),j=!0)},5e3);et.auth.getSession().then(async({data:{session:U}})=>{if(console.log("[Auth] Session result:",U?"Has session":"No session"),c(U),s((U==null?void 0:U.user)??null),U!=null&&U.user){console.log("[Auth] Fetching profile for user:",U.user.id);try{const q=await p(U.user.id);console.log("[Auth] Profile result:",q?"Found":"Not found"),h(q)}catch(q){console.error("[Auth] Profile fetch error:",q)}}console.log("[Auth] Setting loading to false"),j||(g(!1),j=!0),clearTimeout(A)}).catch(U=>{console.error("[Auth] Failed to get session:",U),j||(g(!1),j=!0),clearTimeout(A)});const{data:{subscription:O}}=et.auth.onAuthStateChange(async(U,q)=>{if(console.log("[Auth] Auth state changed:",U),c(q),s((q==null?void 0:q.user)??null),q!=null&&q.user){const M=await p(q.user.id);h(M)}else h(null)});return()=>{O.unsubscribe(),clearTimeout(A)}},[p]);const x=async(j,A)=>{const{data:O,error:U}=await et.auth.signInWithPassword({email:j,password:A});if(!U&&O.session){c(O.session),s(O.session.user);const q=await p(O.session.user.id);h(q)}return{error:U}},_=async j=>{const{error:A}=await et.auth.signInWithOAuth({provider:j==="azure"?"azure":"google",options:{redirectTo:window.location.origin}});return{error:A}},w=async(j,A,O)=>{const{error:U}=await et.auth.signUp({email:j,password:A,options:{data:{display_name:O||j.split("@")[0]}}});return{error:U}},S=async()=>{console.log("[Auth] Logging out..."),s(null),c(null),h(null);try{await et.auth.signOut(),console.log("[Auth] Supabase signOut complete")}catch(A){console.error("[Auth] Logout error:",A)}const j=[];for(let A=0;A<localStorage.length;A++){const O=localStorage.key(A);O&&(O.startsWith("sb-")||O.includes("supabase"))&&j.push(O)}j.forEach(A=>localStorage.removeItem(A)),console.log("[Auth] LocalStorage cleared, state cleared")};return i.jsx(Ev.Provider,{value:{user:n,session:l,profile:u,loading:m,login:x,signup:w,loginWithOAuth:_,logout:S},children:a})},ro=()=>{const a=Y.useContext(Ev);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},x1=({onSuccess:a,onSwitchToSignup:n})=>{const{login:s,loginWithOAuth:l}=ro(),[c,u]=Y.useState(""),[h,m]=Y.useState(""),[g,p]=Y.useState(null),[x,_]=Y.useState(!1),[w,S]=Y.useState(null),j=async O=>{O.preventDefault(),p(null),_(!0);const{error:U}=await s(c,h);U?(p(U.message),_(!1)):a==null||a()},A=async O=>{p(null),S(O);const{error:U}=await l(O);U&&(p(U.message),S(null))};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F9F9F7]",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-12 h-12 bg-black rounded-xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-white text-xl font-bold",children:"G"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome back"}),i.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Sign in to your account"})]}),g&&i.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:g}),i.jsxs("form",{onSubmit:j,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{id:"email",type:"email",value:c,onChange:O=>u(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-black focus:ring-1 focus:ring-black transition-colors",placeholder:"you@example.com",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsx("input",{id:"password",type:"password",value:h,onChange:O=>m(O.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-black focus:ring-1 focus:ring-black transition-colors",placeholder:"",required:!0})]}),i.jsx("button",{type:"submit",disabled:x,className:"w-full py-3 px-4 bg-black text-white font-medium rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Signing in...":"Sign in"})]}),i.jsxs("div",{className:"my-6 flex items-center gap-2 text-xs text-gray-400 uppercase tracking-widest",children:[i.jsx("div",{className:"flex-1 h-px bg-gray-200"}),i.jsx("span",{children:"or"}),i.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("button",{type:"button",onClick:()=>A("google"),disabled:!!w,className:"w-full py-3 px-4 border border-gray-200 rounded-lg flex items-center justify-center gap-2 text-sm font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:[i.jsx(md,{size:16}),w==="google"?"Redirecting":"Sign in with Google"]}),i.jsxs("button",{type:"button",onClick:()=>A("azure"),disabled:!!w,className:"w-full py-3 px-4 border border-gray-200 rounded-lg flex items-center justify-center gap-2 text-sm font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:[i.jsx(t0,{size:16}),w==="azure"?"Redirecting":"Sign in with Microsoft"]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-500",children:["Don't have an account?"," ",i.jsx("button",{onClick:n,className:"text-black font-medium hover:underline",children:"Sign up"})]})})]})})})},b1=({onSuccess:a,onSwitchToLogin:n})=>{const{signup:s,loginWithOAuth:l}=ro(),[c,u]=Y.useState(""),[h,m]=Y.useState(""),[g,p]=Y.useState(""),[x,_]=Y.useState(""),[w,S]=Y.useState(null),[j,A]=Y.useState(!1),[O,U]=Y.useState(!1),[q,M]=Y.useState(null),V=async X=>{if(X.preventDefault(),S(null),h!==g){S("Passwords do not match");return}if(h.length<6){S("Password must be at least 6 characters");return}A(!0);const{error:y}=await s(c,h,x);y?(S(y.message),A(!1)):(U(!0),A(!1))},se=async X=>{S(null),M(X);const{error:y}=await l(X);y&&(S(y.message),M(null))};return O?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F9F9F7]",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100 text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Check your email"}),i.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["We've sent a confirmation link to ",i.jsx("strong",{children:c})]}),i.jsx("button",{onClick:n,className:"text-black font-medium hover:underline",children:"Back to login"})]})})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F9F9F7]",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-12 h-12 bg-black rounded-xl flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-white text-xl font-bold",children:"G"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Create account"}),i.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Start managing your immigration cases"})]}),w&&i.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:w}),i.jsxs("form",{onSubmit:V,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),i.jsx("input",{id:"displayName",type:"text",value:x,onChange:X=>_(X.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-black focus:ring-1 focus:ring-black transition-colors",placeholder:"John Doe"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{id:"email",type:"email",value:c,onChange:X=>u(X.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-black focus:ring-1 focus:ring-black transition-colors",placeholder:"you@example.com",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsx("input",{id:"password",type:"password",value:h,onChange:X=>m(X.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-black focus:ring-1 focus:ring-black transition-colors",placeholder:"",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),i.jsx("input",{id:"confirmPassword",type:"password",value:g,onChange:X=>p(X.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:border-black focus:ring-1 focus:ring-black transition-colors",placeholder:"",required:!0})]}),i.jsx("button",{type:"submit",disabled:j,className:"w-full py-3 px-4 bg-black text-white font-medium rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Creating account...":"Create account"})]}),i.jsxs("div",{className:"my-6 flex items-center gap-2 text-xs text-gray-400 uppercase tracking-widest",children:[i.jsx("div",{className:"flex-1 h-px bg-gray-200"}),i.jsx("span",{children:"or"}),i.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("button",{type:"button",onClick:()=>se("google"),disabled:!!q,className:"w-full py-3 px-4 border border-gray-200 rounded-lg flex items-center justify-center gap-2 text-sm font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:[i.jsx(md,{size:16}),q==="google"?"Redirecting":"Sign up with Google"]}),i.jsxs("button",{type:"button",onClick:()=>se("azure"),disabled:!!q,className:"w-full py-3 px-4 border border-gray-200 rounded-lg flex items-center justify-center gap-2 text-sm font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:[i.jsx(t0,{size:16}),q==="azure"?"Redirecting":"Sign up with Microsoft"]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-500",children:["Already have an account?"," ",i.jsx("button",{onClick:n,className:"text-black font-medium hover:underline",children:"Sign in"})]})})]})})})};function Z(a,n,s){function l(m,g){if(m._zod||Object.defineProperty(m,"_zod",{value:{def:g,constr:h,traits:new Set},enumerable:!1}),m._zod.traits.has(a))return;m._zod.traits.add(a),n(m,g);const p=h.prototype,x=Object.keys(p);for(let _=0;_<x.length;_++){const w=x[_];w in m||(m[w]=p[w].bind(m))}}const c=(s==null?void 0:s.Parent)??Object;class u extends c{}Object.defineProperty(u,"name",{value:a});function h(m){var g;const p=s!=null&&s.Parent?new u:this;l(p,m),(g=p._zod).deferred??(g.deferred=[]);for(const x of p._zod.deferred)x();return p}return Object.defineProperty(h,"init",{value:l}),Object.defineProperty(h,Symbol.hasInstance,{value:m=>{var g,p;return s!=null&&s.Parent&&m instanceof s.Parent?!0:(p=(g=m==null?void 0:m._zod)==null?void 0:g.traits)==null?void 0:p.has(a)}}),Object.defineProperty(h,"name",{value:a}),h}class Lr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Av extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const Tv={};function fa(a){return Tv}function _1(a){const n=Object.values(a).filter(l=>typeof l=="number");return Object.entries(a).filter(([l,c])=>n.indexOf(+l)===-1).map(([l,c])=>c)}function ld(a,n){return typeof n=="bigint"?n.toString():n}function Td(a){return{get value(){{const n=a();return Object.defineProperty(this,"value",{value:n}),n}}}}function Cd(a){return a==null}function Od(a){const n=a.startsWith("^")?1:0,s=a.endsWith("$")?a.length-1:a.length;return a.slice(n,s)}const Ag=Symbol("evaluating");function He(a,n,s){let l;Object.defineProperty(a,n,{get(){if(l!==Ag)return l===void 0&&(l=Ag,l=s()),l},set(c){Object.defineProperty(a,n,{value:c})},configurable:!0})}function Ia(a,n,s){Object.defineProperty(a,n,{value:s,writable:!0,enumerable:!0,configurable:!0})}function Za(...a){const n={};for(const s of a){const l=Object.getOwnPropertyDescriptors(s);Object.assign(n,l)}return Object.defineProperties({},n)}function Tg(a){return JSON.stringify(a)}function j1(a){return a.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Cv="captureStackTrace"in Error?Error.captureStackTrace:(...a)=>{};function Jl(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)}const w1=Td(()=>{var a;if(typeof navigator<"u"&&((a=navigator==null?void 0:navigator.userAgent)!=null&&a.includes("Cloudflare")))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function Zr(a){if(Jl(a)===!1)return!1;const n=a.constructor;if(n===void 0||typeof n!="function")return!0;const s=n.prototype;return!(Jl(s)===!1||Object.prototype.hasOwnProperty.call(s,"isPrototypeOf")===!1)}function Ov(a){return Zr(a)?{...a}:Array.isArray(a)?[...a]:a}const S1=new Set(["string","number","symbol"]);function so(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pa(a,n,s){const l=new a._zod.constr(n??a._zod.def);return(!n||s!=null&&s.parent)&&(l._zod.parent=a),l}function ue(a){const n=a;if(!n)return{};if(typeof n=="string")return{error:()=>n};if((n==null?void 0:n.message)!==void 0){if((n==null?void 0:n.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function N1(a){return Object.keys(a).filter(n=>a[n]._zod.optin==="optional"&&a[n]._zod.optout==="optional")}function E1(a,n){const s=a._zod.def,l=Za(a._zod.def,{get shape(){const c={};for(const u in n){if(!(u in s.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(c[u]=s.shape[u])}return Ia(this,"shape",c),c},checks:[]});return pa(a,l)}function A1(a,n){const s=a._zod.def,l=Za(a._zod.def,{get shape(){const c={...a._zod.def.shape};for(const u in n){if(!(u in s.shape))throw new Error(`Unrecognized key: "${u}"`);n[u]&&delete c[u]}return Ia(this,"shape",c),c},checks:[]});return pa(a,l)}function T1(a,n){if(!Zr(n))throw new Error("Invalid input to extend: expected a plain object");const s=a._zod.def.checks;if(s&&s.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const c=Za(a._zod.def,{get shape(){const u={...a._zod.def.shape,...n};return Ia(this,"shape",u),u},checks:[]});return pa(a,c)}function C1(a,n){if(!Zr(n))throw new Error("Invalid input to safeExtend: expected a plain object");const s={...a._zod.def,get shape(){const l={...a._zod.def.shape,...n};return Ia(this,"shape",l),l},checks:a._zod.def.checks};return pa(a,s)}function O1(a,n){const s=Za(a._zod.def,{get shape(){const l={...a._zod.def.shape,...n._zod.def.shape};return Ia(this,"shape",l),l},get catchall(){return n._zod.def.catchall},checks:[]});return pa(a,s)}function k1(a,n,s){const l=Za(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(s)for(const h in s){if(!(h in c))throw new Error(`Unrecognized key: "${h}"`);s[h]&&(u[h]=a?new a({type:"optional",innerType:c[h]}):c[h])}else for(const h in c)u[h]=a?new a({type:"optional",innerType:c[h]}):c[h];return Ia(this,"shape",u),u},checks:[]});return pa(n,l)}function R1(a,n,s){const l=Za(n._zod.def,{get shape(){const c=n._zod.def.shape,u={...c};if(s)for(const h in s){if(!(h in u))throw new Error(`Unrecognized key: "${h}"`);s[h]&&(u[h]=new a({type:"nonoptional",innerType:c[h]}))}else for(const h in c)u[h]=new a({type:"nonoptional",innerType:c[h]});return Ia(this,"shape",u),u},checks:[]});return pa(n,l)}function Mr(a,n=0){var s;if(a.aborted===!0)return!0;for(let l=n;l<a.issues.length;l++)if(((s=a.issues[l])==null?void 0:s.continue)!==!0)return!0;return!1}function $r(a,n){return n.map(s=>{var l;return(l=s).path??(l.path=[]),s.path.unshift(a),s})}function Cl(a){return typeof a=="string"?a:a==null?void 0:a.message}function ma(a,n,s){var c,u,h,m,g,p;const l={...a,path:a.path??[]};if(!a.message){const x=Cl((h=(u=(c=a.inst)==null?void 0:c._zod.def)==null?void 0:u.error)==null?void 0:h.call(u,a))??Cl((m=n==null?void 0:n.error)==null?void 0:m.call(n,a))??Cl((g=s.customError)==null?void 0:g.call(s,a))??Cl((p=s.localeError)==null?void 0:p.call(s,a))??"Invalid input";l.message=x}return delete l.inst,delete l.continue,n!=null&&n.reportInput||delete l.input,l}function kd(a){return Array.isArray(a)?"array":typeof a=="string"?"string":"unknown"}function Qs(...a){const[n,s,l]=a;return typeof n=="string"?{message:n,code:"custom",input:s,inst:l}:{...n}}const kv=(a,n)=>{a.name="$ZodError",Object.defineProperty(a,"_zod",{value:a._zod,enumerable:!1}),Object.defineProperty(a,"issues",{value:n,enumerable:!1}),a.message=JSON.stringify(n,ld,2),Object.defineProperty(a,"toString",{value:()=>a.message,enumerable:!1})},Rv=Z("$ZodError",kv),zv=Z("$ZodError",kv,{Parent:Error});function z1(a,n=s=>s.message){const s={},l=[];for(const c of a.issues)c.path.length>0?(s[c.path[0]]=s[c.path[0]]||[],s[c.path[0]].push(n(c))):l.push(n(c));return{formErrors:l,fieldErrors:s}}function D1(a,n=s=>s.message){const s={_errors:[]},l=c=>{for(const u of c.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(h=>l({issues:h}));else if(u.code==="invalid_key")l({issues:u.issues});else if(u.code==="invalid_element")l({issues:u.issues});else if(u.path.length===0)s._errors.push(n(u));else{let h=s,m=0;for(;m<u.path.length;){const g=u.path[m];m===u.path.length-1?(h[g]=h[g]||{_errors:[]},h[g]._errors.push(n(u))):h[g]=h[g]||{_errors:[]},h=h[g],m++}}};return l(a),s}const Rd=a=>(n,s,l,c)=>{const u=l?Object.assign(l,{async:!1}):{async:!1},h=n._zod.run({value:s,issues:[]},u);if(h instanceof Promise)throw new Lr;if(h.issues.length){const m=new((c==null?void 0:c.Err)??a)(h.issues.map(g=>ma(g,u,fa())));throw Cv(m,c==null?void 0:c.callee),m}return h.value},zd=a=>async(n,s,l,c)=>{const u=l?Object.assign(l,{async:!0}):{async:!0};let h=n._zod.run({value:s,issues:[]},u);if(h instanceof Promise&&(h=await h),h.issues.length){const m=new((c==null?void 0:c.Err)??a)(h.issues.map(g=>ma(g,u,fa())));throw Cv(m,c==null?void 0:c.callee),m}return h.value},io=a=>(n,s,l)=>{const c=l?{...l,async:!1}:{async:!1},u=n._zod.run({value:s,issues:[]},c);if(u instanceof Promise)throw new Lr;return u.issues.length?{success:!1,error:new(a??Rv)(u.issues.map(h=>ma(h,c,fa())))}:{success:!0,data:u.value}},U1=io(zv),lo=a=>async(n,s,l)=>{const c=l?Object.assign(l,{async:!0}):{async:!0};let u=n._zod.run({value:s,issues:[]},c);return u instanceof Promise&&(u=await u),u.issues.length?{success:!1,error:new a(u.issues.map(h=>ma(h,c,fa())))}:{success:!0,data:u.value}},M1=lo(zv),$1=a=>(n,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return Rd(a)(n,s,c)},q1=a=>(n,s,l)=>Rd(a)(n,s,l),B1=a=>async(n,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return zd(a)(n,s,c)},L1=a=>async(n,s,l)=>zd(a)(n,s,l),H1=a=>(n,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return io(a)(n,s,c)},P1=a=>(n,s,l)=>io(a)(n,s,l),I1=a=>async(n,s,l)=>{const c=l?Object.assign(l,{direction:"backward"}):{direction:"backward"};return lo(a)(n,s,c)},Z1=a=>async(n,s,l)=>lo(a)(n,s,l),G1=/^[cC][^\s-]{8,}$/,V1=/^[0-9a-z]+$/,Y1=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,K1=/^[0-9a-vA-V]{20}$/,F1=/^[A-Za-z0-9]{27}$/,J1=/^[a-zA-Z0-9_-]{21}$/,Q1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,X1=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Cg=a=>a?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${a}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,W1=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,eS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function tS(){return new RegExp(eS,"u")}const nS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aS=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,rS=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,sS=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iS=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Dv=/^[A-Za-z0-9_-]*$/,lS=/^\+(?:[0-9]){6,14}[0-9]$/,Uv="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",oS=new RegExp(`^${Uv}$`);function Mv(a){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof a.precision=="number"?a.precision===-1?`${n}`:a.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${a.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function cS(a){return new RegExp(`^${Mv(a)}$`)}function uS(a){const n=Mv({precision:a.precision}),s=["Z"];a.local&&s.push(""),a.offset&&s.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const l=`${n}(?:${s.join("|")})`;return new RegExp(`^${Uv}T(?:${l})$`)}const dS=a=>{const n=a?`[\\s\\S]{${(a==null?void 0:a.minimum)??0},${(a==null?void 0:a.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},hS=/^(?:true|false)$/i,fS=/^[^A-Z]*$/,mS=/^[^a-z]*$/,gn=Z("$ZodCheck",(a,n)=>{var s;a._zod??(a._zod={}),a._zod.def=n,(s=a._zod).onattach??(s.onattach=[])}),pS=Z("$ZodCheckMaxLength",(a,n)=>{var s;gn.init(a,n),(s=a._zod.def).when??(s.when=l=>{const c=l.value;return!Cd(c)&&c.length!==void 0}),a._zod.onattach.push(l=>{const c=l._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<c&&(l._zod.bag.maximum=n.maximum)}),a._zod.check=l=>{const c=l.value;if(c.length<=n.maximum)return;const h=kd(c);l.issues.push({origin:h,code:"too_big",maximum:n.maximum,inclusive:!0,input:c,inst:a,continue:!n.abort})}}),gS=Z("$ZodCheckMinLength",(a,n)=>{var s;gn.init(a,n),(s=a._zod.def).when??(s.when=l=>{const c=l.value;return!Cd(c)&&c.length!==void 0}),a._zod.onattach.push(l=>{const c=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>c&&(l._zod.bag.minimum=n.minimum)}),a._zod.check=l=>{const c=l.value;if(c.length>=n.minimum)return;const h=kd(c);l.issues.push({origin:h,code:"too_small",minimum:n.minimum,inclusive:!0,input:c,inst:a,continue:!n.abort})}}),vS=Z("$ZodCheckLengthEquals",(a,n)=>{var s;gn.init(a,n),(s=a._zod.def).when??(s.when=l=>{const c=l.value;return!Cd(c)&&c.length!==void 0}),a._zod.onattach.push(l=>{const c=l._zod.bag;c.minimum=n.length,c.maximum=n.length,c.length=n.length}),a._zod.check=l=>{const c=l.value,u=c.length;if(u===n.length)return;const h=kd(c),m=u>n.length;l.issues.push({origin:h,...m?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:l.value,inst:a,continue:!n.abort})}}),oo=Z("$ZodCheckStringFormat",(a,n)=>{var s,l;gn.init(a,n),a._zod.onattach.push(c=>{const u=c._zod.bag;u.format=n.format,n.pattern&&(u.patterns??(u.patterns=new Set),u.patterns.add(n.pattern))}),n.pattern?(s=a._zod).check??(s.check=c=>{n.pattern.lastIndex=0,!n.pattern.test(c.value)&&c.issues.push({origin:"string",code:"invalid_format",format:n.format,input:c.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:a,continue:!n.abort})}):(l=a._zod).check??(l.check=()=>{})}),yS=Z("$ZodCheckRegex",(a,n)=>{oo.init(a,n),a._zod.check=s=>{n.pattern.lastIndex=0,!n.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:"regex",input:s.value,pattern:n.pattern.toString(),inst:a,continue:!n.abort})}}),xS=Z("$ZodCheckLowerCase",(a,n)=>{n.pattern??(n.pattern=fS),oo.init(a,n)}),bS=Z("$ZodCheckUpperCase",(a,n)=>{n.pattern??(n.pattern=mS),oo.init(a,n)}),_S=Z("$ZodCheckIncludes",(a,n)=>{gn.init(a,n);const s=so(n.includes),l=new RegExp(typeof n.position=="number"?`^.{${n.position}}${s}`:s);n.pattern=l,a._zod.onattach.push(c=>{const u=c._zod.bag;u.patterns??(u.patterns=new Set),u.patterns.add(l)}),a._zod.check=c=>{c.value.includes(n.includes,n.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:c.value,inst:a,continue:!n.abort})}}),jS=Z("$ZodCheckStartsWith",(a,n)=>{gn.init(a,n);const s=new RegExp(`^${so(n.prefix)}.*`);n.pattern??(n.pattern=s),a._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),a._zod.check=l=>{l.value.startsWith(n.prefix)||l.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:l.value,inst:a,continue:!n.abort})}}),wS=Z("$ZodCheckEndsWith",(a,n)=>{gn.init(a,n);const s=new RegExp(`.*${so(n.suffix)}$`);n.pattern??(n.pattern=s),a._zod.onattach.push(l=>{const c=l._zod.bag;c.patterns??(c.patterns=new Set),c.patterns.add(s)}),a._zod.check=l=>{l.value.endsWith(n.suffix)||l.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:l.value,inst:a,continue:!n.abort})}}),SS=Z("$ZodCheckOverwrite",(a,n)=>{gn.init(a,n),a._zod.check=s=>{s.value=n.tx(s.value)}});class NS{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const l=n.split(`
`).filter(h=>h),c=Math.min(...l.map(h=>h.length-h.trimStart().length)),u=l.map(h=>h.slice(c)).map(h=>" ".repeat(this.indent*2)+h);for(const h of u)this.content.push(h)}compile(){const n=Function,s=this==null?void 0:this.args,c=[...((this==null?void 0:this.content)??[""]).map(u=>`  ${u}`)];return new n(...s,c.join(`
`))}}const ES={major:4,minor:1,patch:13},Je=Z("$ZodType",(a,n)=>{var c;var s;a??(a={}),a._zod.def=n,a._zod.bag=a._zod.bag||{},a._zod.version=ES;const l=[...a._zod.def.checks??[]];a._zod.traits.has("$ZodCheck")&&l.unshift(a);for(const u of l)for(const h of u._zod.onattach)h(a);if(l.length===0)(s=a._zod).deferred??(s.deferred=[]),(c=a._zod.deferred)==null||c.push(()=>{a._zod.run=a._zod.parse});else{const u=(m,g,p)=>{let x=Mr(m),_;for(const w of g){if(w._zod.def.when){if(!w._zod.def.when(m))continue}else if(x)continue;const S=m.issues.length,j=w._zod.check(m);if(j instanceof Promise&&(p==null?void 0:p.async)===!1)throw new Lr;if(_||j instanceof Promise)_=(_??Promise.resolve()).then(async()=>{await j,m.issues.length!==S&&(x||(x=Mr(m,S)))});else{if(m.issues.length===S)continue;x||(x=Mr(m,S))}}return _?_.then(()=>m):m},h=(m,g,p)=>{if(Mr(m))return m.aborted=!0,m;const x=u(g,l,p);if(x instanceof Promise){if(p.async===!1)throw new Lr;return x.then(_=>a._zod.parse(_,p))}return a._zod.parse(x,p)};a._zod.run=(m,g)=>{if(g.skipChecks)return a._zod.parse(m,g);if(g.direction==="backward"){const x=a._zod.parse({value:m.value,issues:[]},{...g,skipChecks:!0});return x instanceof Promise?x.then(_=>h(_,m,g)):h(x,m,g)}const p=a._zod.parse(m,g);if(p instanceof Promise){if(g.async===!1)throw new Lr;return p.then(x=>u(x,l,g))}return u(p,l,g)}}a["~standard"]={validate:u=>{var h;try{const m=U1(a,u);return m.success?{value:m.data}:{issues:(h=m.error)==null?void 0:h.issues}}catch{return M1(a,u).then(g=>{var p;return g.success?{value:g.data}:{issues:(p=g.error)==null?void 0:p.issues}})}},vendor:"zod",version:1}}),Dd=Z("$ZodString",(a,n)=>{var s;Je.init(a,n),a._zod.pattern=[...((s=a==null?void 0:a._zod.bag)==null?void 0:s.patterns)??[]].pop()??dS(a._zod.bag),a._zod.parse=(l,c)=>{if(n.coerce)try{l.value=String(l.value)}catch{}return typeof l.value=="string"||l.issues.push({expected:"string",code:"invalid_type",input:l.value,inst:a}),l}}),Ve=Z("$ZodStringFormat",(a,n)=>{oo.init(a,n),Dd.init(a,n)}),AS=Z("$ZodGUID",(a,n)=>{n.pattern??(n.pattern=X1),Ve.init(a,n)}),TS=Z("$ZodUUID",(a,n)=>{if(n.version){const l={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(l===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=Cg(l))}else n.pattern??(n.pattern=Cg());Ve.init(a,n)}),CS=Z("$ZodEmail",(a,n)=>{n.pattern??(n.pattern=W1),Ve.init(a,n)}),OS=Z("$ZodURL",(a,n)=>{Ve.init(a,n),a._zod.check=s=>{try{const l=s.value.trim(),c=new URL(l);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(c.hostname)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:n.hostname.source,input:s.value,inst:a,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(c.protocol.endsWith(":")?c.protocol.slice(0,-1):c.protocol)||s.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:s.value,inst:a,continue:!n.abort})),n.normalize?s.value=c.href:s.value=l;return}catch{s.issues.push({code:"invalid_format",format:"url",input:s.value,inst:a,continue:!n.abort})}}}),kS=Z("$ZodEmoji",(a,n)=>{n.pattern??(n.pattern=tS()),Ve.init(a,n)}),RS=Z("$ZodNanoID",(a,n)=>{n.pattern??(n.pattern=J1),Ve.init(a,n)}),zS=Z("$ZodCUID",(a,n)=>{n.pattern??(n.pattern=G1),Ve.init(a,n)}),DS=Z("$ZodCUID2",(a,n)=>{n.pattern??(n.pattern=V1),Ve.init(a,n)}),US=Z("$ZodULID",(a,n)=>{n.pattern??(n.pattern=Y1),Ve.init(a,n)}),MS=Z("$ZodXID",(a,n)=>{n.pattern??(n.pattern=K1),Ve.init(a,n)}),$S=Z("$ZodKSUID",(a,n)=>{n.pattern??(n.pattern=F1),Ve.init(a,n)}),qS=Z("$ZodISODateTime",(a,n)=>{n.pattern??(n.pattern=uS(n)),Ve.init(a,n)}),BS=Z("$ZodISODate",(a,n)=>{n.pattern??(n.pattern=oS),Ve.init(a,n)}),LS=Z("$ZodISOTime",(a,n)=>{n.pattern??(n.pattern=cS(n)),Ve.init(a,n)}),HS=Z("$ZodISODuration",(a,n)=>{n.pattern??(n.pattern=Q1),Ve.init(a,n)}),PS=Z("$ZodIPv4",(a,n)=>{n.pattern??(n.pattern=nS),Ve.init(a,n),a._zod.bag.format="ipv4"}),IS=Z("$ZodIPv6",(a,n)=>{n.pattern??(n.pattern=aS),Ve.init(a,n),a._zod.bag.format="ipv6",a._zod.check=s=>{try{new URL(`http://[${s.value}]`)}catch{s.issues.push({code:"invalid_format",format:"ipv6",input:s.value,inst:a,continue:!n.abort})}}}),ZS=Z("$ZodCIDRv4",(a,n)=>{n.pattern??(n.pattern=rS),Ve.init(a,n)}),GS=Z("$ZodCIDRv6",(a,n)=>{n.pattern??(n.pattern=sS),Ve.init(a,n),a._zod.check=s=>{const l=s.value.split("/");try{if(l.length!==2)throw new Error;const[c,u]=l;if(!u)throw new Error;const h=Number(u);if(`${h}`!==u)throw new Error;if(h<0||h>128)throw new Error;new URL(`http://[${c}]`)}catch{s.issues.push({code:"invalid_format",format:"cidrv6",input:s.value,inst:a,continue:!n.abort})}}});function $v(a){if(a==="")return!0;if(a.length%4!==0)return!1;try{return atob(a),!0}catch{return!1}}const VS=Z("$ZodBase64",(a,n)=>{n.pattern??(n.pattern=iS),Ve.init(a,n),a._zod.bag.contentEncoding="base64",a._zod.check=s=>{$v(s.value)||s.issues.push({code:"invalid_format",format:"base64",input:s.value,inst:a,continue:!n.abort})}});function YS(a){if(!Dv.test(a))return!1;const n=a.replace(/[-_]/g,l=>l==="-"?"+":"/"),s=n.padEnd(Math.ceil(n.length/4)*4,"=");return $v(s)}const KS=Z("$ZodBase64URL",(a,n)=>{n.pattern??(n.pattern=Dv),Ve.init(a,n),a._zod.bag.contentEncoding="base64url",a._zod.check=s=>{YS(s.value)||s.issues.push({code:"invalid_format",format:"base64url",input:s.value,inst:a,continue:!n.abort})}}),FS=Z("$ZodE164",(a,n)=>{n.pattern??(n.pattern=lS),Ve.init(a,n)});function JS(a,n=null){try{const s=a.split(".");if(s.length!==3)return!1;const[l]=s;if(!l)return!1;const c=JSON.parse(atob(l));return!("typ"in c&&(c==null?void 0:c.typ)!=="JWT"||!c.alg||n&&(!("alg"in c)||c.alg!==n))}catch{return!1}}const QS=Z("$ZodJWT",(a,n)=>{Ve.init(a,n),a._zod.check=s=>{JS(s.value,n.alg)||s.issues.push({code:"invalid_format",format:"jwt",input:s.value,inst:a,continue:!n.abort})}}),XS=Z("$ZodBoolean",(a,n)=>{Je.init(a,n),a._zod.pattern=hS,a._zod.parse=(s,l)=>{if(n.coerce)try{s.value=!!s.value}catch{}const c=s.value;return typeof c=="boolean"||s.issues.push({expected:"boolean",code:"invalid_type",input:c,inst:a}),s}}),WS=Z("$ZodAny",(a,n)=>{Je.init(a,n),a._zod.parse=s=>s}),e2=Z("$ZodUnknown",(a,n)=>{Je.init(a,n),a._zod.parse=s=>s}),t2=Z("$ZodNever",(a,n)=>{Je.init(a,n),a._zod.parse=(s,l)=>(s.issues.push({expected:"never",code:"invalid_type",input:s.value,inst:a}),s)});function Og(a,n,s){a.issues.length&&n.issues.push(...$r(s,a.issues)),n.value[s]=a.value}const n2=Z("$ZodArray",(a,n)=>{Je.init(a,n),a._zod.parse=(s,l)=>{const c=s.value;if(!Array.isArray(c))return s.issues.push({expected:"array",code:"invalid_type",input:c,inst:a}),s;s.value=Array(c.length);const u=[];for(let h=0;h<c.length;h++){const m=c[h],g=n.element._zod.run({value:m,issues:[]},l);g instanceof Promise?u.push(g.then(p=>Og(p,s,h))):Og(g,s,h)}return u.length?Promise.all(u).then(()=>s):s}});function Ql(a,n,s,l){a.issues.length&&n.issues.push(...$r(s,a.issues)),a.value===void 0?s in l&&(n.value[s]=void 0):n.value[s]=a.value}function qv(a){var l,c,u,h;const n=Object.keys(a.shape);for(const m of n)if(!((h=(u=(c=(l=a.shape)==null?void 0:l[m])==null?void 0:c._zod)==null?void 0:u.traits)!=null&&h.has("$ZodType")))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const s=N1(a.shape);return{...a,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(s)}}function Bv(a,n,s,l,c,u){const h=[],m=c.keySet,g=c.catchall._zod,p=g.def.type;for(const x in n){if(m.has(x))continue;if(p==="never"){h.push(x);continue}const _=g.run({value:n[x],issues:[]},l);_ instanceof Promise?a.push(_.then(w=>Ql(w,s,x,n))):Ql(_,s,x,n)}return h.length&&s.issues.push({code:"unrecognized_keys",keys:h,input:n,inst:u}),a.length?Promise.all(a).then(()=>s):s}const a2=Z("$ZodObject",(a,n)=>{Je.init(a,n);const s=Object.getOwnPropertyDescriptor(n,"shape");if(!(s!=null&&s.get)){const m=n.shape;Object.defineProperty(n,"shape",{get:()=>{const g={...m};return Object.defineProperty(n,"shape",{value:g}),g}})}const l=Td(()=>qv(n));He(a._zod,"propValues",()=>{const m=n.shape,g={};for(const p in m){const x=m[p]._zod;if(x.values){g[p]??(g[p]=new Set);for(const _ of x.values)g[p].add(_)}}return g});const c=Jl,u=n.catchall;let h;a._zod.parse=(m,g)=>{h??(h=l.value);const p=m.value;if(!c(p))return m.issues.push({expected:"object",code:"invalid_type",input:p,inst:a}),m;m.value={};const x=[],_=h.shape;for(const w of h.keys){const j=_[w]._zod.run({value:p[w],issues:[]},g);j instanceof Promise?x.push(j.then(A=>Ql(A,m,w,p))):Ql(j,m,w,p)}return u?Bv(x,p,m,g,l.value,a):x.length?Promise.all(x).then(()=>m):m}}),r2=Z("$ZodObjectJIT",(a,n)=>{a2.init(a,n);const s=a._zod.parse,l=Td(()=>qv(n)),c=w=>{const S=new NS(["shape","payload","ctx"]),j=l.value,A=M=>{const V=Tg(M);return`shape[${V}]._zod.run({ value: input[${V}], issues: [] }, ctx)`};S.write("const input = payload.value;");const O=Object.create(null);let U=0;for(const M of j.keys)O[M]=`key_${U++}`;S.write("const newResult = {};");for(const M of j.keys){const V=O[M],se=Tg(M);S.write(`const ${V} = ${A(M)};`),S.write(`
        if (${V}.issues.length) {
          payload.issues = payload.issues.concat(${V}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${se}, ...iss.path] : [${se}]
          })));
        }
        
        
        if (${V}.value === undefined) {
          if (${se} in input) {
            newResult[${se}] = undefined;
          }
        } else {
          newResult[${se}] = ${V}.value;
        }
        
      `)}S.write("payload.value = newResult;"),S.write("return payload;");const q=S.compile();return(M,V)=>q(w,M,V)};let u;const h=Jl,m=!Tv.jitless,p=m&&w1.value,x=n.catchall;let _;a._zod.parse=(w,S)=>{_??(_=l.value);const j=w.value;return h(j)?m&&p&&(S==null?void 0:S.async)===!1&&S.jitless!==!0?(u||(u=c(n.shape)),w=u(w,S),x?Bv([],j,w,S,_,a):w):s(w,S):(w.issues.push({expected:"object",code:"invalid_type",input:j,inst:a}),w)}});function kg(a,n,s,l){for(const u of a)if(u.issues.length===0)return n.value=u.value,n;const c=a.filter(u=>!Mr(u));return c.length===1?(n.value=c[0].value,c[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:s,errors:a.map(u=>u.issues.map(h=>ma(h,l,fa())))}),n)}const s2=Z("$ZodUnion",(a,n)=>{Je.init(a,n),He(a._zod,"optin",()=>n.options.some(c=>c._zod.optin==="optional")?"optional":void 0),He(a._zod,"optout",()=>n.options.some(c=>c._zod.optout==="optional")?"optional":void 0),He(a._zod,"values",()=>{if(n.options.every(c=>c._zod.values))return new Set(n.options.flatMap(c=>Array.from(c._zod.values)))}),He(a._zod,"pattern",()=>{if(n.options.every(c=>c._zod.pattern)){const c=n.options.map(u=>u._zod.pattern);return new RegExp(`^(${c.map(u=>Od(u.source)).join("|")})$`)}});const s=n.options.length===1,l=n.options[0]._zod.run;a._zod.parse=(c,u)=>{if(s)return l(c,u);let h=!1;const m=[];for(const g of n.options){const p=g._zod.run({value:c.value,issues:[]},u);if(p instanceof Promise)m.push(p),h=!0;else{if(p.issues.length===0)return p;m.push(p)}}return h?Promise.all(m).then(g=>kg(g,c,a,u)):kg(m,c,a,u)}}),i2=Z("$ZodIntersection",(a,n)=>{Je.init(a,n),a._zod.parse=(s,l)=>{const c=s.value,u=n.left._zod.run({value:c,issues:[]},l),h=n.right._zod.run({value:c,issues:[]},l);return u instanceof Promise||h instanceof Promise?Promise.all([u,h]).then(([g,p])=>Rg(s,g,p)):Rg(s,u,h)}});function od(a,n){if(a===n)return{valid:!0,data:a};if(a instanceof Date&&n instanceof Date&&+a==+n)return{valid:!0,data:a};if(Zr(a)&&Zr(n)){const s=Object.keys(n),l=Object.keys(a).filter(u=>s.indexOf(u)!==-1),c={...a,...n};for(const u of l){const h=od(a[u],n[u]);if(!h.valid)return{valid:!1,mergeErrorPath:[u,...h.mergeErrorPath]};c[u]=h.data}return{valid:!0,data:c}}if(Array.isArray(a)&&Array.isArray(n)){if(a.length!==n.length)return{valid:!1,mergeErrorPath:[]};const s=[];for(let l=0;l<a.length;l++){const c=a[l],u=n[l],h=od(c,u);if(!h.valid)return{valid:!1,mergeErrorPath:[l,...h.mergeErrorPath]};s.push(h.data)}return{valid:!0,data:s}}return{valid:!1,mergeErrorPath:[]}}function Rg(a,n,s){if(n.issues.length&&a.issues.push(...n.issues),s.issues.length&&a.issues.push(...s.issues),Mr(a))return a;const l=od(n.value,s.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return a.value=l.data,a}const l2=Z("$ZodRecord",(a,n)=>{Je.init(a,n),a._zod.parse=(s,l)=>{const c=s.value;if(!Zr(c))return s.issues.push({expected:"record",code:"invalid_type",input:c,inst:a}),s;const u=[],h=n.keyType._zod.values;if(h){s.value={};const m=new Set;for(const p of h)if(typeof p=="string"||typeof p=="number"||typeof p=="symbol"){m.add(typeof p=="number"?p.toString():p);const x=n.valueType._zod.run({value:c[p],issues:[]},l);x instanceof Promise?u.push(x.then(_=>{_.issues.length&&s.issues.push(...$r(p,_.issues)),s.value[p]=_.value})):(x.issues.length&&s.issues.push(...$r(p,x.issues)),s.value[p]=x.value)}let g;for(const p in c)m.has(p)||(g=g??[],g.push(p));g&&g.length>0&&s.issues.push({code:"unrecognized_keys",input:c,inst:a,keys:g})}else{s.value={};for(const m of Reflect.ownKeys(c)){if(m==="__proto__")continue;const g=n.keyType._zod.run({value:m,issues:[]},l);if(g instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(g.issues.length){s.issues.push({code:"invalid_key",origin:"record",issues:g.issues.map(x=>ma(x,l,fa())),input:m,path:[m],inst:a}),s.value[g.value]=g.value;continue}const p=n.valueType._zod.run({value:c[m],issues:[]},l);p instanceof Promise?u.push(p.then(x=>{x.issues.length&&s.issues.push(...$r(m,x.issues)),s.value[g.value]=x.value})):(p.issues.length&&s.issues.push(...$r(m,p.issues)),s.value[g.value]=p.value)}}return u.length?Promise.all(u).then(()=>s):s}}),o2=Z("$ZodEnum",(a,n)=>{Je.init(a,n);const s=_1(n.entries),l=new Set(s);a._zod.values=l,a._zod.pattern=new RegExp(`^(${s.filter(c=>S1.has(typeof c)).map(c=>typeof c=="string"?so(c):c.toString()).join("|")})$`),a._zod.parse=(c,u)=>{const h=c.value;return l.has(h)||c.issues.push({code:"invalid_value",values:s,input:h,inst:a}),c}}),c2=Z("$ZodTransform",(a,n)=>{Je.init(a,n),a._zod.parse=(s,l)=>{if(l.direction==="backward")throw new Av(a.constructor.name);const c=n.transform(s.value,s);if(l.async)return(c instanceof Promise?c:Promise.resolve(c)).then(h=>(s.value=h,s));if(c instanceof Promise)throw new Lr;return s.value=c,s}});function zg(a,n){return a.issues.length&&n===void 0?{issues:[],value:void 0}:a}const u2=Z("$ZodOptional",(a,n)=>{Je.init(a,n),a._zod.optin="optional",a._zod.optout="optional",He(a._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),He(a._zod,"pattern",()=>{const s=n.innerType._zod.pattern;return s?new RegExp(`^(${Od(s.source)})?$`):void 0}),a._zod.parse=(s,l)=>{if(n.innerType._zod.optin==="optional"){const c=n.innerType._zod.run(s,l);return c instanceof Promise?c.then(u=>zg(u,s.value)):zg(c,s.value)}return s.value===void 0?s:n.innerType._zod.run(s,l)}}),d2=Z("$ZodNullable",(a,n)=>{Je.init(a,n),He(a._zod,"optin",()=>n.innerType._zod.optin),He(a._zod,"optout",()=>n.innerType._zod.optout),He(a._zod,"pattern",()=>{const s=n.innerType._zod.pattern;return s?new RegExp(`^(${Od(s.source)}|null)$`):void 0}),He(a._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),a._zod.parse=(s,l)=>s.value===null?s:n.innerType._zod.run(s,l)}),h2=Z("$ZodDefault",(a,n)=>{Je.init(a,n),a._zod.optin="optional",He(a._zod,"values",()=>n.innerType._zod.values),a._zod.parse=(s,l)=>{if(l.direction==="backward")return n.innerType._zod.run(s,l);if(s.value===void 0)return s.value=n.defaultValue,s;const c=n.innerType._zod.run(s,l);return c instanceof Promise?c.then(u=>Dg(u,n)):Dg(c,n)}});function Dg(a,n){return a.value===void 0&&(a.value=n.defaultValue),a}const f2=Z("$ZodPrefault",(a,n)=>{Je.init(a,n),a._zod.optin="optional",He(a._zod,"values",()=>n.innerType._zod.values),a._zod.parse=(s,l)=>(l.direction==="backward"||s.value===void 0&&(s.value=n.defaultValue),n.innerType._zod.run(s,l))}),m2=Z("$ZodNonOptional",(a,n)=>{Je.init(a,n),He(a._zod,"values",()=>{const s=n.innerType._zod.values;return s?new Set([...s].filter(l=>l!==void 0)):void 0}),a._zod.parse=(s,l)=>{const c=n.innerType._zod.run(s,l);return c instanceof Promise?c.then(u=>Ug(u,a)):Ug(c,a)}});function Ug(a,n){return!a.issues.length&&a.value===void 0&&a.issues.push({code:"invalid_type",expected:"nonoptional",input:a.value,inst:n}),a}const p2=Z("$ZodCatch",(a,n)=>{Je.init(a,n),He(a._zod,"optin",()=>n.innerType._zod.optin),He(a._zod,"optout",()=>n.innerType._zod.optout),He(a._zod,"values",()=>n.innerType._zod.values),a._zod.parse=(s,l)=>{if(l.direction==="backward")return n.innerType._zod.run(s,l);const c=n.innerType._zod.run(s,l);return c instanceof Promise?c.then(u=>(s.value=u.value,u.issues.length&&(s.value=n.catchValue({...s,error:{issues:u.issues.map(h=>ma(h,l,fa()))},input:s.value}),s.issues=[]),s)):(s.value=c.value,c.issues.length&&(s.value=n.catchValue({...s,error:{issues:c.issues.map(u=>ma(u,l,fa()))},input:s.value}),s.issues=[]),s)}}),g2=Z("$ZodPipe",(a,n)=>{Je.init(a,n),He(a._zod,"values",()=>n.in._zod.values),He(a._zod,"optin",()=>n.in._zod.optin),He(a._zod,"optout",()=>n.out._zod.optout),He(a._zod,"propValues",()=>n.in._zod.propValues),a._zod.parse=(s,l)=>{if(l.direction==="backward"){const u=n.out._zod.run(s,l);return u instanceof Promise?u.then(h=>Ol(h,n.in,l)):Ol(u,n.in,l)}const c=n.in._zod.run(s,l);return c instanceof Promise?c.then(u=>Ol(u,n.out,l)):Ol(c,n.out,l)}});function Ol(a,n,s){return a.issues.length?(a.aborted=!0,a):n._zod.run({value:a.value,issues:a.issues},s)}const v2=Z("$ZodReadonly",(a,n)=>{Je.init(a,n),He(a._zod,"propValues",()=>n.innerType._zod.propValues),He(a._zod,"values",()=>n.innerType._zod.values),He(a._zod,"optin",()=>{var s,l;return(l=(s=n.innerType)==null?void 0:s._zod)==null?void 0:l.optin}),He(a._zod,"optout",()=>{var s,l;return(l=(s=n.innerType)==null?void 0:s._zod)==null?void 0:l.optout}),a._zod.parse=(s,l)=>{if(l.direction==="backward")return n.innerType._zod.run(s,l);const c=n.innerType._zod.run(s,l);return c instanceof Promise?c.then(Mg):Mg(c)}});function Mg(a){return a.value=Object.freeze(a.value),a}const y2=Z("$ZodCustom",(a,n)=>{gn.init(a,n),Je.init(a,n),a._zod.parse=(s,l)=>s,a._zod.check=s=>{const l=s.value,c=n.fn(l);if(c instanceof Promise)return c.then(u=>$g(u,s,l,a));$g(c,s,l,a)}});function $g(a,n,s,l){if(!a){const c={code:"custom",input:s,inst:l,path:[...l._zod.def.path??[]],continue:!l._zod.def.abort};l._zod.def.params&&(c.params=l._zod.def.params),n.issues.push(Qs(c))}}var qg;class x2{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...s){const l=s[0];if(this._map.set(n,l),l&&typeof l=="object"&&"id"in l){if(this._idmap.has(l.id))throw new Error(`ID ${l.id} already exists in the registry`);this._idmap.set(l.id,n)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const s=this._map.get(n);return s&&typeof s=="object"&&"id"in s&&this._idmap.delete(s.id),this._map.delete(n),this}get(n){const s=n._zod.parent;if(s){const l={...this.get(s)??{}};delete l.id;const c={...l,...this._map.get(n)};return Object.keys(c).length?c:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function b2(){return new x2}(qg=globalThis).__zod_globalRegistry??(qg.__zod_globalRegistry=b2());const kl=globalThis.__zod_globalRegistry;function _2(a,n){return new a({type:"string",...ue(n)})}function j2(a,n){return new a({type:"string",format:"email",check:"string_format",abort:!1,...ue(n)})}function Bg(a,n){return new a({type:"string",format:"guid",check:"string_format",abort:!1,...ue(n)})}function w2(a,n){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,...ue(n)})}function S2(a,n){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ue(n)})}function N2(a,n){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ue(n)})}function E2(a,n){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ue(n)})}function A2(a,n){return new a({type:"string",format:"url",check:"string_format",abort:!1,...ue(n)})}function T2(a,n){return new a({type:"string",format:"emoji",check:"string_format",abort:!1,...ue(n)})}function C2(a,n){return new a({type:"string",format:"nanoid",check:"string_format",abort:!1,...ue(n)})}function O2(a,n){return new a({type:"string",format:"cuid",check:"string_format",abort:!1,...ue(n)})}function k2(a,n){return new a({type:"string",format:"cuid2",check:"string_format",abort:!1,...ue(n)})}function R2(a,n){return new a({type:"string",format:"ulid",check:"string_format",abort:!1,...ue(n)})}function z2(a,n){return new a({type:"string",format:"xid",check:"string_format",abort:!1,...ue(n)})}function D2(a,n){return new a({type:"string",format:"ksuid",check:"string_format",abort:!1,...ue(n)})}function U2(a,n){return new a({type:"string",format:"ipv4",check:"string_format",abort:!1,...ue(n)})}function M2(a,n){return new a({type:"string",format:"ipv6",check:"string_format",abort:!1,...ue(n)})}function $2(a,n){return new a({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ue(n)})}function q2(a,n){return new a({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ue(n)})}function B2(a,n){return new a({type:"string",format:"base64",check:"string_format",abort:!1,...ue(n)})}function L2(a,n){return new a({type:"string",format:"base64url",check:"string_format",abort:!1,...ue(n)})}function H2(a,n){return new a({type:"string",format:"e164",check:"string_format",abort:!1,...ue(n)})}function P2(a,n){return new a({type:"string",format:"jwt",check:"string_format",abort:!1,...ue(n)})}function I2(a,n){return new a({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ue(n)})}function Z2(a,n){return new a({type:"string",format:"date",check:"string_format",...ue(n)})}function G2(a,n){return new a({type:"string",format:"time",check:"string_format",precision:null,...ue(n)})}function V2(a,n){return new a({type:"string",format:"duration",check:"string_format",...ue(n)})}function Y2(a,n){return new a({type:"boolean",...ue(n)})}function K2(a){return new a({type:"any"})}function F2(a){return new a({type:"unknown"})}function J2(a,n){return new a({type:"never",...ue(n)})}function Lv(a,n){return new pS({check:"max_length",...ue(n),maximum:a})}function Xl(a,n){return new gS({check:"min_length",...ue(n),minimum:a})}function Hv(a,n){return new vS({check:"length_equals",...ue(n),length:a})}function Q2(a,n){return new yS({check:"string_format",format:"regex",...ue(n),pattern:a})}function X2(a){return new xS({check:"string_format",format:"lowercase",...ue(a)})}function W2(a){return new bS({check:"string_format",format:"uppercase",...ue(a)})}function eN(a,n){return new _S({check:"string_format",format:"includes",...ue(n),includes:a})}function tN(a,n){return new jS({check:"string_format",format:"starts_with",...ue(n),prefix:a})}function nN(a,n){return new wS({check:"string_format",format:"ends_with",...ue(n),suffix:a})}function Yr(a){return new SS({check:"overwrite",tx:a})}function aN(a){return Yr(n=>n.normalize(a))}function rN(){return Yr(a=>a.trim())}function sN(){return Yr(a=>a.toLowerCase())}function iN(){return Yr(a=>a.toUpperCase())}function lN(){return Yr(a=>j1(a))}function oN(a,n,s){return new a({type:"array",element:n,...ue(s)})}function cN(a,n,s){return new a({type:"custom",check:"custom",fn:n,...ue(s)})}function uN(a){const n=dN(s=>(s.addIssue=l=>{if(typeof l=="string")s.issues.push(Qs(l,s.value,n._zod.def));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=s.value),c.inst??(c.inst=n),c.continue??(c.continue=!n._zod.def.abort),s.issues.push(Qs(c))}},a(s.value,s)));return n}function dN(a,n){const s=new gn({check:"custom",...ue(n)});return s._zod.check=a,s}const hN=Z("ZodISODateTime",(a,n)=>{qS.init(a,n),Ye.init(a,n)});function fN(a){return I2(hN,a)}const mN=Z("ZodISODate",(a,n)=>{BS.init(a,n),Ye.init(a,n)});function pN(a){return Z2(mN,a)}const gN=Z("ZodISOTime",(a,n)=>{LS.init(a,n),Ye.init(a,n)});function vN(a){return G2(gN,a)}const yN=Z("ZodISODuration",(a,n)=>{HS.init(a,n),Ye.init(a,n)});function xN(a){return V2(yN,a)}const bN=(a,n)=>{Rv.init(a,n),a.name="ZodError",Object.defineProperties(a,{format:{value:s=>D1(a,s)},flatten:{value:s=>z1(a,s)},addIssue:{value:s=>{a.issues.push(s),a.message=JSON.stringify(a.issues,ld,2)}},addIssues:{value:s=>{a.issues.push(...s),a.message=JSON.stringify(a.issues,ld,2)}},isEmpty:{get(){return a.issues.length===0}}})},tn=Z("ZodError",bN,{Parent:Error}),_N=Rd(tn),jN=zd(tn),wN=io(tn),SN=lo(tn),NN=$1(tn),EN=q1(tn),AN=B1(tn),TN=L1(tn),CN=H1(tn),ON=P1(tn),kN=I1(tn),RN=Z1(tn),tt=Z("ZodType",(a,n)=>(Je.init(a,n),a.def=n,a.type=n.type,Object.defineProperty(a,"_def",{value:n}),a.check=(...s)=>a.clone(Za(n,{checks:[...n.checks??[],...s.map(l=>typeof l=="function"?{_zod:{check:l,def:{check:"custom"},onattach:[]}}:l)]})),a.clone=(s,l)=>pa(a,s,l),a.brand=()=>a,a.register=((s,l)=>(s.add(a,l),a)),a.parse=(s,l)=>_N(a,s,l,{callee:a.parse}),a.safeParse=(s,l)=>wN(a,s,l),a.parseAsync=async(s,l)=>jN(a,s,l,{callee:a.parseAsync}),a.safeParseAsync=async(s,l)=>SN(a,s,l),a.spa=a.safeParseAsync,a.encode=(s,l)=>NN(a,s,l),a.decode=(s,l)=>EN(a,s,l),a.encodeAsync=async(s,l)=>AN(a,s,l),a.decodeAsync=async(s,l)=>TN(a,s,l),a.safeEncode=(s,l)=>CN(a,s,l),a.safeDecode=(s,l)=>ON(a,s,l),a.safeEncodeAsync=async(s,l)=>kN(a,s,l),a.safeDecodeAsync=async(s,l)=>RN(a,s,l),a.refine=(s,l)=>a.check(wE(s,l)),a.superRefine=s=>a.check(SE(s)),a.overwrite=s=>a.check(Yr(s)),a.optional=()=>Pg(a),a.nullable=()=>Ig(a),a.nullish=()=>Pg(Ig(a)),a.nonoptional=s=>gE(a,s),a.array=()=>Wl(a),a.or=s=>sE([a,s]),a.and=s=>lE(a,s),a.transform=s=>Zg(a,uE(s)),a.default=s=>fE(a,s),a.prefault=s=>pE(a,s),a.catch=s=>yE(a,s),a.pipe=s=>Zg(a,s),a.readonly=()=>_E(a),a.describe=s=>{const l=a.clone();return kl.add(l,{description:s}),l},Object.defineProperty(a,"description",{get(){var s;return(s=kl.get(a))==null?void 0:s.description},configurable:!0}),a.meta=(...s)=>{if(s.length===0)return kl.get(a);const l=a.clone();return kl.add(l,s[0]),l},a.isOptional=()=>a.safeParse(void 0).success,a.isNullable=()=>a.safeParse(null).success,a)),Pv=Z("_ZodString",(a,n)=>{Dd.init(a,n),tt.init(a,n);const s=a._zod.bag;a.format=s.format??null,a.minLength=s.minimum??null,a.maxLength=s.maximum??null,a.regex=(...l)=>a.check(Q2(...l)),a.includes=(...l)=>a.check(eN(...l)),a.startsWith=(...l)=>a.check(tN(...l)),a.endsWith=(...l)=>a.check(nN(...l)),a.min=(...l)=>a.check(Xl(...l)),a.max=(...l)=>a.check(Lv(...l)),a.length=(...l)=>a.check(Hv(...l)),a.nonempty=(...l)=>a.check(Xl(1,...l)),a.lowercase=l=>a.check(X2(l)),a.uppercase=l=>a.check(W2(l)),a.trim=()=>a.check(rN()),a.normalize=(...l)=>a.check(aN(...l)),a.toLowerCase=()=>a.check(sN()),a.toUpperCase=()=>a.check(iN()),a.slugify=()=>a.check(lN())}),zN=Z("ZodString",(a,n)=>{Dd.init(a,n),Pv.init(a,n),a.email=s=>a.check(j2(DN,s)),a.url=s=>a.check(A2(UN,s)),a.jwt=s=>a.check(P2(JN,s)),a.emoji=s=>a.check(T2(MN,s)),a.guid=s=>a.check(Bg(Lg,s)),a.uuid=s=>a.check(w2(Rl,s)),a.uuidv4=s=>a.check(S2(Rl,s)),a.uuidv6=s=>a.check(N2(Rl,s)),a.uuidv7=s=>a.check(E2(Rl,s)),a.nanoid=s=>a.check(C2($N,s)),a.guid=s=>a.check(Bg(Lg,s)),a.cuid=s=>a.check(O2(qN,s)),a.cuid2=s=>a.check(k2(BN,s)),a.ulid=s=>a.check(R2(LN,s)),a.base64=s=>a.check(B2(YN,s)),a.base64url=s=>a.check(L2(KN,s)),a.xid=s=>a.check(z2(HN,s)),a.ksuid=s=>a.check(D2(PN,s)),a.ipv4=s=>a.check(U2(IN,s)),a.ipv6=s=>a.check(M2(ZN,s)),a.cidrv4=s=>a.check($2(GN,s)),a.cidrv6=s=>a.check(q2(VN,s)),a.e164=s=>a.check(H2(FN,s)),a.datetime=s=>a.check(fN(s)),a.date=s=>a.check(pN(s)),a.time=s=>a.check(vN(s)),a.duration=s=>a.check(xN(s))});function ke(a){return _2(zN,a)}const Ye=Z("ZodStringFormat",(a,n)=>{Ve.init(a,n),Pv.init(a,n)}),DN=Z("ZodEmail",(a,n)=>{CS.init(a,n),Ye.init(a,n)}),Lg=Z("ZodGUID",(a,n)=>{AS.init(a,n),Ye.init(a,n)}),Rl=Z("ZodUUID",(a,n)=>{TS.init(a,n),Ye.init(a,n)}),UN=Z("ZodURL",(a,n)=>{OS.init(a,n),Ye.init(a,n)}),MN=Z("ZodEmoji",(a,n)=>{kS.init(a,n),Ye.init(a,n)}),$N=Z("ZodNanoID",(a,n)=>{RS.init(a,n),Ye.init(a,n)}),qN=Z("ZodCUID",(a,n)=>{zS.init(a,n),Ye.init(a,n)}),BN=Z("ZodCUID2",(a,n)=>{DS.init(a,n),Ye.init(a,n)}),LN=Z("ZodULID",(a,n)=>{US.init(a,n),Ye.init(a,n)}),HN=Z("ZodXID",(a,n)=>{MS.init(a,n),Ye.init(a,n)}),PN=Z("ZodKSUID",(a,n)=>{$S.init(a,n),Ye.init(a,n)}),IN=Z("ZodIPv4",(a,n)=>{PS.init(a,n),Ye.init(a,n)}),ZN=Z("ZodIPv6",(a,n)=>{IS.init(a,n),Ye.init(a,n)}),GN=Z("ZodCIDRv4",(a,n)=>{ZS.init(a,n),Ye.init(a,n)}),VN=Z("ZodCIDRv6",(a,n)=>{GS.init(a,n),Ye.init(a,n)}),YN=Z("ZodBase64",(a,n)=>{VS.init(a,n),Ye.init(a,n)}),KN=Z("ZodBase64URL",(a,n)=>{KS.init(a,n),Ye.init(a,n)}),FN=Z("ZodE164",(a,n)=>{FS.init(a,n),Ye.init(a,n)}),JN=Z("ZodJWT",(a,n)=>{QS.init(a,n),Ye.init(a,n)}),QN=Z("ZodBoolean",(a,n)=>{XS.init(a,n),tt.init(a,n)});function Iv(a){return Y2(QN,a)}const XN=Z("ZodAny",(a,n)=>{WS.init(a,n),tt.init(a,n)});function Ud(){return K2(XN)}const WN=Z("ZodUnknown",(a,n)=>{e2.init(a,n),tt.init(a,n)});function Hg(){return F2(WN)}const eE=Z("ZodNever",(a,n)=>{t2.init(a,n),tt.init(a,n)});function tE(a){return J2(eE,a)}const nE=Z("ZodArray",(a,n)=>{n2.init(a,n),tt.init(a,n),a.element=n.element,a.min=(s,l)=>a.check(Xl(s,l)),a.nonempty=s=>a.check(Xl(1,s)),a.max=(s,l)=>a.check(Lv(s,l)),a.length=(s,l)=>a.check(Hv(s,l)),a.unwrap=()=>a.element});function Wl(a,n){return oN(nE,a,n)}const aE=Z("ZodObject",(a,n)=>{r2.init(a,n),tt.init(a,n),He(a,"shape",()=>n.shape),a.keyof=()=>Xs(Object.keys(a._zod.def.shape)),a.catchall=s=>a.clone({...a._zod.def,catchall:s}),a.passthrough=()=>a.clone({...a._zod.def,catchall:Hg()}),a.loose=()=>a.clone({...a._zod.def,catchall:Hg()}),a.strict=()=>a.clone({...a._zod.def,catchall:tE()}),a.strip=()=>a.clone({...a._zod.def,catchall:void 0}),a.extend=s=>T1(a,s),a.safeExtend=s=>C1(a,s),a.merge=s=>O1(a,s),a.pick=s=>E1(a,s),a.omit=s=>A1(a,s),a.partial=(...s)=>k1(Gv,a,s[0]),a.required=(...s)=>R1(Vv,a,s[0])});function qn(a,n){const s={type:"object",shape:a??{},...ue(n)};return new aE(s)}const rE=Z("ZodUnion",(a,n)=>{s2.init(a,n),tt.init(a,n),a.options=n.options});function sE(a,n){return new rE({type:"union",options:a,...ue(n)})}const iE=Z("ZodIntersection",(a,n)=>{i2.init(a,n),tt.init(a,n)});function lE(a,n){return new iE({type:"intersection",left:a,right:n})}const oE=Z("ZodRecord",(a,n)=>{l2.init(a,n),tt.init(a,n),a.keyType=n.keyType,a.valueType=n.valueType});function Zv(a,n,s){return new oE({type:"record",keyType:a,valueType:n,...ue(s)})}const cd=Z("ZodEnum",(a,n)=>{o2.init(a,n),tt.init(a,n),a.enum=n.entries,a.options=Object.values(n.entries);const s=new Set(Object.keys(n.entries));a.extract=(l,c)=>{const u={};for(const h of l)if(s.has(h))u[h]=n.entries[h];else throw new Error(`Key ${h} not found in enum`);return new cd({...n,checks:[],...ue(c),entries:u})},a.exclude=(l,c)=>{const u={...n.entries};for(const h of l)if(s.has(h))delete u[h];else throw new Error(`Key ${h} not found in enum`);return new cd({...n,checks:[],...ue(c),entries:u})}});function Xs(a,n){const s=Array.isArray(a)?Object.fromEntries(a.map(l=>[l,l])):a;return new cd({type:"enum",entries:s,...ue(n)})}const cE=Z("ZodTransform",(a,n)=>{c2.init(a,n),tt.init(a,n),a._zod.parse=(s,l)=>{if(l.direction==="backward")throw new Av(a.constructor.name);s.addIssue=u=>{if(typeof u=="string")s.issues.push(Qs(u,s.value,n));else{const h=u;h.fatal&&(h.continue=!1),h.code??(h.code="custom"),h.input??(h.input=s.value),h.inst??(h.inst=a),s.issues.push(Qs(h))}};const c=n.transform(s.value,s);return c instanceof Promise?c.then(u=>(s.value=u,s)):(s.value=c,s)}});function uE(a){return new cE({type:"transform",transform:a})}const Gv=Z("ZodOptional",(a,n)=>{u2.init(a,n),tt.init(a,n),a.unwrap=()=>a._zod.def.innerType});function Pg(a){return new Gv({type:"optional",innerType:a})}const dE=Z("ZodNullable",(a,n)=>{d2.init(a,n),tt.init(a,n),a.unwrap=()=>a._zod.def.innerType});function Ig(a){return new dE({type:"nullable",innerType:a})}const hE=Z("ZodDefault",(a,n)=>{h2.init(a,n),tt.init(a,n),a.unwrap=()=>a._zod.def.innerType,a.removeDefault=a.unwrap});function fE(a,n){return new hE({type:"default",innerType:a,get defaultValue(){return typeof n=="function"?n():Ov(n)}})}const mE=Z("ZodPrefault",(a,n)=>{f2.init(a,n),tt.init(a,n),a.unwrap=()=>a._zod.def.innerType});function pE(a,n){return new mE({type:"prefault",innerType:a,get defaultValue(){return typeof n=="function"?n():Ov(n)}})}const Vv=Z("ZodNonOptional",(a,n)=>{m2.init(a,n),tt.init(a,n),a.unwrap=()=>a._zod.def.innerType});function gE(a,n){return new Vv({type:"nonoptional",innerType:a,...ue(n)})}const vE=Z("ZodCatch",(a,n)=>{p2.init(a,n),tt.init(a,n),a.unwrap=()=>a._zod.def.innerType,a.removeCatch=a.unwrap});function yE(a,n){return new vE({type:"catch",innerType:a,catchValue:typeof n=="function"?n:()=>n})}const xE=Z("ZodPipe",(a,n)=>{g2.init(a,n),tt.init(a,n),a.in=n.in,a.out=n.out});function Zg(a,n){return new xE({type:"pipe",in:a,out:n})}const bE=Z("ZodReadonly",(a,n)=>{v2.init(a,n),tt.init(a,n),a.unwrap=()=>a._zod.def.innerType});function _E(a){return new bE({type:"readonly",innerType:a})}const jE=Z("ZodCustom",(a,n)=>{y2.init(a,n),tt.init(a,n)});function wE(a,n={}){return cN(jE,a,n)}function SE(a){return uN(a)}const NE=qn({familyName:ke().min(1,"Family name is required"),givenNames:ke().min(1,"Given names are required"),dob:ke().refine(a=>!isNaN(Date.parse(a)),{message:"Invalid date of birth"}),sex:ke().optional(),maritalStatus:ke().optional()}).passthrough(),EE=qn({number:ke().min(1,"Passport number is required"),country:ke().min(1,"Country is required"),issueDate:ke().optional(),expiryDate:ke().optional()}).passthrough(),AE=Zv(Ud()).optional(),TE=Zv(Ud()).optional(),CE=qn({parents:Wl(qn({relationship:Xs(["mother","father"]),familyName:ke(),givenNames:ke(),dob:ke(),countryOfBirth:ke().optional(),occupation:ke().optional()})).optional(),children:Wl(qn({familyName:ke(),givenNames:ke(),dob:ke(),relationship:Xs(["son","daughter"]),doesAccompany:Iv().optional(),maritalStatus:ke().optional(),currentLocation:ke().optional()})).optional(),spouse:Ud().optional()}),OE=qn({activities:Wl(qn({type:Xs(["employed","self_employed","education","unemployed","homemaker","other"]),fromDate:ke(),toDate:ke().optional(),jobTitle:ke().optional(),organizationName:ke().optional(),city:ke().optional(),country:ke().optional(),description:ke().optional()}))}),kE=qn({serviceLanguage:Xs(["en","fr"]).optional(),phoneCountryGroup:ke().optional(),isUsPermanentResident:Iv().optional(),usPrCardNumber:ke().optional(),usPrExpiryDate:ke().optional()}),Yv=qn({identity:NE,passport:EE,education:AE,employment:TE,family:CE.optional(),history:OE.optional(),meta:kE.optional()});Yv.partial();async function RE(a,n){const s=Yv.parse(n),{data:l,error:c}=await et.from("applicants").insert({org_id:a,identity:s.identity,passport:s.passport,education:s.education,employment:s.employment,family:s.family,history:s.history,meta:s.meta}).select().single();if(c)throw c;return l}async function zE(a){const{data:n,error:s}=await et.from("applicants").select("*").eq("org_id",a);if(s)throw s;return n||[]}const DE=({onSelect:a,orgId:n})=>{const[s,l]=Y.useState(""),[c,u]=Y.useState(!1),[h,m]=Y.useState(null),[g,p]=Y.useState(!1),[x,_]=Y.useState([]),[w,S]=Y.useState(!1),[j,A]=Y.useState({name:"",email:""}),[O,U]=Y.useState(""),[q,M]=Y.useState(!1);Y.useEffect(()=>{(async()=>{if(n)try{const K=(await zE(n)).map(Se=>{var fe,le;return{id:Se.id,name:`${(fe=Se.identity)==null?void 0:fe.givenNames} ${(le=Se.identity)==null?void 0:le.familyName}`.trim(),email:"N/A",created:new Date(Se.created_at).toLocaleDateString()}});_(K)}catch(F){console.error("Failed to load applicants",F)}})()},[n]);const V=x.filter(y=>y.name.toLowerCase().includes(s.toLowerCase())||y.email.toLowerCase().includes(s.toLowerCase())),se=y=>{m(y),l(y.name),u(!1),a(y)},X=async()=>{x.some(y=>y.name.toLowerCase()===j.name.toLowerCase()),M(!0);try{const y=j.name.trim().split(" "),F=y.slice(0,-1).join(" ")||y[0],K=y.slice(-1)[0]||"",fe={id:(await RE(n,{identity:{givenNames:F,familyName:K,dob:"2000-01-01"},passport:{number:"UNKNOWN",country:"Unknown"}})).id,name:j.name,email:j.email,created:new Date().toLocaleDateString()};_([...x,fe]),se(fe),p(!1)}catch(y){console.error("Failed to create applicant",y),U(y.message||"Failed to create applicant")}finally{M(!1)}};return h?i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3 flex items-center justify-between animate-in fade-in slide-in-from-top-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-xs",children:h.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-bold text-gray-900",children:h.name}),i.jsx("div",{className:"text-xs text-gray-500",children:h.email})]})]}),i.jsx("button",{onClick:()=>{m(null),l(""),p(!1),a(null)},className:"text-xs text-red-600 hover:underline font-medium",children:"Change"})]}):g?i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-4 space-y-3 animate-in fade-in slide-in-from-top-2",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-xs font-bold uppercase text-gray-500",children:"New Client Profile"}),i.jsx("button",{onClick:()=>p(!1),className:"text-xs text-gray-400 hover:text-black",children:"Cancel"})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Full Name"}),i.jsx(Q,{value:j.name,onChange:y=>A({...j,name:y.target.value}),placeholder:"e.g. Maria Gonzalez",autoFocus:!0})]}),i.jsx("div",{className:"text-xs text-gray-400 italic",children:"Note: Using placeholders for DOB (2000-01-01) and Passport. Please update in profile later."}),O&&i.jsxs("p",{className:"text-red-600 text-xs font-medium flex items-center gap-1",children:[i.jsx(_t,{size:10})," ",O]}),i.jsx(we,{onClick:X,size:"sm",className:"w-full mt-2",disabled:!j.name||q,children:q?i.jsx(fd,{className:"animate-spin",size:14}):"Confirm Client"})]}):i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Dl,{className:"absolute left-3 top-2.5 text-gray-400",size:16}),i.jsx(Q,{placeholder:"Search by name...",className:"pl-9",value:s,onChange:y=>{l(y.target.value),u(!0)},onFocus:()=>u(!0)})]}),c&&s&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-20 max-h-60 overflow-y-auto",children:[V.length>0?i.jsxs("div",{className:"py-1",children:[i.jsx("div",{className:"px-2 py-1 text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:"Matching Clients"}),V.map(y=>i.jsxs("button",{onClick:()=>se(y),className:"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center justify-between group transition-colors",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.name}),i.jsx("div",{className:"text-xs text-gray-500",children:y.email})]}),i.jsxs("div",{className:"text-[10px] text-gray-400 font-mono group-hover:text-gray-600",children:["Added ",y.created]})]},y.id))]}):i.jsx("div",{className:"p-3 text-center text-sm text-gray-500",children:"No matching clients found."}),i.jsx("div",{className:"border-t border-gray-100 p-1",children:i.jsxs("button",{onClick:()=>{p(!0),u(!1),A({name:s,email:""})},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-[var(--accent)] hover:bg-orange-50 font-medium rounded-sm transition-colors",children:[i.jsx(Iu,{size:16}),' Create new client "',s,'"']})})]})]})},UE=["Humanitarian and Compassionate","Spousal Sponsorship","Express Entry","Study Permit Outside Canada","Work Permit Outside Canada","Visitor Visa Outside Canada","Study Permit Inside Canada","Work Permit Inside Canada","Visitor Visa Inside Canada","Work Permit - LMIA Exempt (C16)","Work Permit - LMIA Based","General"];async function ME(a,n,s,l,c){const{data:u,error:h}=await et.from("applicants").select("*").eq("id",a).eq("org_id",l).single();if(h)throw h;if(!u)throw new Error("Applicant not found");const m={identity:u.identity,passport:u.passport,education:u.education,employment:u.employment,family:u.family,history:u.history,meta:u.meta,capturedAt:new Date().toISOString()},g=null,{data:p,error:x}=await et.from("applications").insert({org_id:l,applicant_id:a,cohort_id:null,type:s,status:"draft",applicant_snapshot:m,job_snapshot:g,details:{}}).select().single();if(x)throw x;return p}async function $E(a){const{data:n,error:s}=await et.from("applications").select(`
            *,
            applicants (
                id,
                identity
            ),
            cohorts (
                id,
                name,
                job_details
            )
        `).eq("org_id",a).order("created_at",{ascending:!1});if(s)throw s;return n||[]}const qE=({isOpen:a,onClose:n,onCreate:s,orgId:l})=>{const[c,u]=Y.useState(null),[h,m]=Y.useState(""),[g,p]=Y.useState(!1),[x,_]=Y.useState(null),w=async()=>{if(!(!c||!h)){if(!l){_("Missing organization id. Please sign in again.");return}p(!0),_(null);try{const S=await ME(c.id,null,h,l),j={id:S.id,client:{id:c.id,name:c.name,email:c.email},appType:S.type,status:S.status,lastUpdated:new Date(S.updated_at||S.created_at||Date.now()).toLocaleDateString(),raw:S};await s(j),n()}catch(S){_((S==null?void 0:S.message)||"Failed to create application")}finally{p(!1)}}};return Y.useEffect(()=>{a&&(u(null),m(""),p(!1),_(null))},[a]),i.jsx(yd,{isOpen:a,onClose:n,title:"New Case",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(I,{children:"1. Select Client"}),i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Search for an existing client or create a new profile."}),i.jsx(DE,{onSelect:u,orgId:l})]}),i.jsxs("div",{className:`transition-opacity duration-300 ${c?"opacity-100":"opacity-40 pointer-events-none"}`,children:[i.jsx(I,{children:"2. Application Stream"}),i.jsxs(Be,{value:h,onChange:S=>m(S.target.value),disabled:!c,children:[i.jsx("option",{value:"",children:"Select an application type..."}),UE.map(S=>i.jsx("option",{value:S,children:S},S))]})]}),x&&i.jsx("div",{className:"text-sm text-red-700 bg-red-50 border border-red-200 rounded-md p-3",children:x}),i.jsxs("div",{className:"pt-4 flex justify-end gap-3 border-t border-gray-100 mt-6",children:[i.jsx(we,{variant:"ghost",onClick:n,disabled:g,children:"Cancel"}),i.jsx(we,{disabled:!c||!h,onClick:w,children:g?"Creating...":"Create Case"})]})]})})},Kv=({onOpenCase:a,onCreateNew:n,orgId:s})=>{const[l,c]=Y.useState([]),[u,h]=Y.useState(!0),[m,g]=Y.useState(null);return Y.useEffect(()=>{(async()=>{if(s){h(!0);try{const _=(await $E(s)).map(w=>{var q,M;const S=w.applicants,j=Array.isArray(S)?S[0]:S,A=((q=j==null?void 0:j.identity)==null?void 0:q.givenNames)||"",O=((M=j==null?void 0:j.identity)==null?void 0:M.familyName)||"",U=`${A} ${O}`.trim()||"Unknown Client";return{id:w.id,client:{id:j==null?void 0:j.id,name:U,email:"N/A"},appType:w.type||"General",status:w.status||"Draft",lastUpdated:new Date(w.updated_at||w.created_at).toLocaleDateString(),raw:w}});c(_)}catch(x){console.error("Failed to fetch applications:",x),g(x.message||"Unknown error occurred")}finally{h(!1)}}})()},[s]),u?i.jsx("div",{className:"p-8 w-full flex justify-center items-center h-64",children:i.jsx(fd,{className:"animate-spin text-gray-400",size:32})}):m?i.jsx("div",{className:"p-8 w-full",children:i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3 text-red-700",children:[i.jsx(_t,{size:20}),i.jsxs("span",{children:["Failed to load cases: ",m]})]})}):i.jsxs("div",{className:"p-8 w-full",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Case Management"}),i.jsx("p",{className:"text-gray-500 mt-1",children:"Manage active applications and client files."})]}),i.jsx(we,{onClick:n,icon:i.jsx(Iu,{size:16}),children:"New Application"})]}),i.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:l.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Iu,{className:"text-gray-400",size:24})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No active cases"}),i.jsx("p",{className:"text-gray-500 mt-1 mb-6",children:"Get started by creating a new application."}),i.jsx("div",{className:"flex justify-center",children:i.jsx(we,{onClick:n,variant:"primary",children:"Create Application"})})]}):i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-gray-50 text-xs uppercase text-gray-500 font-medium",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3",children:"Client"}),i.jsx("th",{className:"px-6 py-3",children:"Application Type"}),i.jsx("th",{className:"px-6 py-3",children:"Status"}),i.jsx("th",{className:"px-6 py-3",children:"Last Updated"}),i.jsx("th",{className:"px-6 py-3 text-right",children:"Action"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(p=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group cursor-pointer",onClick:()=>a(p),children:[i.jsxs("td",{className:"px-6 py-4",children:[i.jsx("div",{className:"font-bold text-gray-900",children:p.client.name}),i.jsx("div",{className:"text-xs text-gray-500",children:p.client.email})]}),i.jsx("td",{className:"px-6 py-4 text-gray-600",children:p.appType}),i.jsx("td",{className:"px-6 py-4",children:i.jsx(Hr,{status:p.status})}),i.jsx("td",{className:"px-6 py-4 text-gray-500 font-mono text-xs",children:p.lastUpdated}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsx("button",{className:"text-gray-400 hover:text-black p-1.5 hover:bg-gray-200 rounded opacity-0 group-hover:opacity-100 transition-all",children:i.jsx(i_,{size:16})})})]},p.id))})]})})]})},BE=(a,n)=>{const s=c=>{if(!c)return!0;const u=l(a,c.field);switch(c.operator){case"eq":return u===c.value;case"neq":return u!==c.value;case"exists":return u!==void 0&&u!==""&&u!==null;case"contains":return Array.isArray(u)&&u.includes(c.value);case"gt":return Number(u)>Number(c.value);default:return!1}},l=(c,u)=>u.split(".").reduce((h,m)=>h&&h[m],c);return n.groups.map(c=>{let u=[];if(c.slots&&c.slots.forEach(h=>{var x;if(!s(h.visibilityRule))return;const g=s(h.unlockRule),p=(x=a.documents)==null?void 0:x[h.id];u.push({id:h.id,label:h.label,group:c.id,required:h.required,role:h.role,documentType:h.documentType,status:p?p.status:g?"missing":"locked",lockMessage:g?void 0:h.lockMessage,fileId:p==null?void 0:p.fileId,fileName:p==null?void 0:p.fileName,fileSize:p==null?void 0:p.fileSize,uploadedAt:p==null?void 0:p.uploadedAt,uploadedBy:p==null?void 0:p.uploadedBy,rejectionReason:p==null?void 0:p.rejectionReason,previewUrl:p==null?void 0:p.previewUrl,mimeType:p==null?void 0:p.mimeType})}),c.generator&&c.generator.type==="residence_history_countries"){const h=a.personalHistory||[],m=new Set;h.forEach(g=>{g.country&&g.country!=="Canada"&&m.add(g.country)}),m.forEach(g=>{var w;const p=c.generator.template,x=p.id.replace("{country_code}",g.toLowerCase().replace(/\s/g,"_")),_=(w=a.documents)==null?void 0:w[x];u.push({id:x,label:p.label.replace("{country_name}",g),group:c.id,required:p.required,role:p.role,documentType:p.documentType,status:_?_.status:"missing",fileId:_==null?void 0:_.fileId,fileName:_==null?void 0:_.fileName,fileSize:_==null?void 0:_.fileSize,uploadedAt:_==null?void 0:_.uploadedAt,uploadedBy:_==null?void 0:_.uploadedBy,rejectionReason:_==null?void 0:_.rejectionReason,previewUrl:_==null?void 0:_.previewUrl,mimeType:_==null?void 0:_.mimeType})})}return{id:c.id,title:c.title,slots:u}}).filter(c=>c.slots.length>0)},LE={groups:[{id:"identity",title:"Identity & Status",slots:[{id:"passport",label:"Passport (Applicant)",required:!0,role:"applicant",documentType:"passport"},{id:"photo",label:"Digital Photo (Applicant)",required:!0,role:"applicant",documentType:"photo"},{id:"status_doc",label:"Current Status Document",required:!0,role:"applicant",documentType:"status_doc",visibilityRule:{field:"currentlyInCanada",operator:"eq",value:!0},unlockRule:{field:"currentStatus",operator:"exists"},lockMessage:"Select your specific status in the Immigration tab to unlock."}]},{id:"family",title:"Family & Dependents",slots:[{id:"marriage_cert",label:"Marriage Certificate",required:!0,role:"spouse",documentType:"marriage_cert",visibilityRule:{field:"spouseRelationType",operator:"neq",value:"none"},unlockRule:{field:"spouseFamilyName",operator:"exists"},lockMessage:"Enter spouse details in the Family tab to unlock."}]},{id:"background",title:"Background & Police",generator:{type:"residence_history_countries",template:{id:"police_cert_{country_code}",label:"Police Certificate  {country_name}",required:!0,role:"applicant",documentType:"police_certificate"}}}]},HE=()=>{var n,s;const a=import.meta;return((n=a.env)==null?void 0:n.VITE_SUPABASE_FUNCTION_URL)||((s=a.env)!=null&&s.VITE_SUPABASE_URL?`${a.env.VITE_SUPABASE_URL}/functions/v1`:null)||"http://localhost:54321/functions/v1"};async function PE(a,n){const{data:{session:s}}=await et.auth.getSession(),l=(s==null?void 0:s.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlyb2hzd2d5Y2VlZGJhcnN4dHhsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ5ODA3NDcsImV4cCI6MjA4MDU1Njc0N30.VX-74kSH0MtW3cdNEHlxmib4N8Nma4MUDtqzTHrGQ8k",c=await fetch(`${HE()}/document-slots?applicationId=${encodeURIComponent(a)}&orgId=${encodeURIComponent(n)}`,{headers:{Authorization:`Bearer ${l}`}});if(!c.ok){const u=await c.json().catch(()=>({}));throw new Error(u.error||"Failed to fetch document slots")}return c.json()}const Gg=a=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(a),IE={documents:{},uci:"",gender:"",maritalStatus:"",currentCountry:"Canada",countryOfResidence:"Canada",residenceStatus:"",residentialAddress:"",mailingSameAsResidential:!0,mailingAddress:"",hasNationalId:!1,nationalIdNumber:"",nationalIdCountry:"",nationalIdIssueDate:"",nationalIdExpiry:"",nativeLanguage:"",canCommunicateEnglish:!1,canCommunicateFrench:!1,languageTestTaken:!1,languageTestType:"",languageTestScore:"",passportNum:"",passportCountry:"",passportIssueDate:"",passportExpiryDate:"",isUSPassport:!1,eduLevel:"",eduSchool:"",eduCountry:"",eduFrom:"",eduTo:"",eduField:"",currentActivity:"",employerContact:"",jobTitle:"",employerName:"",jobCountry:"",jobCity:"",jobNoc:"",jobFrom:"",jobTo:"",jobDuties:"",spouseRelationType:"",spouseFamilyName:"",spouseGivenNames:"",spouseDob:"",spouseCountryOfBirth:"",spouseCitizenships:"",spouseCountryOfResidence:"",spouseAccompanying:!1,dateOfRelationshipStart:"",placeOfMarriageCity:"",placeOfMarriageCountry:"",hasChildren:!1,childFamilyName:"",childGivenNames:"",childDob:"",childCountryOfBirth:"",childCitizenships:"",childAccompanying:!1,motherFamilyName:"",motherGivenNames:"",motherDob:"",motherCountryOfBirth:"",fatherFamilyName:"",fatherGivenNames:"",fatherDob:"",fatherCountryOfBirth:"",currentlyInCanada:!1,dateOfEntry:"",originalEntryCity:"",originalEntryProvince:"",mostRecentEntryDate:"",mostRecentEntryCity:"",mostRecentEntryProvince:"",currentStatus:"",permitDocType:"",permitDocNumber:"",permitExpiryDate:"",qTbContact:!1,qTbContactExplanation:"",qMedicalNeeds:!1,qMedicalNeedsExplanation:"",qStatusViolations:!1,qStatusViolationsExplanation:"",qVisaRefusal:!1,qVisaRefusalExplanation:"",qPreviousApplication:!1,qPreviousApplicationDetails:"",qCriminalOffence:!1,qCriminalOffenceExplanation:"",qMilitaryService:!1,qMilitaryServiceDetails:"",qViolentOrgs:!1,qViolentOrgsExplanation:"",qHrViolations:!1,qHrViolationsExplanation:"",qGovPositions:!1,qGovPositionsDetails:"",personalHistory:[{id:1,type:"",fromDate:"",toDate:"",organization:"",city:"",country:"",description:""}],prevResidences:[]},Fv=Y.createContext(void 0),Jv=({children:a,caseData:n})=>{var se,X;const[s,l]=Y.useState(IE),[c,u]=Y.useState([]),[h,m]=Y.useState(!1),g=((se=n==null?void 0:n.raw)==null?void 0:se.org_id)||((X=n==null?void 0:n.raw)==null?void 0:X.orgId)||"",p=Y.useCallback((y,F)=>{u(K=>K.map(Se=>({...Se,slots:Se.slots.map(fe=>fe.id===y?{...fe,...F}:fe)})))},[]),x=y=>y!=null&&y.length&&[...y].sort((F,K)=>new Date(K.uploadedAt).getTime()-new Date(F.uploadedAt).getTime())[0]||null,_=(y,F)=>{const K=x(F.documents||[]),Se=!!F.locked;return{id:F.id,label:F.label,group:y,required:F.required,role:F.role,documentType:F.documentType,status:Se?"locked":F.status,lockMessage:Se?F.lockMessage??void 0:void 0,fileId:K==null?void 0:K.id,fileName:K==null?void 0:K.fileName,fileSize:K==null?void 0:K.fileSize,uploadedAt:K==null?void 0:K.uploadedAt,uploadedBy:(K==null?void 0:K.uploadedByUserId)??void 0,previewUrl:(K==null?void 0:K.previewUrl)??void 0,mimeType:(K==null?void 0:K.mimeType)??void 0}},w=Y.useCallback(async()=>{if(!(n!=null&&n.id))return;const y=String(n.id);if(Gg(y)&&typeof g=="string"&&g.length>0){m(!0);try{const{groups:K}=await PE(y,g),Se=K.map(le=>({id:le.id,title:le.title,slots:le.slots.map(nt=>_(le.id,nt))}));u(Se);const fe={};for(const le of K)for(const nt of le.slots){const Me=x(nt.documents||[]);Me&&(fe[nt.id]={fileId:Me.id,fileName:Me.fileName,fileSize:Me.fileSize,uploadedAt:Me.uploadedAt,uploadedBy:Me.uploadedByUserId||"",status:["uploaded","in_review","verified","rejected"].includes(Me.status)?Me.status:"uploaded",previewUrl:Me.previewUrl??void 0,mimeType:Me.mimeType??void 0})}l(le=>({...le,documents:fe}))}catch(K){console.error("Failed to refresh documents:",K)}finally{m(!1)}}},[n==null?void 0:n.id,g]);Y.useEffect(()=>{w()},[w]),Y.useEffect(()=>{if(!(n!=null&&n.id))return;const y=String(n.id);Gg(y)&&typeof g=="string"&&g.length>0||u(BE(s,LE))},[n==null?void 0:n.id,g,s]);const S=Y.useCallback(async(y,F)=>{if(!(n!=null&&n.id))return;const K=String(n.id);if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(K)){console.error("Cannot upload document: Invalid application ID (not a UUID)"),alert("Cannot upload document: Please select a real application from the database.");return}l(fe=>({...fe,documents:{...fe.documents,[y]:{fileId:"temp",fileName:F.name,fileSize:F.size,uploadedAt:new Date().toLocaleString(),uploadedBy:"You",status:"uploaded"}}})),p(y,{status:"uploaded",fileId:"temp",fileName:F.name,fileSize:F.size,uploadedAt:new Date().toISOString(),uploadedBy:"You"});try{const{data:{session:fe},error:le}=await et.auth.getSession(),nt=fe==null?void 0:fe.access_token;if(le||!nt)throw new Error("Not authenticated. Please log in to upload documents.");const Me=new FormData;Me.append("applicationId",K),Me.append("slotId",y),Me.append("file",F);const $=await fetch("https://yrohswgyceedbarsxtxl.supabase.co/functions/v1/upload-document",{method:"POST",headers:{Authorization:`Bearer ${nt}`},body:Me});if(!$.ok){const re=await $.json().catch(()=>({}));throw new Error(re.error||"Upload failed")}const G=await $.json();l(re=>({...re,documents:{...re.documents,[y]:{...re.documents[y],fileId:G.document.id,status:G.status,uploadedAt:G.document.uploadedAt||new Date().toISOString(),fileName:G.document.fileName,fileSize:G.document.size,previewUrl:G.document.previewUrl,mimeType:G.document.mimeType}}})),p(y,{status:G.status,fileId:G.document.id,fileName:G.document.fileName,fileSize:G.document.size,uploadedAt:G.document.uploadedAt||new Date().toISOString(),previewUrl:G.document.previewUrl||void 0,mimeType:G.document.mimeType||void 0}),await w()}catch(fe){console.error("Document save failed:",fe),l(le=>{const nt={...le.documents};return delete nt[y],{...le,documents:nt}}),await w(),alert(`Failed to upload document: ${fe.message||"Unknown error"}`)}},[n==null?void 0:n.id,w,p]),j=y=>{l(F=>({...F,...y}))},A=()=>{l(y=>({...y,personalHistory:[...y.personalHistory,{id:Date.now(),type:"",fromDate:"",toDate:"",organization:"",city:"",country:"",description:""}]}))},O=y=>{l(F=>F.personalHistory.length<=1?F:{...F,personalHistory:F.personalHistory.filter(K=>K.id!==y)})},U=(y,F,K)=>{l(Se=>({...Se,personalHistory:Se.personalHistory.map(fe=>fe.id===y?{...fe,[F]:K}:fe)}))},q=()=>{l(y=>({...y,prevResidences:[...y.prevResidences,{id:Date.now(),country:"",status:"",fromDate:"",toDate:""}]}))},M=y=>{l(F=>({...F,prevResidences:F.prevResidences.filter(K=>K.id!==y)}))},V=(y,F,K)=>{l(Se=>({...Se,prevResidences:Se.prevResidences.map(fe=>fe.id===y?{...fe,[F]:K}:fe)}))};return i.jsx(Fv.Provider,{value:{caseData:n,formData:s,updateFormData:j,computedDocuments:c,refreshDocuments:w,saveDocument:S,documentsLoading:h,addHistoryEntry:A,removeHistoryEntry:O,updateHistoryEntry:U,addResidence:q,removeResidence:M,updateResidence:V},children:a})},Md=()=>{const a=Y.useContext(Fv);if(a===void 0)throw new Error("useCase must be used within a CaseProvider");return a},Qv=({caseData:a,onBack:n,headless:s=!1})=>{const[l,c]=Y.useState("universal"),[u,h]=Y.useState("idle"),{formData:m,updateFormData:g,addHistoryEntry:p,removeHistoryEntry:x,updateHistoryEntry:_,addResidence:w,removeResidence:S}=Md(),j=y=>g(y),[A,O]=Y.useState(null),U=y=>{y.preventDefault(),O({passportNum:"A88291033",passportCountry:"Mexico",passportIssueDate:"2020-01-15",passportExpiryDate:"2030-01-15",familyName:"RODRIGUEZ",givenNames:"JUAN"}),g({passportNum:"A88291033",passportCountry:"Mexico",passportIssueDate:"2020-01-15",passportExpiryDate:"2030-01-15"})},q=()=>{h("processing"),setTimeout(()=>{m.passportNum?h("success"):h("error")},2e3)},M=()=>{if(!m.passportExpiryDate)return!1;const y=new Date(m.passportExpiryDate),F=new Date;return(y.getFullYear()-F.getFullYear())*12+(y.getMonth()-F.getMonth())<6},{personalHistory:V,prevResidences:se}=m,X=[{id:"universal",label:"Universal Data",icon:s0},{id:"passport",label:"Passport & IDs",icon:g_},{id:"education",label:"Education",icon:y_},{id:"employment",label:"Employment",icon:dd},{id:"history",label:"Personal History",icon:b_},{id:"family",label:"Family",icon:i0},{id:"background",label:"Background & Security",icon:pd},{id:"immigration",label:"Immigration",icon:U_}];return i.jsxs("div",{className:"h-full flex flex-col bg-white",children:[!s&&i.jsxs("header",{className:"h-14 border-b border-gray-200 flex items-center justify-between px-6 bg-white shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:n,className:"p-1.5 hover:bg-gray-100 rounded-md text-gray-500 transition-colors",children:i.jsx(Jg,{size:18})}),i.jsx("div",{className:"h-6 w-px bg-gray-200"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-sm font-bold text-gray-900",children:a.client.name}),i.jsx("p",{className:"text-xs text-gray-500",children:a.appType})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-xs font-mono text-gray-400",children:["ID: #LM-",Date.now().toString().slice(-6)]}),i.jsx(Hr,{status:"Draft"})]})]}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[i.jsxs("div",{className:"w-2/3 border-r border-gray-200 flex flex-col bg-gray-50/50",children:[i.jsx("div",{className:"px-6 pt-6 pb-2 border-b border-gray-200/50 bg-white overflow-x-auto",children:i.jsx("div",{className:"flex gap-4",children:X.map(y=>{const F=l===y.id,K=y.icon;return i.jsxs("button",{onClick:()=>c(y.id),className:`pb-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2 whitespace-nowrap ${F?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-800"}`,children:[i.jsx(K,{size:16,className:F?"text-black":"text-gray-400"}),y.label]},y.id)})})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:[l==="universal"&&i.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-xl border border-gray-200 shadow-sm space-y-8 animate-in fade-in slide-in-from-bottom-2",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-black text-white flex items-center justify-center text-xs",children:"A"}),"Identity"]}),i.jsxs("div",{className:"mb-4",children:[i.jsx(I,{children:"Full Legal Name (Preview)"}),i.jsxs("div",{className:"p-2 bg-gray-50 border border-gray-200 rounded text-sm font-mono text-gray-600",children:[m.familyName,", ",m.givenNames]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(I,{children:"Family Name"}),i.jsx(Q,{value:m.familyName,onChange:y=>j({...m,familyName:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Given Name(s)"}),i.jsx(Q,{value:m.givenNames,onChange:y=>j({...m,givenNames:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Date of Birth"}),i.jsx(Q,{type:"date",value:m.dob,onChange:y=>j({...m,dob:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Sex"}),i.jsxs(Be,{value:m.sex,onChange:y=>j({...m,sex:y.target.value}),children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"M",children:"Male"}),i.jsx("option",{value:"F",children:"Female"}),i.jsx("option",{value:"X",children:"Another Gender"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Marital Status"}),i.jsxs(Be,{value:m.maritalStatus,onChange:y=>j({...m,maritalStatus:y.target.value}),children:[i.jsx("option",{value:"",children:"Select Status..."}),i.jsx("option",{value:"single",children:"Single"}),i.jsx("option",{value:"married",children:"Married"}),i.jsx("option",{value:"common-law",children:"Common-Law"}),i.jsx("option",{value:"divorced",children:"Divorced"}),i.jsx("option",{value:"widowed",children:"Widowed"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"UCI / Client ID (if known)"}),i.jsx(Q,{value:m.uci,onChange:y=>j({...m,uci:y.target.value}),placeholder:"e.g. 1234-5678"})]}),i.jsxs("div",{className:"col-span-2 pt-2",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-2",children:[i.jsx("input",{type:"checkbox",checked:m.hasOtherNames,onChange:y=>j({...m,hasOtherNames:y.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Have you ever used any other name(s)?"})]}),m.hasOtherNames&&i.jsxs("div",{className:"mt-2 animate-in fade-in slide-in-from-top-1",children:[i.jsx(I,{children:"Other Names / Aliases"}),i.jsx(Q,{value:m.otherNames,onChange:y=>j({...m,otherNames:y.target.value}),placeholder:"e.g. SMITH, Jane Marie; DOE, Jane (comma separated)"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter as: Family Name, Given Names for each alias"})]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-100",children:[i.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-black text-white flex items-center justify-center text-xs",children:"B"}),"Birth & Citizenship"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(I,{children:"Country of Birth"}),i.jsxs(Be,{value:m.countryOfBirth,onChange:y=>j({...m,countryOfBirth:y.target.value}),children:[i.jsx("option",{value:"",children:"Select Country..."}),i.jsx("option",{value:"Canada",children:"Canada"}),i.jsx("option",{value:"USA",children:"USA"}),i.jsx("option",{value:"India",children:"India"}),i.jsx("option",{value:"China",children:"China"}),i.jsx("option",{value:"Philippines",children:"Philippines"}),i.jsx("option",{value:"Mexico",children:"Mexico"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"City/Town of Birth"}),i.jsx(Q,{value:m.cityOfBirth,onChange:y=>j({...m,cityOfBirth:y.target.value}),placeholder:"e.g. Toronto"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Citizenship(s)"}),i.jsx(Q,{value:m.citizenships,onChange:y=>j({...m,citizenships:y.target.value}),placeholder:"e.g. Canadian, American (comma separated)"})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-100",children:[i.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-black text-white flex items-center justify-center text-xs",children:"C"}),"Contact & Residence"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Email Address"}),i.jsx(Q,{type:"email",value:m.email,onChange:y=>j({...m,email:y.target.value})})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Phone Number"}),i.jsx(Q,{type:"tel",value:m.phone,onChange:y=>j({...m,phone:y.target.value}),placeholder:"+1 (555) 000-0000"})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Current Country of Residence"}),i.jsxs(Be,{value:m.countryOfResidence,onChange:y=>j({...m,countryOfResidence:y.target.value}),children:[i.jsx("option",{value:"",children:"Select Country..."}),i.jsx("option",{value:"Canada",children:"Canada"}),i.jsx("option",{value:"USA",children:"USA"}),i.jsx("option",{value:"India",children:"India"}),i.jsx("option",{value:"China",children:"China"}),i.jsx("option",{value:"Philippines",children:"Philippines"}),i.jsx("option",{value:"Mexico",children:"Mexico"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Status in Country of Residence"}),i.jsxs(Be,{value:m.residenceStatus,onChange:y=>j({...m,residenceStatus:y.target.value}),children:[i.jsx("option",{value:"",children:"Select Status..."}),i.jsx("option",{value:"citizen",children:"Citizen"}),i.jsx("option",{value:"pr",children:"Permanent Resident"}),i.jsx("option",{value:"worker",children:"Worker"}),i.jsx("option",{value:"student",children:"Student"}),i.jsx("option",{value:"visitor",children:"Visitor"}),i.jsx("option",{value:"other",children:"Other"})]})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Current Residential Address"}),i.jsx(Q,{value:m.residentialAddress,onChange:y=>j({...m,residentialAddress:y.target.value}),placeholder:"Full address..."})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-2",children:[i.jsx("input",{type:"checkbox",checked:m.mailingSameAsResidential,onChange:y=>j({...m,mailingSameAsResidential:y.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Mailing address is same as residential"})]}),!m.mailingSameAsResidential&&i.jsxs("div",{className:"mt-2 animate-in fade-in slide-in-from-top-1",children:[i.jsx(I,{children:"Mailing Address"}),i.jsx(Q,{value:m.mailingAddress,onChange:y=>j({...m,mailingAddress:y.target.value}),placeholder:"Mailing address..."})]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-100",children:[i.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-black text-white flex items-center justify-center text-xs",children:"D"}),"National ID Document"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.hasNationalId,onChange:y=>j({...m,hasNationalId:y.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"I have a National ID document"})]}),m.hasNationalId&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 animate-in fade-in slide-in-from-top-1",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"National ID Number"}),i.jsx(Q,{value:m.nationalIdNumber,onChange:y=>j({...m,nationalIdNumber:y.target.value}),placeholder:"e.g. ABC123456"})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Country of Issue"}),i.jsxs(Be,{value:m.nationalIdCountry,onChange:y=>j({...m,nationalIdCountry:y.target.value}),children:[i.jsx("option",{value:"",children:"Select Country..."}),i.jsx("option",{value:"India",children:"India"}),i.jsx("option",{value:"China",children:"China"}),i.jsx("option",{value:"Philippines",children:"Philippines"}),i.jsx("option",{value:"Mexico",children:"Mexico"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Issue Date (Optional)"}),i.jsx(Q,{type:"date",value:m.nationalIdIssueDate,onChange:y=>j({...m,nationalIdIssueDate:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Expiry Date"}),i.jsx(Q,{type:"date",value:m.nationalIdExpiry,onChange:y=>j({...m,nationalIdExpiry:y.target.value})})]})]})]})]}),i.jsxs("div",{className:"pt-6 border-t border-gray-100",children:[i.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-black text-white flex items-center justify-center text-xs",children:"E"}),"Languages"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Native Language / Mother Tongue"}),i.jsxs(Be,{value:m.nativeLanguage,onChange:y=>j({...m,nativeLanguage:y.target.value}),children:[i.jsx("option",{value:"",children:"Select Language..."}),i.jsx("option",{value:"English",children:"English"}),i.jsx("option",{value:"French",children:"French"}),i.jsx("option",{value:"Mandarin",children:"Mandarin Chinese"}),i.jsx("option",{value:"Spanish",children:"Spanish"}),i.jsx("option",{value:"Hindi",children:"Hindi"}),i.jsx("option",{value:"Punjabi",children:"Punjabi"}),i.jsx("option",{value:"Tagalog",children:"Tagalog"}),i.jsx("option",{value:"Arabic",children:"Arabic"}),i.jsx("option",{value:"Portuguese",children:"Portuguese"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsxs("div",{className:"col-span-2 space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.canCommunicateEnglish,onChange:y=>j({...m,canCommunicateEnglish:y.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Able to communicate in English"})]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.canCommunicateFrench,onChange:y=>j({...m,canCommunicateFrench:y.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Able to communicate in French"})]})]}),i.jsxs("div",{className:"col-span-2 pt-2",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-2",children:[i.jsx("input",{type:"checkbox",checked:m.languageTestTaken,onChange:y=>j({...m,languageTestTaken:y.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Have you taken a language proficiency test?"})]}),m.languageTestTaken&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 animate-in fade-in slide-in-from-top-1",children:[i.jsxs("div",{children:[i.jsx(I,{children:"Test Type"}),i.jsxs(Be,{value:m.languageTestType,onChange:y=>j({...m,languageTestType:y.target.value}),children:[i.jsx("option",{value:"",children:"Select Test..."}),i.jsx("option",{value:"IELTS",children:"IELTS"}),i.jsx("option",{value:"CELPIP",children:"CELPIP"}),i.jsx("option",{value:"TEF",children:"TEF Canada"}),i.jsx("option",{value:"TCF",children:"TCF Canada"}),i.jsx("option",{value:"PTE",children:"PTE Academic"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Overall Score (Optional)"}),i.jsx(Q,{value:m.languageTestScore,onChange:y=>j({...m,languageTestScore:y.target.value}),placeholder:"e.g. 7.5 or CLB 9"})]})]})]})]})]})]}),l==="passport"&&i.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-xl border border-gray-200 shadow-sm space-y-8 animate-in fade-in slide-in-from-bottom-2",children:[i.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-lg p-8 text-center bg-gray-50/50 hover:bg-gray-50 transition-colors cursor-pointer group",onDragOver:y=>y.preventDefault(),onDrop:U,children:[i.jsx("div",{className:"w-12 h-12 bg-white rounded-full shadow-sm flex items-center justify-center mx-auto mb-3 text-gray-400 group-hover:text-[var(--accent)] group-hover:scale-110 transition-all",children:i.jsx(Ks,{size:24})}),i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Drop passport image/PDF to autopopulate"}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Supports JPG, PNG, PDF"})]}),A&&i.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-3 rounded-md flex items-start gap-3",children:[i.jsx("div",{className:"text-blue-600 mt-0.5",children:i.jsx(pn,{size:16})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Data extracted from passport"}),i.jsx("p",{className:"text-xs text-blue-600 mt-0.5",children:"Please review the populated fields below."})]})]}),M()&&i.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-3 rounded-md flex items-start gap-3",children:[i.jsx("div",{className:"text-amber-600 mt-0.5",children:i.jsx(_t,{size:16})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-amber-800 font-medium",children:"Passport expiring soon"}),i.jsx("p",{className:"text-xs text-amber-600 mt-0.5",children:"Expiry date is within 6 months. This may affect permit duration."})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg mb-4",children:"Primary Passport"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Passport Number"}),i.jsxs("div",{className:"relative",children:[i.jsx(Q,{value:m.passportNum,onChange:y=>j({...m,passportNum:y.target.value}),placeholder:"A12345678",className:A?"bg-blue-50/30":""}),A&&i.jsx("span",{className:"absolute right-3 top-2.5 text-[10px] font-bold text-blue-600 bg-blue-100 px-1.5 py-0.5 rounded",children:"OCR"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Country of Issue"}),i.jsxs(Be,{value:m.passportCountry,onChange:y=>j({...m,passportCountry:y.target.value}),children:[i.jsx("option",{value:"",children:"Select Country..."}),i.jsx("option",{value:"Canada",children:"Canada"}),i.jsx("option",{value:"USA",children:"USA"}),i.jsx("option",{value:"India",children:"India"}),i.jsx("option",{value:"Mexico",children:"Mexico"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsx("div",{}),i.jsxs("div",{children:[i.jsx(I,{children:"Issue Date"}),i.jsx(Q,{type:"date",value:m.passportIssueDate,onChange:y=>j({...m,passportIssueDate:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Expiry Date"}),i.jsx(Q,{type:"date",value:m.passportExpiryDate,onChange:y=>j({...m,passportExpiryDate:y.target.value})})]}),i.jsxs("div",{className:"col-span-2 pt-2",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.isUSPassport,onChange:y=>j({...m,isUSPassport:y.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Is this a valid US Passport?"})]}),m.isUSPassport&&i.jsx("p",{className:"text-xs text-blue-600 mt-1 ml-6",children:"US Citizens require an eTA instead of a visa."})]})]})]})]}),l==="education"&&i.jsx("div",{className:"max-w-2xl bg-white p-8 rounded-xl border border-gray-200 shadow-sm space-y-8 animate-in fade-in slide-in-from-bottom-2",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-bold text-lg",children:"Education History"}),i.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"MVP: Single Entry"})]}),i.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Highest Level of Education"}),i.jsxs(Be,{value:m.eduLevel,onChange:y=>j({...m,eduLevel:y.target.value}),children:[i.jsx("option",{value:"",children:"Select Level..."}),i.jsx("option",{value:"secondary",children:"Secondary (High School)"}),i.jsx("option",{value:"bachelors",children:"Bachelor's Degree"}),i.jsx("option",{value:"masters",children:"Master's Degree"}),i.jsx("option",{value:"phd",children:"PhD"}),i.jsx("option",{value:"diploma",children:"College Diploma/Certificate"})]})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"School/Institution Name"}),i.jsx(Q,{value:m.eduSchool,onChange:y=>j({...m,eduSchool:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Country"}),i.jsxs(Be,{value:m.eduCountry,onChange:y=>j({...m,eduCountry:y.target.value}),children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"Canada",children:"Canada"}),i.jsx("option",{value:"USA",children:"USA"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Field of Study"}),i.jsx(Q,{value:m.eduField,onChange:y=>j({...m,eduField:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"From Date"}),i.jsx(Q,{type:"date",value:m.eduFrom,onChange:y=>j({...m,eduFrom:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"To Date"}),i.jsx(Q,{type:"date",value:m.eduTo,onChange:y=>j({...m,eduTo:y.target.value})})]})]})})]})}),l==="employment"&&i.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-xl border border-gray-200 shadow-sm space-y-8 animate-in fade-in slide-in-from-bottom-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("h3",{className:"font-bold text-lg",children:"Current Status"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:[i.jsxs("div",{children:[i.jsx(I,{children:"Current Activity"}),i.jsxs(Be,{value:m.currentActivity,onChange:y=>j({...m,currentActivity:y.target.value}),children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"employed",children:"Employed"}),i.jsx("option",{value:"unemployed",children:"Unemployed"}),i.jsx("option",{value:"studying",children:"Studying"}),i.jsx("option",{value:"other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Employer Contact (Phone/Email)"}),i.jsx(Q,{value:m.employerContact,onChange:y=>j({...m,employerContact:y.target.value}),placeholder:"Optional"})]})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"font-bold text-lg",children:"Employment History"}),i.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"MVP: Single Entry"})]}),i.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Job Title"}),i.jsx(Q,{value:m.jobTitle,onChange:y=>j({...m,jobTitle:y.target.value})})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Employer Name"}),i.jsx(Q,{value:m.employerName,onChange:y=>j({...m,employerName:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Country"}),i.jsxs(Be,{value:m.jobCountry,onChange:y=>j({...m,jobCountry:y.target.value}),children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"Canada",children:"Canada"}),i.jsx("option",{value:"USA",children:"USA"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"City"}),i.jsx(Q,{value:m.jobCity,onChange:y=>j({...m,jobCity:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"NOC Code (Optional)"}),i.jsx(Q,{value:m.jobNoc,onChange:y=>j({...m,jobNoc:y.target.value}),placeholder:"e.g. 2171"})]}),i.jsx("div",{}),i.jsxs("div",{children:[i.jsx(I,{children:"From Date"}),i.jsx(Q,{type:"date",value:m.jobFrom,onChange:y=>j({...m,jobFrom:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"To Date"}),i.jsx(Q,{type:"date",value:m.jobTo,onChange:y=>j({...m,jobTo:y.target.value})})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Main Duties"}),i.jsx("textarea",{className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-sm text-sm focus:outline-none focus:border-black focus:ring-1 focus:ring-black min-h-[100px]",value:m.jobDuties,onChange:y=>j({...m,jobDuties:y.target.value}),placeholder:"Describe main duties..."})]})]})})]})]}),l==="history"&&i.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-xl border border-gray-200 shadow-sm space-y-6 animate-in fade-in slide-in-from-bottom-2",children:[i.jsx("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-800",children:[i.jsx("strong",{children:"Required:"})," List all activities for the past 10 years (or since age 18 if shorter). Include employment, education, unemployment, and other activities. Leave no gaps."]})}),V.map((y,F)=>i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30 relative",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("span",{className:"text-xs font-bold text-gray-500 uppercase",children:["Activity ",F+1]}),V.length>1&&i.jsx("button",{onClick:()=>x(y.id),className:"text-red-500 hover:text-red-700 p-1",children:i.jsx(a0,{size:16})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Activity Type"}),i.jsxs(Be,{value:y.type,onChange:K=>_(y.id,"type",K.target.value),children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"employed",children:"Employed"}),i.jsx("option",{value:"self_employed",children:"Self-Employed"}),i.jsx("option",{value:"education",children:"Education/Studying"}),i.jsx("option",{value:"unemployed",children:"Unemployed"}),i.jsx("option",{value:"homemaker",children:"Homemaker"}),i.jsx("option",{value:"retired",children:"Retired"}),i.jsx("option",{value:"other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"From Date"}),i.jsx(Q,{type:"month",value:y.fromDate,onChange:K=>_(y.id,"fromDate",K.target.value)})]}),i.jsxs("div",{children:[i.jsx(I,{children:"To Date"}),i.jsx(Q,{type:"month",value:y.toDate,onChange:K=>_(y.id,"toDate",K.target.value),placeholder:"Present"})]}),(y.type==="employed"||y.type==="self_employed"||y.type==="education")&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:y.type==="education"?"School/Institution":"Employer/Organization"}),i.jsx(Q,{value:y.organization,onChange:K=>_(y.id,"organization",K.target.value)})]}),i.jsxs("div",{children:[i.jsx(I,{children:"City"}),i.jsx(Q,{value:y.city,onChange:K=>_(y.id,"city",K.target.value)})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Country"}),i.jsxs(Be,{value:y.country,onChange:K=>_(y.id,"country",K.target.value),children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"Canada",children:"Canada"}),i.jsx("option",{value:"USA",children:"USA"}),i.jsx("option",{value:"India",children:"India"}),i.jsx("option",{value:"Mexico",children:"Mexico"}),i.jsx("option",{value:"Philippines",children:"Philippines"}),i.jsx("option",{value:"Other",children:"Other"})]})]})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Description / Job Title (Optional)"}),i.jsx(Q,{value:y.description,onChange:K=>_(y.id,"description",K.target.value),placeholder:"Brief description of activity"})]})]})]},y.id)),i.jsxs("button",{onClick:p,className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-black transition-colors",children:[i.jsx(Ll,{size:16})," Add Another Activity"]})]}),l==="family"&&i.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-xl border border-gray-200 shadow-sm space-y-8 animate-in fade-in slide-in-from-bottom-2",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-black text-white flex items-center justify-center text-xs",children:"1"}),"Spouse / Common-Law Partner"]}),i.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Relationship Type"}),i.jsxs(Be,{value:m.spouseRelationType,onChange:y=>j({...m,spouseRelationType:y.target.value}),children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"none",children:"None / Not Applicable"}),i.jsx("option",{value:"spouse",children:"Spouse (Married)"}),i.jsx("option",{value:"common-law",children:"Common-Law Partner"})]})]}),m.spouseRelationType&&m.spouseRelationType!=="none"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(I,{children:"Family Name"}),i.jsx(Q,{value:m.spouseFamilyName,onChange:y=>j({...m,spouseFamilyName:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Given Name(s)"}),i.jsx(Q,{value:m.spouseGivenNames,onChange:y=>j({...m,spouseGivenNames:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Date of Birth"}),i.jsx(Q,{type:"date",value:m.spouseDob,onChange:y=>j({...m,spouseDob:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Country of Birth"}),i.jsxs(Be,{value:m.spouseCountryOfBirth,onChange:y=>j({...m,spouseCountryOfBirth:y.target.value}),children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"Canada",children:"Canada"}),i.jsx("option",{value:"USA",children:"USA"}),i.jsx("option",{value:"India",children:"India"}),i.jsx("option",{value:"Mexico",children:"Mexico"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Citizenship(s)"}),i.jsx(Q,{value:m.spouseCitizenships,onChange:y=>j({...m,spouseCitizenships:y.target.value}),placeholder:"e.g. Mexican"})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Country of Residence"}),i.jsxs(Be,{value:m.spouseCountryOfResidence,onChange:y=>j({...m,spouseCountryOfResidence:y.target.value}),children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"Canada",children:"Canada"}),i.jsx("option",{value:"USA",children:"USA"}),i.jsx("option",{value:"India",children:"India"}),i.jsx("option",{value:"Mexico",children:"Mexico"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsx("div",{className:"col-span-2",children:i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.spouseAccompanying,onChange:y=>j({...m,spouseAccompanying:y.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Will accompany the applicant to Canada"})]})}),i.jsxs("div",{className:"col-span-2 pt-3 border-t border-gray-100 mt-2",children:[i.jsx(I,{children:"Date of Marriage / Relationship Start (Optional)"}),i.jsx(Q,{type:"date",value:m.dateOfRelationshipStart,onChange:y=>j({...m,dateOfRelationshipStart:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Place of Marriage - City (Optional)"}),i.jsx(Q,{value:m.placeOfMarriageCity,onChange:y=>j({...m,placeOfMarriageCity:y.target.value}),placeholder:"e.g. Toronto"})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Place of Marriage - Country (Optional)"}),i.jsxs(Be,{value:m.placeOfMarriageCountry,onChange:y=>j({...m,placeOfMarriageCountry:y.target.value}),children:[i.jsx("option",{value:"",children:"Select Country..."}),i.jsx("option",{value:"Canada",children:"Canada"}),i.jsx("option",{value:"USA",children:"USA"}),i.jsx("option",{value:"India",children:"India"}),i.jsx("option",{value:"China",children:"China"}),i.jsx("option",{value:"Philippines",children:"Philippines"}),i.jsx("option",{value:"Mexico",children:"Mexico"}),i.jsx("option",{value:"Other",children:"Other"})]})]})]})]})})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-black text-white flex items-center justify-center text-xs",children:"2"}),"Children"]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-4",children:[i.jsx("input",{type:"checkbox",checked:m.hasChildren,onChange:y=>j({...m,hasChildren:y.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"I have dependent children"})]}),m.hasChildren&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 animate-in fade-in slide-in-from-top-1",children:[i.jsxs("div",{className:"col-span-2 flex items-center justify-between",children:[i.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:"Child 1"}),i.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:"MVP: Single Entry"})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Family Name"}),i.jsx(Q,{value:m.childFamilyName,onChange:y=>j({...m,childFamilyName:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Given Name(s)"}),i.jsx(Q,{value:m.childGivenNames,onChange:y=>j({...m,childGivenNames:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Date of Birth"}),i.jsx(Q,{type:"date",value:m.childDob,onChange:y=>j({...m,childDob:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Country of Birth"}),i.jsxs(Be,{value:m.childCountryOfBirth,onChange:y=>j({...m,childCountryOfBirth:y.target.value}),children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"Canada",children:"Canada"}),i.jsx("option",{value:"USA",children:"USA"}),i.jsx("option",{value:"India",children:"India"}),i.jsx("option",{value:"Mexico",children:"Mexico"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Citizenship(s)"}),i.jsx(Q,{value:m.childCitizenships,onChange:y=>j({...m,childCitizenships:y.target.value}),placeholder:"e.g. Mexican"})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer pb-2",children:[i.jsx("input",{type:"checkbox",checked:m.childAccompanying,onChange:y=>j({...m,childAccompanying:y.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Will accompany"})]})}),i.jsx("div",{className:"col-span-2 pt-2",children:i.jsxs("button",{disabled:!0,className:"text-sm text-gray-400 flex items-center gap-1 cursor-not-allowed",children:[i.jsx(Ll,{size:14})," Add another child (coming soon)"]})})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-black text-white flex items-center justify-center text-xs",children:"3"}),"Parents (IMM 5707)"]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30 mb-4",children:[i.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase mb-3 block",children:"Mother"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(I,{children:"Family Name"}),i.jsx(Q,{value:m.motherFamilyName,onChange:y=>j({...m,motherFamilyName:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Given Name(s)"}),i.jsx(Q,{value:m.motherGivenNames,onChange:y=>j({...m,motherGivenNames:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Date of Birth"}),i.jsx(Q,{type:"date",value:m.motherDob,onChange:y=>j({...m,motherDob:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Country of Birth"}),i.jsxs(Be,{value:m.motherCountryOfBirth,onChange:y=>j({...m,motherCountryOfBirth:y.target.value}),children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"Canada",children:"Canada"}),i.jsx("option",{value:"USA",children:"USA"}),i.jsx("option",{value:"India",children:"India"}),i.jsx("option",{value:"China",children:"China"}),i.jsx("option",{value:"Philippines",children:"Philippines"}),i.jsx("option",{value:"Mexico",children:"Mexico"}),i.jsx("option",{value:"Other",children:"Other"})]})]})]})]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:[i.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase mb-3 block",children:"Father"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(I,{children:"Family Name"}),i.jsx(Q,{value:m.fatherFamilyName,onChange:y=>j({...m,fatherFamilyName:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Given Name(s)"}),i.jsx(Q,{value:m.fatherGivenNames,onChange:y=>j({...m,fatherGivenNames:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Date of Birth"}),i.jsx(Q,{type:"date",value:m.fatherDob,onChange:y=>j({...m,fatherDob:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Country of Birth"}),i.jsxs(Be,{value:m.fatherCountryOfBirth,onChange:y=>j({...m,fatherCountryOfBirth:y.target.value}),children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"Canada",children:"Canada"}),i.jsx("option",{value:"USA",children:"USA"}),i.jsx("option",{value:"India",children:"India"}),i.jsx("option",{value:"China",children:"China"}),i.jsx("option",{value:"Philippines",children:"Philippines"}),i.jsx("option",{value:"Mexico",children:"Mexico"}),i.jsx("option",{value:"Other",children:"Other"})]})]})]})]})]})]}),l==="background"&&i.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-xl border border-gray-200 shadow-sm space-y-6 animate-in fade-in slide-in-from-bottom-2",children:[i.jsx("div",{className:"bg-amber-50 border border-amber-100 p-4 rounded-lg",children:i.jsxs("p",{className:"text-sm text-amber-800",children:[i.jsx("strong",{children:"Note:"})," These questions are application-specific and required for most temporary resident applications (study permit, work permit, visitor visa)."]})}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:[i.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.qTbContact,onChange:y=>j({...m,qTbContact:y.target.checked}),className:"w-4 h-4 mt-0.5 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Within the past two years, have you or a family member had tuberculosis (TB) or been in close contact with a person with TB?"})]}),m.qTbContact&&i.jsxs("div",{className:"mt-3 ml-7 animate-in fade-in slide-in-from-top-1",children:[i.jsx(I,{children:"Please explain"}),i.jsx("textarea",{className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-sm text-sm focus:outline-none focus:border-black focus:ring-1 focus:ring-black min-h-[80px]",value:m.qTbContactExplanation,onChange:y=>j({...m,qTbContactExplanation:y.target.value}),placeholder:"Provide details..."})]})]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:[i.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.qMedicalNeeds,onChange:y=>j({...m,qMedicalNeeds:y.target.checked}),className:"w-4 h-4 mt-0.5 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Do you have any physical or mental disorder that would require social and/or health services, other than medication, during your stay in Canada?"})]}),m.qMedicalNeeds&&i.jsxs("div",{className:"mt-3 ml-7 animate-in fade-in slide-in-from-top-1",children:[i.jsx(I,{children:"Please explain"}),i.jsx("textarea",{className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-sm text-sm focus:outline-none focus:border-black focus:ring-1 focus:ring-black min-h-[80px]",value:m.qMedicalNeedsExplanation,onChange:y=>j({...m,qMedicalNeedsExplanation:y.target.value}),placeholder:"Provide details..."})]})]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:[i.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.qStatusViolations,onChange:y=>j({...m,qStatusViolations:y.target.checked}),className:"w-4 h-4 mt-0.5 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Have you ever remained beyond the validity of your status, worked without authorization, or studied without authorization in Canada?"})]}),m.qStatusViolations&&i.jsxs("div",{className:"mt-3 ml-7 animate-in fade-in slide-in-from-top-1",children:[i.jsx(I,{children:"Please explain"}),i.jsx("textarea",{className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-sm text-sm focus:outline-none focus:border-black focus:ring-1 focus:ring-black min-h-[80px]",value:m.qStatusViolationsExplanation,onChange:y=>j({...m,qStatusViolationsExplanation:y.target.value}),placeholder:"Provide details..."})]})]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:[i.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.qVisaRefusal,onChange:y=>j({...m,qVisaRefusal:y.target.checked}),className:"w-4 h-4 mt-0.5 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Have you ever been refused a visa or permit, denied entry or ordered to leave Canada or any other country?"})]}),m.qVisaRefusal&&i.jsxs("div",{className:"mt-3 ml-7 animate-in fade-in slide-in-from-top-1",children:[i.jsx(I,{children:"Please explain"}),i.jsx("textarea",{className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-sm text-sm focus:outline-none focus:border-black focus:ring-1 focus:ring-black min-h-[80px]",value:m.qVisaRefusalExplanation,onChange:y=>j({...m,qVisaRefusalExplanation:y.target.value}),placeholder:"Provide details including country and date..."})]})]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:[i.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.qPreviousApplication,onChange:y=>j({...m,qPreviousApplication:y.target.checked}),className:"w-4 h-4 mt-0.5 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Have you previously applied to enter or remain in Canada?"})]}),m.qPreviousApplication&&i.jsxs("div",{className:"mt-3 ml-7 animate-in fade-in slide-in-from-top-1",children:[i.jsx(I,{children:"Provide details"}),i.jsx("textarea",{className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-sm text-sm focus:outline-none focus:border-black focus:ring-1 focus:ring-black min-h-[80px]",value:m.qPreviousApplicationDetails,onChange:y=>j({...m,qPreviousApplicationDetails:y.target.value}),placeholder:"Application type, date, and outcome..."})]})]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:[i.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.qCriminalOffence,onChange:y=>j({...m,qCriminalOffence:y.target.checked}),className:"w-4 h-4 mt-0.5 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Have you ever committed, been arrested for, charged with or convicted of any criminal offence in any country?"})]}),m.qCriminalOffence&&i.jsxs("div",{className:"mt-3 ml-7 animate-in fade-in slide-in-from-top-1",children:[i.jsx(I,{children:"Please explain"}),i.jsx("textarea",{className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-sm text-sm focus:outline-none focus:border-black focus:ring-1 focus:ring-black min-h-[80px]",value:m.qCriminalOffenceExplanation,onChange:y=>j({...m,qCriminalOffenceExplanation:y.target.value}),placeholder:"Provide details including offence, date, and outcome..."})]})]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:[i.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.qMilitaryService,onChange:y=>j({...m,qMilitaryService:y.target.checked}),className:"w-4 h-4 mt-0.5 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Have you ever served in any military, militia, civil defence unit, security organization, police force, or government agency (including as a volunteer)?"})]}),m.qMilitaryService&&i.jsxs("div",{className:"mt-3 ml-7 animate-in fade-in slide-in-from-top-1",children:[i.jsx(I,{children:"Provide details"}),i.jsx("textarea",{className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-sm text-sm focus:outline-none focus:border-black focus:ring-1 focus:ring-black min-h-[80px]",value:m.qMilitaryServiceDetails,onChange:y=>j({...m,qMilitaryServiceDetails:y.target.value}),placeholder:"Organization, dates of service, rank, duties..."})]})]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:[i.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.qViolentOrgs,onChange:y=>j({...m,qViolentOrgs:y.target.checked}),className:"w-4 h-4 mt-0.5 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Are you or have you ever been a member or associated with any political party, group, or organization that has used or advocated violence?"})]}),m.qViolentOrgs&&i.jsxs("div",{className:"mt-3 ml-7 animate-in fade-in slide-in-from-top-1",children:[i.jsx(I,{children:"Please explain"}),i.jsx("textarea",{className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-sm text-sm focus:outline-none focus:border-black focus:ring-1 focus:ring-black min-h-[80px]",value:m.qViolentOrgsExplanation,onChange:y=>j({...m,qViolentOrgsExplanation:y.target.value}),placeholder:"Provide details..."})]})]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:[i.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.qHrViolations,onChange:y=>j({...m,qHrViolations:y.target.checked}),className:"w-4 h-4 mt-0.5 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Have you ever witnessed or participated in the ill treatment of prisoners or civilians, looting, or desecration of religious buildings?"})]}),m.qHrViolations&&i.jsxs("div",{className:"mt-3 ml-7 animate-in fade-in slide-in-from-top-1",children:[i.jsx(I,{children:"Please explain"}),i.jsx("textarea",{className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-sm text-sm focus:outline-none focus:border-black focus:ring-1 focus:ring-black min-h-[80px]",value:m.qHrViolationsExplanation,onChange:y=>j({...m,qHrViolationsExplanation:y.target.value}),placeholder:"Provide details..."})]})]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:[i.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:m.qGovPositions,onChange:y=>j({...m,qGovPositions:y.target.checked}),className:"w-4 h-4 mt-0.5 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Have you ever held, or are you applying to hold, any government positions?"})]}),m.qGovPositions&&i.jsxs("div",{className:"mt-3 ml-7 animate-in fade-in slide-in-from-top-1",children:[i.jsx(I,{children:"Provide details"}),i.jsx("textarea",{className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-sm text-sm focus:outline-none focus:border-black focus:ring-1 focus:ring-black min-h-[80px]",value:m.qGovPositionsDetails,onChange:y=>j({...m,qGovPositionsDetails:y.target.value}),placeholder:"Position, organization, dates..."})]})]})]}),l==="immigration"&&i.jsxs("div",{className:"max-w-2xl bg-white p-8 rounded-xl border border-gray-200 shadow-sm space-y-8 animate-in fade-in slide-in-from-bottom-2",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-black text-white flex items-center justify-center text-xs",children:"1"}),"Status in Canada"]}),i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30",children:[i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer mb-4",children:[i.jsx("input",{type:"checkbox",checked:m.currentlyInCanada,onChange:y=>j({...m,currentlyInCanada:y.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-black focus:ring-black"}),i.jsx("span",{className:"text-sm text-gray-700",children:"I am currently in Canada"})]}),m.currentlyInCanada&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 animate-in fade-in slide-in-from-top-1",children:[i.jsxs("div",{children:[i.jsx(I,{children:"Date of Original Entry"}),i.jsx(Q,{type:"date",value:m.dateOfEntry,onChange:y=>j({...m,dateOfEntry:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Original Entry City"}),i.jsx(Q,{value:m.originalEntryCity,onChange:y=>j({...m,originalEntryCity:y.target.value}),placeholder:"e.g. Toronto"})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Original Entry Province"}),i.jsxs(Be,{value:m.originalEntryProvince,onChange:y=>j({...m,originalEntryProvince:y.target.value}),children:[i.jsx("option",{value:"",children:"Select Province..."}),i.jsx("option",{value:"AB",children:"Alberta"}),i.jsx("option",{value:"BC",children:"British Columbia"}),i.jsx("option",{value:"MB",children:"Manitoba"}),i.jsx("option",{value:"NB",children:"New Brunswick"}),i.jsx("option",{value:"NL",children:"Newfoundland and Labrador"}),i.jsx("option",{value:"NS",children:"Nova Scotia"}),i.jsx("option",{value:"NT",children:"Northwest Territories"}),i.jsx("option",{value:"NU",children:"Nunavut"}),i.jsx("option",{value:"ON",children:"Ontario"}),i.jsx("option",{value:"PE",children:"Prince Edward Island"}),i.jsx("option",{value:"QC",children:"Quebec"}),i.jsx("option",{value:"SK",children:"Saskatchewan"}),i.jsx("option",{value:"YT",children:"Yukon"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Current Status"}),i.jsxs(Be,{value:m.currentStatus,onChange:y=>j({...m,currentStatus:y.target.value}),children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"visitor",children:"Visitor"}),i.jsx("option",{value:"student",children:"Student (Study Permit)"}),i.jsx("option",{value:"worker",children:"Worker (Work Permit)"}),i.jsx("option",{value:"other",children:"Other"})]})]}),i.jsx("div",{className:"col-span-2 pt-3 border-t border-gray-100 mt-2",children:i.jsx("p",{className:"text-xs font-medium text-gray-500 mb-3",children:"MOST RECENT ENTRY (if different from original)"})}),i.jsxs("div",{children:[i.jsx(I,{children:"Most Recent Entry Date (Optional)"}),i.jsx(Q,{type:"date",value:m.mostRecentEntryDate,onChange:y=>j({...m,mostRecentEntryDate:y.target.value})})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Most Recent Entry City (Optional)"}),i.jsx(Q,{value:m.mostRecentEntryCity,onChange:y=>j({...m,mostRecentEntryCity:y.target.value}),placeholder:"e.g. Vancouver"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Most Recent Entry Province (Optional)"}),i.jsxs(Be,{value:m.mostRecentEntryProvince,onChange:y=>j({...m,mostRecentEntryProvince:y.target.value}),children:[i.jsx("option",{value:"",children:"Select Province..."}),i.jsx("option",{value:"AB",children:"Alberta"}),i.jsx("option",{value:"BC",children:"British Columbia"}),i.jsx("option",{value:"MB",children:"Manitoba"}),i.jsx("option",{value:"NB",children:"New Brunswick"}),i.jsx("option",{value:"NL",children:"Newfoundland and Labrador"}),i.jsx("option",{value:"NS",children:"Nova Scotia"}),i.jsx("option",{value:"NT",children:"Northwest Territories"}),i.jsx("option",{value:"NU",children:"Nunavut"}),i.jsx("option",{value:"ON",children:"Ontario"}),i.jsx("option",{value:"PE",children:"Prince Edward Island"}),i.jsx("option",{value:"QC",children:"Quebec"}),i.jsx("option",{value:"SK",children:"Saskatchewan"}),i.jsx("option",{value:"YT",children:"Yukon"})]})]}),i.jsx("div",{className:"col-span-2 pt-3 border-t border-gray-100 mt-2",children:i.jsx("p",{className:"text-xs font-medium text-gray-500 mb-3",children:"CURRENT STATUS DOCUMENT"})}),i.jsxs("div",{children:[i.jsx(I,{children:"Document Type"}),i.jsxs(Be,{value:m.permitDocType,onChange:y=>j({...m,permitDocType:y.target.value}),children:[i.jsx("option",{value:"",children:"Select..."}),i.jsx("option",{value:"study_permit",children:"Study Permit"}),i.jsx("option",{value:"work_permit",children:"Work Permit"}),i.jsx("option",{value:"visitor_record",children:"Visitor Record"}),i.jsx("option",{value:"trv",children:"TRV Stamp"}),i.jsx("option",{value:"other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Document Number"}),i.jsx(Q,{value:m.permitDocNumber,onChange:y=>j({...m,permitDocNumber:y.target.value}),placeholder:"e.g. U1234567"})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx(I,{children:"Expiry Date of Current Status"}),i.jsx(Q,{type:"date",value:m.permitExpiryDate,onChange:y=>j({...m,permitExpiryDate:y.target.value})})]})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center text-xs",children:"2"}),i.jsx("span",{className:"text-gray-400",children:"Travel History"}),i.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-0.5 rounded-full ml-2",children:"Phase 2"})]}),i.jsx("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50/30 text-center text-sm text-gray-500",children:"Travel history and previous visa applications will be available in a future update."})]})]})]})]}),i.jsxs("div",{className:"w-1/3 bg-white flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-gray-100",children:[i.jsx("h3",{className:"font-bold text-sm uppercase tracking-wide text-gray-500 mb-4",children:"Actions"}),i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-white border border-gray-200 rounded text-gray-600",children:i.jsx(cn,{size:20})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-sm",children:"IMM5710"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Work Permit Extension"})]})]}),i.jsx("span",{className:"text-[10px] bg-gray-200 text-gray-600 px-1.5 py-0.5 rounded",children:"PDF"})]}),i.jsxs("div",{className:"mb-4 text-xs text-gray-500 border-t border-gray-200 pt-3",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{children:"Linked job:"}),i.jsx("span",{className:"font-medium text-gray-900",children:"Spring 2025 Welders"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Status:"}),i.jsx(Hr,{status:"Draft"})]})]}),u==="idle"&&i.jsx(we,{onClick:q,className:"w-full",children:"Generate PDF"}),u==="processing"&&i.jsxs(we,{disabled:!0,className:"w-full bg-gray-100 text-gray-500 border border-gray-200 shadow-none",children:[i.jsx(fd,{size:16,className:"animate-spin"})," Generating..."]}),u==="success"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700 font-medium bg-green-50 p-3 rounded border border-green-100",children:[i.jsx(pn,{size:16})," Generation Successful"]}),i.jsx(we,{variant:"secondary",className:"w-full",icon:i.jsx(Bl,{size:16}),children:"Download Package"}),i.jsx("button",{onClick:()=>h("idle"),className:"text-xs text-gray-500 w-full text-center hover:underline",children:"Start Over"})]}),u==="error"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-2 text-sm text-red-700 font-medium bg-red-50 p-3 rounded border border-red-100",children:[i.jsx(_t,{size:16,className:"shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("div",{children:"Generation Failed"}),i.jsx("div",{className:"text-xs font-normal mt-1 text-red-600 opacity-90",children:"Missing field: Passport Number is required."})]})]}),i.jsx(we,{onClick:()=>h("idle"),variant:"white",className:"w-full",children:"Edit Data & Retry"})]}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 text-[10px] text-gray-400 text-center",children:"Representative: Default Org Rep (Jane Doe, RCIC #123456)"})]})]}),i.jsxs("div",{className:"flex-1 p-6 bg-gray-50/30 overflow-y-auto",children:[i.jsx("h3",{className:"font-bold text-xs uppercase tracking-wide text-gray-400 mb-3",children:"Validation Surface"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2",children:"Identity & Contact"}),i.jsxs("div",{className:"space-y-2",children:[!m.familyName||!m.givenNames?i.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-600 bg-red-50 border border-red-100 px-3 py-2 rounded",children:[i.jsx(_t,{size:12}),i.jsx("span",{children:"Missing name fields"})]}):i.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-700 bg-green-50 border border-green-100 px-3 py-2 rounded",children:[i.jsx(pn,{size:12}),i.jsx("span",{children:"Identity complete"})]}),!m.phone&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-50 border border-amber-100 px-3 py-2 rounded",children:[i.jsx(_t,{size:12}),i.jsx("span",{children:"Missing phone number (Warning)"})]}),!m.countryOfResidence&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-50 border border-amber-100 px-3 py-2 rounded",children:[i.jsx(_t,{size:12}),i.jsx("span",{children:"Missing country of residence"})]})]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2",children:"Passport & Travel Docs"}),i.jsx("div",{className:"space-y-2",children:m.passportNum?M()?i.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-50 border border-amber-100 px-3 py-2 rounded",children:[i.jsx(_t,{size:12}),i.jsx("span",{children:"Passport valid (Expires within 6mo)"})]}):i.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-700 bg-green-50 border border-green-100 px-3 py-2 rounded",children:[i.jsx(pn,{size:12}),i.jsx("span",{children:"Passport valid"})]}):i.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-50 border border-amber-100 px-3 py-2 rounded",children:[i.jsx(_t,{size:12}),i.jsx("span",{children:"Passport details incomplete (Blocker)"})]})})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2",children:"Family"}),i.jsx("div",{className:"space-y-2",children:m.spouseRelationType?i.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-700 bg-green-50 border border-green-100 px-3 py-2 rounded",children:[i.jsx(pn,{size:12}),i.jsx("span",{children:"Family info provided"})]}):i.jsxs("div",{className:"flex items-center gap-2 text-xs text-amber-600 bg-amber-50 border border-amber-100 px-3 py-2 rounded",children:[i.jsx(_t,{size:12}),i.jsx("span",{children:"Spouse/partner status not set"})]})})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase mb-2",children:"Application Readiness (IMM5710)"}),i.jsx("div",{className:"space-y-2",children:m.sex?i.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-700 bg-green-50 border border-green-100 px-3 py-2 rounded",children:[i.jsx(pn,{size:12}),i.jsx("span",{children:"Ready to generate IMM5710"})]}):i.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-600 bg-red-50 border border-red-100 px-3 py-2 rounded",children:[i.jsx(_t,{size:12}),i.jsx("span",{children:"Missing required field: Applicant Sex"})]})})]})]})]})]})]})]})},Xv=({status:a})=>{const s={missing:{bg:"bg-red-50 border-red-200",text:"text-red-700",icon:i.jsx(_t,{size:12}),label:"Missing"},locked:{bg:"bg-gray-100 border-gray-200",text:"text-gray-500",icon:i.jsx(e0,{size:12}),label:"Locked"},uploaded:{bg:"bg-blue-50 border-blue-200",text:"text-blue-700",icon:i.jsx(Ks,{size:12}),label:"Uploaded"},in_review:{bg:"bg-yellow-50 border-yellow-200",text:"text-yellow-700",icon:i.jsx(Xg,{size:12}),label:"In Review"},verified:{bg:"bg-green-50 border-green-200",text:"text-green-700",icon:i.jsx(pn,{size:12}),label:"Verified"},rejected:{bg:"bg-red-100 border-red-300",text:"text-red-800",icon:i.jsx(gd,{size:12}),label:"Rejected"}}[a];return i.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium border ${s.bg} ${s.text}`,children:[s.icon," ",s.label]})},ZE=({slot:a,isSelected:n,onSelect:s,onUpload:l,isUploading:c})=>{const u=Eb.useRef(null),h=g=>{var p;g.stopPropagation(),a.status!=="locked"&&!c&&((p=u.current)==null||p.click())},m=g=>{var x;const p=(x=g.target.files)==null?void 0:x[0];p&&l(p)};return i.jsxs("div",{onClick:s,className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-all ${n?"bg-black text-white":a.status==="locked"?"bg-gray-50 text-gray-400 cursor-not-allowed":"hover:bg-gray-50"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx(cn,{size:16,className:n?"text-white":"text-gray-400"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:`text-sm font-medium truncate ${n?"text-white":""}`,children:a.label}),i.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[i.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${a.required?n?"bg-white/20 text-white":"bg-red-100 text-red-700":n?"bg-white/10 text-white/70":"bg-gray-100 text-gray-500"}`,children:a.required?"Required":"Optional"}),i.jsx("span",{className:`text-[10px] ${n?"text-white/70":"text-gray-400"}`,children:a.role})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[!n&&i.jsx(Xv,{status:a.status}),a.status!=="locked"&&i.jsxs(i.Fragment,{children:[i.jsx("input",{ref:u,type:"file",className:"hidden",onChange:m,accept:".pdf,.jpg,.jpeg,.png"}),i.jsx("button",{onClick:h,disabled:c,className:`p-1.5 rounded-md transition-colors ${n?"hover:bg-white/10 text-white":"hover:bg-gray-100 text-gray-500"}`,children:c?i.jsx(n0,{size:14,className:"animate-spin"}):i.jsx(Ks,{size:14})})]})]})]})},GE=({group:a,selectedSlotId:n,onSelectSlot:s,onUpload:l,uploadingSlotId:c})=>{const[u,h]=Y.useState(!0),m=a.slots.filter(p=>p.status==="verified").length,g=a.slots.filter(p=>p.required&&p.status!=="locked").length;return i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[i.jsxs("button",{onClick:()=>h(!u),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h3",{className:"font-bold text-sm",children:a.title}),i.jsxs("span",{className:"text-xs text-gray-400",children:[m,"/",g," verified"]})]}),i.jsx(Vb,{size:16,className:`text-gray-400 transition-transform ${u?"":"-rotate-90"}`})]}),u&&i.jsx("div",{className:"px-4 pb-4 space-y-1",children:a.slots.map(p=>i.jsx(ZE,{slot:p,isSelected:n===p.id,onSelect:()=>s(p.id),onUpload:x=>void l(p.id,x),isUploading:c===p.id},p.id))})]})},VE=({slot:a,onClose:n})=>{var s;return i.jsxs("div",{className:"absolute bottom-4 right-4 w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 animate-in slide-in-from-bottom-5 fade-in duration-300",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-100 bg-gray-50 rounded-t-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pn,{size:16,className:"text-green-500"}),i.jsx("span",{className:"text-sm font-bold text-gray-800",children:"Upload Complete"})]}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-200 p-1 rounded-full transition-colors",children:i.jsx(gd,{size:14})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("div",{className:"aspect-[4/3] bg-gray-100 rounded border border-gray-200 mb-3 flex items-center justify-center overflow-hidden relative",children:a.previewUrl?(s=a.mimeType)!=null&&s.startsWith("image/")?i.jsx("img",{src:a.previewUrl,alt:"Preview",className:"w-full h-full object-contain"}):a.mimeType==="application/pdf"?i.jsx("iframe",{src:`${a.previewUrl}#toolbar=0&navpanes=0&scrollbar=0`,className:"w-full h-full",title:"PDF Preview"}):i.jsx(cn,{size:48,className:"text-gray-300"}):i.jsx("div",{className:"animate-pulse bg-gray-200 w-full h-full"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h4",{className:"text-sm font-bold text-gray-900 truncate",children:a.label}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:a.fileName})]})]})]})},YE=({slot:a})=>{var n;return a?i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200",children:[i.jsx("h3",{className:"font-bold text-sm",children:a.label}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(Xv,{status:a.status}),a.required&&i.jsx("span",{className:"text-[10px] bg-red-100 text-red-700 px-1.5 py-0.5 rounded",children:"Required"})]})]}),i.jsx("div",{className:"flex-1 p-4 bg-gray-50 overflow-auto",children:a.status==="locked"?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-gray-400",children:[i.jsx(e0,{size:32,className:"mx-auto mb-2"}),i.jsx("p",{className:"text-sm font-medium",children:"Locked"}),i.jsx("p",{className:"text-xs mt-1",children:a.lockMessage})]})}):a.status==="missing"?i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center mx-auto mb-3",children:i.jsx(Ks,{size:24,className:"text-gray-400"})}),i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"No file uploaded"}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Upload or link a document"}),i.jsxs("div",{className:"flex gap-2 justify-center mt-4",children:[i.jsx(we,{variant:"primary",size:"sm",icon:i.jsx(Ks,{size:14}),children:"Upload"}),i.jsx(we,{variant:"white",size:"sm",icon:i.jsx(A_,{size:14}),children:"Link Existing"})]})]})}):i.jsx("div",{className:"h-full flex flex-col items-center justify-center bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.previewUrl?(n=a.mimeType)!=null&&n.startsWith("image/")?i.jsx("img",{src:a.previewUrl,alt:"Document Preview",className:"max-w-full max-h-full object-contain"}):a.mimeType==="application/pdf"?i.jsx("iframe",{src:`${a.previewUrl}#toolbar=0&navpanes=0`,className:"w-full h-full border-none",title:"PDF Preview"}):i.jsxs("div",{className:"text-center p-8",children:[i.jsx(cn,{size:48,className:"mx-auto mb-3 text-gray-300"}),i.jsx("p",{className:"text-sm font-medium",children:a.fileName||"document.file"}),i.jsx("p",{className:"text-xs text-gray-400 mt-1 mb-4",children:a.fileSize?`${(a.fileSize/1024).toFixed(1)} KB`:"Size unknown"}),i.jsxs("a",{href:a.previewUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 rounded-md text-sm font-medium transition-colors",children:[i.jsx(Bl,{size:14})," Download File"]})]}):i.jsxs("div",{className:"text-center p-8",children:[i.jsx(cn,{size:48,className:"mx-auto mb-3 text-gray-300"}),i.jsx("p",{className:"text-sm font-medium",children:a.fileName||"document.pdf"}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:a.fileSize?`${(a.fileSize/1024).toFixed(1)} KB`:"Size unknown"})]})})}),a.status!=="locked"&&a.status!=="missing"&&i.jsxs("div",{className:"p-4 border-t border-gray-200 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Uploaded by"}),i.jsx("p",{className:"font-medium",children:a.uploadedBy||"Unknown"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Uploaded at"}),i.jsx("p",{className:"font-medium",children:a.uploadedAt?new Date(a.uploadedAt).toLocaleDateString():"Unknown"})]})]}),a.status==="rejected"&&a.rejectionReason&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[i.jsx("p",{className:"text-xs font-medium text-red-800",children:"Rejection Reason:"}),i.jsx("p",{className:"text-xs text-red-700 mt-1",children:a.rejectionReason})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(we,{variant:"white",size:"sm",icon:i.jsx(n0,{size:14}),className:"flex-1",children:"Replace"}),i.jsx(we,{variant:"white",size:"sm",icon:i.jsx(a0,{size:14}),className:"text-red-600",children:"Remove"})]})]}),i.jsxs("div",{className:"p-4 border-t border-gray-200",children:[i.jsx("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-2",children:"Internal Notes"}),i.jsx("textarea",{className:"w-full text-xs p-2 border border-gray-200 rounded-lg resize-none",rows:3,placeholder:"Add notes about this document..."})]})]}):i.jsx("div",{className:"h-full flex items-center justify-center text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(o_,{size:40,className:"mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Select a document slot to preview"})]})})},KE=({caseTitle:a,applicationType:n})=>{const{computedDocuments:s,saveDocument:l,documentsLoading:c}=Md(),[u,h]=Y.useState(null),[m,g]=Y.useState(null),[p,x]=Y.useState(null),_=s.flatMap(q=>q.slots).find(q=>q.id===u)||null,w=s.flatMap(q=>q.slots).find(q=>q.id===p)||null,j=s.flatMap(q=>q.slots).filter(q=>q.required&&q.status!=="locked"),A=j.filter(q=>q.status==="verified"),O=j.length>0?A.length/j.length*100:0,U=async(q,M)=>{g(q);try{await l(q,M),x(q),h(q),setTimeout(()=>{x(V=>V===q?null:V)},5e3)}catch(V){console.error("Failed to save document",V)}finally{g(null)}};return i.jsxs("div",{className:"h-full flex flex-col bg-[#F9F9F7] relative",children:[w&&i.jsx(VE,{slot:w,onClose:()=>x(null)}),i.jsxs("header",{className:"bg-white border-b border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-lg font-bold",children:["Documents for: ",a]}),i.jsx("p",{className:"text-sm text-gray-500",children:n})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(we,{variant:"white",size:"sm",icon:i.jsx(Bl,{size:14}),children:"Download Draft (ZIP)"}),i.jsx(we,{variant:"primary",size:"sm",icon:i.jsx(Bl,{size:14}),disabled:O<100,children:"Download Submission Package"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${O}%`}})}),i.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[A.length," / ",j.length," Verified"]})]})]}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[i.jsxs("div",{className:"w-2/3 overflow-y-auto p-6 space-y-4 custom-scrollbar",children:[s.map(q=>i.jsx(GE,{group:q,selectedSlotId:u,onSelectSlot:h,onUpload:U,uploadingSlotId:m},q.id)),c&&s.length===0&&i.jsx("div",{className:"text-center text-sm text-gray-500 py-8",children:"Loading documents..."})]}),i.jsx("div",{className:"w-1/3 bg-white border-l border-gray-200 overflow-hidden",children:i.jsx(YE,{slot:_})})]})]})},FE=({onNavigate:a,onCreateNew:n})=>{var j;const{caseData:s,computedDocuments:l,formData:c}=Md();if(!s)return null;const u=((j=s==null?void 0:s.raw)==null?void 0:j.org_id)||"",m=l.flatMap(A=>A.slots).filter(A=>A.required&&A.status!=="locked"),g=m.filter(A=>A.status==="verified"),p=m.filter(A=>A.status==="uploaded"),x=m.length>0?Math.round((g.length+p.length)/m.length*100):0,_=[c.email,c.phone,c.passportNum,c.currentActivity,c.spouseRelationType],w=_.filter(A=>A&&A!=="").length,S=Math.round(w/_.length*100);return i.jsxs("div",{className:"p-8 max-w-5xl mx-auto space-y-8",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("h3",{className:"font-bold text-gray-900",children:"All Cases"})}),i.jsx(Kv,{onOpenCase:A=>{},onCreateNew:n||(()=>{}),orgId:u})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-500",children:i.jsx(s0,{size:24})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s.client.name}),i.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(md,{size:14})," ",s.client.email]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(dd,{size:14})," ",s.appType]})]})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-2",children:[i.jsx(Hr,{status:s.status}),i.jsxs("span",{className:"text-xs text-gray-400",children:["ID: #",s.id]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(JE,{className:"text-blue-500"})," Data Collection"]}),i.jsxs("span",{className:"text-xl font-bold text-blue-600",children:[S,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 mb-4",children:i.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-1000",style:{width:`${S}%`}})}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:S<100?"Client data forms are incomplete.":"All key data fields provided."}),i.jsx(we,{variant:"secondary",className:"w-full",onClick:()=>a("data"),children:"Go to Workspace"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[i.jsx(cn,{className:"text-purple-500",size:20})," Documents"]}),i.jsxs("span",{className:"text-xl font-bold text-purple-600",children:[x,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 mb-4",children:i.jsx("div",{className:"bg-purple-500 h-2 rounded-full transition-all duration-1000",style:{width:`${x}%`}})}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-xs mb-4",children:[i.jsxs("div",{className:"bg-green-50 p-2 rounded text-green-700",children:[i.jsx("strong",{children:g.length})," Verified"]}),i.jsxs("div",{className:"bg-blue-50 p-2 rounded text-blue-700",children:[i.jsx("strong",{children:p.length})," Review"]}),i.jsxs("div",{className:"bg-red-50 p-2 rounded text-red-700",children:[i.jsx("strong",{children:m.length-g.length-p.length})," Missing"]})]}),i.jsx(we,{variant:"secondary",className:"w-full",onClick:()=>a("documents"),children:"Manage Documents"})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[i.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Recommended Actions"}),i.jsxs("div",{className:"space-y-3",children:[S<100&&i.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-100 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(_t,{size:18,className:"text-blue-600"}),i.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Complete missing data fields in Workspace"})]}),i.jsx("button",{onClick:()=>a("data"),className:"p-1 hover:bg-blue-100 rounded text-blue-600",children:i.jsx(Pu,{size:16})})]}),m.length>g.length+p.length&&i.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 border border-purple-100 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(cn,{size:18,className:"text-purple-600"}),i.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Upload missing required documents"})]}),i.jsx("button",{onClick:()=>a("documents"),className:"p-1 hover:bg-purple-100 rounded text-purple-600",children:i.jsx(Pu,{size:16})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-100 rounded-lg opacity-60",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pn,{size:18,className:"text-gray-400"}),i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Initial client intake completed"})]}),i.jsx("span",{className:"text-xs text-gray-400",children:"Done"})]})]})]})]})},JE=({className:a})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:[i.jsx("ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}),i.jsx("path",{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}),i.jsx("path",{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"})]}),QE=[{id:"overview",label:"Overview",icon:N_},{id:"data",label:"Data",icon:t_},{id:"documents",label:"Documents",icon:cn},{id:"forms",label:"Forms",icon:Qg},{id:"activity",label:"Activity",icon:Fg}],XE=({caseData:a,onBack:n,onCreateNew:s,onEdit:l})=>{const[c,u]=Y.useState("data");return i.jsx(Jv,{caseData:a,children:i.jsxs("div",{className:"h-full flex flex-col bg-[#F9F9F7]",children:[i.jsxs("header",{className:"bg-white border-b border-gray-200 shrink-0",children:[i.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:n,className:"p-1.5 hover:bg-gray-100 rounded-md text-gray-500 transition-colors",children:i.jsx(Jg,{size:18})}),i.jsx("div",{className:"h-6 w-px bg-gray-200"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-gray-900",children:a.client.name}),i.jsx("p",{className:"text-sm text-gray-500",children:a.appType})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[l&&i.jsx("button",{onClick:l,className:"px-3 py-1.5 bg-black text-white text-sm font-medium rounded-md hover:bg-gray-800 transition-colors",children:"Edit Case"}),i.jsxs("span",{className:"text-xs font-mono text-gray-400",children:["Case #LM-",Date.now().toString().slice(-6)]}),i.jsx(Hr,{status:a.status})]})]}),i.jsx("div",{className:"px-6 flex gap-1",children:QE.map(h=>{const m=c===h.id,g=h.icon;return i.jsxs("button",{onClick:()=>u(h.id),className:`flex items-center gap-2 px-4 py-2.5 text-sm font-medium rounded-t-lg transition-colors ${m?"bg-[#F9F9F7] text-black border-t border-x border-gray-200":"text-gray-500 hover:text-gray-800 hover:bg-gray-50"}`,children:[i.jsx(g,{size:16}),h.label]},h.id)})})]}),i.jsxs("div",{className:"flex-1 overflow-hidden",children:[c==="overview"&&i.jsx(FE,{onNavigate:h=>u(h),onCreateNew:s}),c==="data"&&i.jsx(Qv,{caseData:a,onBack:()=>{},headless:!0}),c==="documents"&&i.jsx(KE,{caseTitle:a.client.name,applicationType:a.appType}),c==="forms"&&i.jsx("div",{className:"h-full flex items-center justify-center text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Qg,{size:48,className:"mx-auto mb-3 opacity-50"}),i.jsx("p",{className:"text-lg font-medium",children:"Generated Forms"}),i.jsx("p",{className:"text-sm",children:"IMM1295, IMM5707, etc. coming soon..."})]})}),c==="activity"&&i.jsx("div",{className:"h-full flex items-center justify-center text-gray-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Fg,{size:48,className:"mx-auto mb-3 opacity-50"}),i.jsx("p",{className:"text-lg font-medium",children:"Activity Log"}),i.jsx("p",{className:"text-sm",children:"Audit trail coming soon..."})]})})]})]})})};async function WE(a,n){const{data:s,error:l}=await et.from("employers").insert({org_id:a,company_name:n.companyName,business_number:n.businessNumber,address:n.address}).select().single();if(l)throw l;return s}async function eA(a){const{data:n,error:s}=await et.from("employers").select("*").eq("org_id",a);if(s)throw s;return n||[]}const tA=({isOpen:a,onClose:n,onSuccess:s,orgId:l})=>{const[c,u]=Y.useState(!1),[h,m]=Y.useState({companyName:"",businessNumber:"",city:"",province:"",country:"Canada"}),g=async p=>{p.preventDefault(),u(!0);try{const x=await WE(l,{companyName:h.companyName,businessNumber:h.businessNumber,address:{city:h.city,province:h.province,country:h.country}});s(x),n()}catch(x){console.error("Failed to create employer:",x)}finally{u(!1)}};return i.jsx(yd,{isOpen:a,onClose:n,title:"Add New Employer",maxWidth:"max-w-md",children:i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(I,{children:"Company Name"}),i.jsx(Q,{value:h.companyName,onChange:p=>m({...h,companyName:p.target.value}),placeholder:"e.g. Acme Construction Ltd.",required:!0,autoFocus:!0})]}),i.jsxs("div",{children:[i.jsx(I,{children:"CRA Business Number (BN9)"}),i.jsx(Q,{value:h.businessNumber,onChange:p=>m({...h,businessNumber:p.target.value}),placeholder:"123456789"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(I,{children:"City"}),i.jsx(Q,{value:h.city,onChange:p=>m({...h,city:p.target.value}),placeholder:"Calgary"})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Province"}),i.jsx(Q,{value:h.province,onChange:p=>m({...h,province:p.target.value}),placeholder:"AB",maxLength:2})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(we,{variant:"white",onClick:n,type:"button",children:"Cancel"}),i.jsx(we,{variant:"primary",type:"submit",disabled:c||!h.companyName,icon:i.jsx(hd,{size:16}),children:c?"Creating...":"Create Employer"})]})]})})};async function nA(a,n,s){const{data:l,error:c}=await et.from("cohorts").insert({org_id:a,employer_id:n,name:s.name,job_details:s.jobDetails,status:"draft",risk_level:"none"}).select().single();if(c)throw c;return l}const aA=({isOpen:a,onClose:n,onSuccess:s,orgId:l})=>{const[c,u]=Y.useState(!1),[h,m]=Y.useState([]),[g,p]=Y.useState({employerId:"",name:"",jobTitle:"",nocCode:"",wageHourly:"",city:"",province:"",targetWorkers:"1"});Y.useEffect(()=>{a&&eA(l).then(_=>{m(_.map(w=>({id:w.id,companyName:w.company_name||w.companyName})))}).catch(console.error)},[a,l]);const x=async _=>{_.preventDefault(),u(!0);try{const w=await nA(l,g.employerId,{name:g.name,jobDetails:{jobTitle:g.jobTitle,nocCode:g.nocCode,wageHourly:parseFloat(g.wageHourly)||0,locationCity:g.city,locationProvince:g.province,targetWorkers:parseInt(g.targetWorkers)||1,wageCurrency:"CAD"}});s(w),n()}catch(w){console.error("Failed to create cohort:",w)}finally{u(!1)}};return i.jsx(yd,{isOpen:a,onClose:n,title:"Create New Job Cohort",children:i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(I,{children:"Employer"}),i.jsx("div",{className:"relative",children:i.jsxs("select",{className:"w-full h-10 px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[var(--accent)] focus:border-transparent appearance-none",value:g.employerId,onChange:_=>p({...g,employerId:_.target.value}),required:!0,children:[i.jsx("option",{value:"",children:"Select an employer..."}),h.map(_=>i.jsx("option",{value:_.id,children:_.companyName},_.id))]})}),h.length===0&&i.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"No employers found. Please add an employer first."})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Cohort Name (Internal)"}),i.jsx(Q,{value:g.name,onChange:_=>p({...g,name:_.target.value}),placeholder:"e.g. Spring 2025 Welders - Calgary",required:!0}),i.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"A descriptive name for this group of applications."})]}),i.jsxs("div",{className:"border-t border-gray-100 pt-4 mt-4",children:[i.jsxs("h4",{className:"flex items-center gap-2 text-sm font-bold text-gray-700 mb-3",children:[i.jsx(dd,{size:16})," Job Details"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx(I,{children:"Job Title"}),i.jsx(Q,{value:g.jobTitle,onChange:_=>p({...g,jobTitle:_.target.value}),placeholder:"e.g. Welder",required:!0})]}),i.jsxs("div",{children:[i.jsx(I,{children:"NOC Code"}),i.jsx(Q,{value:g.nocCode,onChange:_=>p({...g,nocCode:_.target.value}),placeholder:"7237",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{className:"col-span-1",children:[i.jsx(I,{children:"Wage ($/hr)"}),i.jsx(Q,{type:"number",step:"0.01",value:g.wageHourly,onChange:_=>p({...g,wageHourly:_.target.value}),placeholder:"28.50",required:!0})]}),i.jsxs("div",{children:[i.jsx(I,{children:"City"}),i.jsx(Q,{value:g.city,onChange:_=>p({...g,city:_.target.value}),placeholder:"Calgary",required:!0})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Prov"}),i.jsx(Q,{value:g.province,onChange:_=>p({...g,province:_.target.value}),placeholder:"AB",maxLength:2,required:!0})]})]}),i.jsxs("div",{children:[i.jsx(I,{children:"Target # of Workers"}),i.jsx(Q,{type:"number",value:g.targetWorkers,onChange:_=>p({...g,targetWorkers:_.target.value}),min:"1",required:!0})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-100",children:[i.jsx(we,{variant:"white",onClick:n,type:"button",children:"Cancel"}),i.jsx(we,{variant:"primary",type:"submit",disabled:c||!g.employerId||!g.name,icon:i.jsx(Ys,{size:16}),children:c?"Creating...":"Create Cohort"})]})]})})};async function rA(a){const{count:n}=await et.from("cohorts").select("*",{count:"exact",head:!0}).in("status",["draft","ready","submitted"]).eq("org_id",a),{count:s}=await et.from("applications").select("*",{count:"exact",head:!0}).in("status",["draft","generated"]).eq("org_id",a);return{activeLmiasCount:n||0,lmiasDeltaWeek:0,pendingWorkPermitsCount:s||0,pendingWpAvgWaitDays:0,expiringSoonCount:0,placedYtdCount:0,placedYtdDeltaPercent:0}}async function sA(a){const{data:n,error:s}=await et.from("cohorts").select("*").neq("status","closed").eq("org_id",a);if(s)throw s;return(n||[]).map(l=>{var c,u,h;return{id:l.id,name:l.name,locationCity:(c=l.job_details)==null?void 0:c.locationCity,locationProvince:(u=l.job_details)==null?void 0:u.locationProvince,workersCurrent:0,jobDetails:l.job_details,workers:`0/${((h=l.job_details)==null?void 0:h.targetWorkers)||0}`,status:l.status,lmia:lA(l.status),riskLevel:l.risk_level,wp:"Not Started",next:"View Details"}})}async function iA(a){const{data:n,error:s}=await et.from("compliance_alerts").select("*").eq("org_id",a).eq("is_resolved",!1).limit(5);if(s)throw s;return n||[]}function lA(a){return a?a.charAt(0).toUpperCase()+a.slice(1):""}const oA=()=>{const a=new Date().getHours();return a<12?"Morning":a<18?"Afternoon":"Evening"},zr=({icon:a,label:n,active:s=!1,badge:l,onClick:c})=>i.jsxs("button",{onClick:c,className:`w-full flex items-center gap-3 px-3 py-2 font-medium rounded-md text-sm transition-colors ${s?"bg-gray-100 text-black":"text-gray-600 hover:bg-gray-50 hover:text-black"}`,children:[i.jsx(a,{size:18}),n,l&&i.jsx("span",{className:"ml-auto bg-red-100 text-red-600 text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:l})]}),cA=()=>i.jsxs("div",{className:"bg-white p-5 rounded-lg border border-gray-200 shadow-sm animate-pulse",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-md"}),i.jsx("div",{className:"w-16 h-5 bg-gray-200 rounded"})]}),i.jsx("div",{className:"w-16 h-8 bg-gray-200 rounded mb-2"}),i.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded"})]}),zl=({stat:a,isLoading:n,error:s,onRetry:l,onClick:c})=>n?i.jsx(cA,{}):s?i.jsxs("div",{className:"bg-white p-5 rounded-lg border border-red-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-2",children:[i.jsx(_t,{size:16}),i.jsx("span",{className:"text-sm font-medium",children:"Failed to load"})]}),i.jsx("button",{onClick:l,className:"text-xs text-blue-600 hover:underline",children:"Retry"})]}):i.jsxs("div",{onClick:c,className:`bg-white p-5 rounded-lg border shadow-sm transition-all hover:-translate-y-1 ${c?"cursor-pointer":""} ${a.alert?"border-red-200 ring-1 ring-red-100":"border-gray-200"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("div",{className:`p-2 rounded-md ${a.alert?"bg-red-50 text-red-600":"bg-gray-50 text-gray-600"}`,children:i.jsx(a.icon,{size:20})}),a.trendUp!==null&&i.jsx("span",{className:`text-[11px] font-bold px-1.5 py-0.5 rounded flex items-center gap-1 ${a.trendUp?"text-green-700 bg-green-50":"text-red-700 bg-red-50"}`,children:a.trend}),a.trendUp===null&&i.jsx("span",{className:"text-[11px] font-medium text-gray-400",children:a.trend})]}),i.jsx("div",{className:"text-3xl font-bold tracking-tight mb-1",children:a.value}),i.jsx("div",{className:"text-sm text-gray-500 font-medium",children:a.label})]}),uA=()=>i.jsxs("tr",{className:"animate-pulse",children:[i.jsxs("td",{className:"px-5 py-4",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-40"}),i.jsx("div",{className:"h-3 bg-gray-200 rounded w-24 mt-2"})]}),i.jsx("td",{className:"px-5 py-4",children:i.jsx("div",{className:"h-2 bg-gray-200 rounded w-16"})}),i.jsx("td",{className:"px-5 py-4",children:i.jsx("div",{className:"h-5 bg-gray-200 rounded w-16"})}),i.jsx("td",{className:"px-5 py-4",children:i.jsx("div",{className:"h-4 bg-gray-200 rounded w-12"})}),i.jsx("td",{className:"px-5 py-4 text-right",children:i.jsx("div",{className:"h-4 bg-gray-200 rounded w-20 ml-auto"})})]}),dA=({cohorts:a,isLoading:n,onRowClick:s,onActionClick:l,onCreateNew:c})=>{const[u,h]=Y.useState(""),[m,g]=Y.useState(!1),p=Y.useMemo(()=>{if(!u.trim())return a;const _=u.toLowerCase();return a.filter(w=>w.name.toLowerCase().includes(_)||w.location&&w.location.toLowerCase().includes(_))},[a,u]),x=Y.useMemo(()=>{const _={High:0,Medium:1,Low:2,None:3},w={Ready:0,Submitted:1,Draft:2,Approved:3,"Action Required":1};return[...p].sort((S,j)=>{const A=(_[S.risk]??4)-(_[j.risk]??4);return A!==0?A:(w[S.lmia]??5)-(w[j.lmia]??5)})},[p]);return i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden flex flex-col h-full",children:[i.jsxs("div",{className:"px-5 py-4 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:[i.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[i.jsx(Ys,{size:18,className:"text-gray-400"})," Active Cohorts"]}),i.jsxs("div",{className:"flex gap-2 items-center",children:[m&&i.jsxs("div",{className:"flex items-center gap-1 bg-white border border-gray-200 rounded-md px-2",children:[i.jsx(Dl,{size:14,className:"text-gray-400"}),i.jsx("input",{type:"text",value:u,onChange:_=>h(_.target.value),placeholder:"Search cohorts...",className:"text-sm py-1 w-40 focus:outline-none",autoFocus:!0}),i.jsx("button",{onClick:()=>{g(!1),h("")},className:"text-gray-400 hover:text-gray-600",children:i.jsx(gd,{size:14})})]}),!m&&i.jsx("button",{onClick:()=>g(!0),className:"p-1.5 hover:bg-gray-200 rounded text-gray-500",children:i.jsx(Dl,{size:16})}),i.jsx("button",{className:"p-1.5 hover:bg-gray-200 rounded text-gray-500",children:i.jsx(m_,{size:16})})]})]}),i.jsx("div",{className:"overflow-x-auto flex-1",children:n?i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50 text-xs text-gray-500 uppercase tracking-wider border-b border-gray-200 font-medium",children:[i.jsx("th",{className:"px-5 py-3 font-medium",children:"Cohort / Employer"}),i.jsx("th",{className:"px-5 py-3 font-medium",children:"Workers"}),i.jsx("th",{className:"px-5 py-3 font-medium",children:"Status"}),i.jsx("th",{className:"px-5 py-3 font-medium",children:"Risk"}),i.jsx("th",{className:"px-5 py-3 font-medium text-right",children:"Action"})]})}),i.jsx("tbody",{children:[1,2,3].map(_=>i.jsx(uA,{},_))})]}):x.length===0?i.jsx("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:u?i.jsxs(i.Fragment,{children:[i.jsx(Dl,{size:32,className:"text-gray-300 mb-3"}),i.jsx("p",{className:"text-gray-500 text-sm",children:"No cohorts match your search."})]}):i.jsxs(i.Fragment,{children:[i.jsx(Ys,{size:32,className:"text-gray-300 mb-3"}),i.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"No cohorts yet. Create your first cohort to get started."}),i.jsx(we,{variant:"primary",size:"sm",icon:i.jsx(Ll,{size:14}),onClick:c,children:"Create your first cohort"})]})}):i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50 text-xs text-gray-500 uppercase tracking-wider border-b border-gray-200 font-medium",children:[i.jsx("th",{className:"px-5 py-3 font-medium",children:"Cohort / Employer"}),i.jsx("th",{className:"px-5 py-3 font-medium",children:"Workers"}),i.jsx("th",{className:"px-5 py-3 font-medium",children:"Status"}),i.jsx("th",{className:"px-5 py-3 font-medium",children:"Risk"}),i.jsx("th",{className:"px-5 py-3 font-medium text-right",children:"Action"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:x.map(_=>{var w;return i.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors group cursor-pointer",onClick:()=>s==null?void 0:s(_.id),children:[i.jsxs("td",{className:"px-5 py-4",children:[i.jsx("div",{className:"font-bold text-gray-900",children:_.name}),i.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[i.jsx(hd,{size:10})," ",_.location]})]}),i.jsx("td",{className:"px-5 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-16 h-1.5 bg-gray-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-black rounded-full",style:{width:"10%"}})}),i.jsxs("span",{className:"font-mono text-xs text-gray-600",children:[_.workersCurrent||0,"/",((w=_.jobDetails)==null?void 0:w.targetWorkers)||0]})]})}),i.jsx("td",{className:"px-5 py-4",children:i.jsxs("div",{className:"flex flex-col gap-1 items-start",children:[i.jsx(Hr,{status:_.status}),i.jsx("span",{className:"text-[10px] text-gray-400",children:"WP: -"})]})}),i.jsxs("td",{className:"px-5 py-4",children:[_.riskLevel==="high"&&i.jsxs("span",{className:"text-red-600 text-xs font-bold flex items-center gap-1",children:[i.jsx(_t,{size:12})," High"]}),_.riskLevel==="medium"&&i.jsxs("span",{className:"text-amber-600 text-xs font-bold flex items-center gap-1",children:[i.jsx(r0,{size:12})," Med"]}),_.riskLevel==="low"&&i.jsx("span",{className:"text-gray-400 text-xs flex items-center gap-1",children:"Low"}),_.riskLevel==="none"&&i.jsx("span",{className:"text-gray-300 text-xs flex items-center gap-1",children:"--"})]}),i.jsx("td",{className:"px-5 py-4 text-right",children:i.jsx("button",{className:"text-xs font-medium text-blue-600 hover:text-blue-800 hover:underline",onClick:S=>{S.stopPropagation(),l==null||l(_)},children:"View"})})]},_.id)})})]})}),x.length>0&&i.jsx("div",{className:"p-3 border-t border-gray-100 text-center",children:i.jsx("button",{className:"text-xs font-medium text-gray-500 hover:text-black transition-colors",children:"View All Cohorts"})})]})},hA=({alerts:a,isLoading:n,onAlertClick:s})=>{const c=Y.useMemo(()=>{const u={critical:0,warning:1,info:2};return[...a].sort((h,m)=>(u[h.severity]??3)-(u[m.severity]??3))},[a]).slice(0,5);return i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-5",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsxs("h3",{className:"font-bold text-gray-800 flex items-center gap-2",children:[i.jsx(pd,{size:18,className:"text-[var(--accent)]"})," Compliance Radar"]})}),n?i.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>i.jsxs("div",{className:"animate-pulse flex gap-3 p-3 rounded-md bg-gray-50",children:[i.jsx("div",{className:"w-2 h-2 bg-gray-200 rounded-full mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"h-3 bg-gray-200 rounded w-24 mb-2"}),i.jsx("div",{className:"h-2 bg-gray-200 rounded w-32"})]})]},u))}):a.length===0?i.jsxs("div",{className:"flex flex-col items-center py-8 text-center",children:[i.jsx(pn,{size:32,className:"text-green-500 mb-3"}),i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"No active compliance alerts."}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"You're in the clear for now."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"space-y-3",children:c.map(u=>i.jsxs("div",{className:"flex gap-3 p-3 rounded-md bg-gray-50 border border-gray-100 hover:border-gray-300 transition-colors cursor-pointer group",onClick:()=>s==null?void 0:s(u),children:[i.jsx("div",{className:`mt-0.5 min-w-[6px] w-[6px] h-[6px] rounded-full ${u.severity==="critical"?"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.4)]":u.severity==="warning"?"bg-amber-500":"bg-blue-400"}`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-xs font-bold text-gray-900 group-hover:text-[var(--accent)] transition-colors",children:u.title||u.type}),i.jsx("div",{className:"text-xs text-gray-500 mt-0.5 leading-snug truncate",children:u.message}),i.jsx("div",{className:"text-[10px] text-gray-400 mt-2 font-mono",children:u.createdAt?new Date(u.createdAt).toLocaleTimeString():""})]}),i.jsx(Pu,{size:14,className:"text-gray-300 ml-auto self-center group-hover:translate-x-1 transition-transform flex-shrink-0"})]},u.id))}),a.length>5&&i.jsx("button",{className:"w-full mt-3 text-xs font-medium text-blue-600 hover:underline",children:"View all in Risk Center "})]}),i.jsx("button",{className:"w-full mt-4 py-2 text-xs font-medium bg-white border border-gray-200 text-gray-600 rounded hover:bg-gray-50 transition-colors",children:"Run Compliance Check"})]})},fA=({onLogout:a})=>{const{profile:n}=ro(),c=(n==null?void 0:n.orgId)||""||"00000000-0000-0000-0000-000000000001",[u,h]=Y.useState("dashboard"),[m,g]=Y.useState(!1),[p,x]=Y.useState(null),[_,w]=Y.useState(!1),[S,j]=Y.useState(!1),[A,O]=Y.useState(!0),[U,q]=Y.useState({}),[M,V]=Y.useState([]),[se,X]=Y.useState([]),y=async()=>{O(!0);try{const[le,nt,Me]=await Promise.all([rA(c),sA(c),iA(c)]);q({activeLmias:{label:"Active LMIAs",value:le.activeLmiasCount,trend:"+0 this week",trendUp:!0,icon:cn},pendingWorkPermits:{label:"Pending Work Permits",value:le.pendingWorkPermitsCount,trend:`Avg wait: ${le.pendingWpAvgWaitDays} days`,trendUp:null,icon:Xg},expiring:{label:"Expiring < 90 Days",value:le.expiringSoonCount,trend:le.expiringSoonCount>0?"Action Needed":"All good",trendUp:le.expiringSoonCount===0,alert:le.expiringSoonCount>0,icon:r0},placed:{label:"Placed YTD",value:le.placedYtdCount,trend:"+0% vs 2024",trendUp:!0,icon:Z_}});const St=nt.map($=>{var G,re;return{...$,location:`${(G=$.jobDetails)==null?void 0:G.locationCity}, ${(re=$.jobDetails)==null?void 0:re.locationProvince}`}});V(St),X(Me)}catch(le){console.error("Failed to fetch dashboard data:",le)}finally{O(!1)}};Y.useEffect(()=>{y()},[c]);const F=le=>{x(le),h("case")},K=()=>{p&&h("workspace")},Se=se.filter(le=>le.severity==="critical").length,fe=!(u==="workspace"||u==="case");return i.jsxs("div",{className:"min-h-screen bg-[#F9F9F7] flex text-[#050505]",children:[i.jsxs("aside",{className:`w-64 bg-white border-r border-gray-200 fixed h-full z-20 hidden lg:flex flex-col transition-all duration-300 ${u==="workspace"||u==="case"?"-ml-64":""}`,children:[i.jsx("div",{className:"h-16 flex items-center px-6 border-b border-gray-100",children:i.jsx(l0,{})}),i.jsxs("div",{className:"p-4 space-y-1 flex-1 overflow-y-auto",children:[i.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest px-3 mb-2 mt-2",children:"Operations"}),i.jsx(zr,{icon:w_,label:"Dashboard",active:u==="dashboard",onClick:()=>{h("dashboard"),x(null)}}),i.jsx(zr,{icon:Ys,label:"Cohorts"}),i.jsx(zr,{icon:i0,label:"Applicants",active:u==="applicants",onClick:()=>{h("applicants"),x(null)}}),i.jsx(zr,{icon:hd,label:"Employers",onClick:()=>w(!0)}),i.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest px-3 mb-2 mt-6",children:"Compliance"}),i.jsx(zr,{icon:pd,label:"Risk Center",badge:Se>0?String(Se):void 0}),i.jsx(zr,{icon:cn,label:"Audit Logs"})]}),i.jsx("div",{className:"p-4 border-t border-gray-100",children:i.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-500 hover:text-red-600 font-medium rounded-md text-sm transition-colors",children:[i.jsx(R_,{size:18})," Sign Out"]})})]}),i.jsx("main",{className:`flex-1 transition-all duration-300 ${fe?"lg:ml-64":""} ${u==="dashboard"||u==="cases"?"p-4 md:p-8":""}`,children:u==="dashboard"?i.jsxs(i.Fragment,{children:[i.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[oA(),", Alex."]}),i.jsx("p",{className:"text-gray-500 text-sm mt-1",children:Se>0?i.jsxs(i.Fragment,{children:["You have ",i.jsxs("span",{className:"font-medium text-black",children:[Se," critical alert",Se>1?"s":""]})," requiring attention today."]}):i.jsx(i.Fragment,{children:"All systems running smoothly. No critical alerts."})})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(we,{variant:"white",icon:i.jsx(Wg,{size:16}),size:"sm",children:"Import CSV"}),i.jsx(we,{variant:"primary",icon:i.jsx(Ll,{size:16}),size:"sm",onClick:()=>j(!0),children:"New Cohort"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[U.activeLmias&&i.jsx(zl,{stat:U.activeLmias,isLoading:A}),U.pendingWorkPermits&&i.jsx(zl,{stat:U.pendingWorkPermits,isLoading:A}),U.expiring&&i.jsx(zl,{stat:U.expiring,isLoading:A}),U.placed&&i.jsx(zl,{stat:U.placed,isLoading:A})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2 flex flex-col gap-4",children:i.jsx(dA,{cohorts:M,isLoading:A,onCreateNew:()=>j(!0)})}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx(hA,{alerts:se,isLoading:A}),i.jsxs("div",{className:"bg-black text-white rounded-lg p-5 shadow-lg relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:i.jsx(vd,{size:48})}),i.jsx("h4",{className:"font-bold text-sm mb-2 relative z-10",children:"Job Bank Sync"}),i.jsx("p",{className:"text-xs text-gray-400 mb-4 relative z-10 leading-relaxed",children:"Auto-sync is enabled. 3 new wage updates detected for NOC 2171."}),i.jsx("button",{className:"text-[10px] font-bold uppercase tracking-widest text-[var(--accent)] hover:text-white transition-colors",children:"Review Updates"})]})]})]})]}):u==="applicants"?i.jsx("div",{className:"h-[calc(100vh-4rem)] overflow-auto",children:i.jsx(Kv,{onOpenCase:F,onCreateNew:()=>g(!0),orgId:c})}):u==="case"?p?i.jsx("div",{className:"h-[calc(100vh-4rem)] overflow-hidden",children:i.jsx(XE,{caseData:p,onBack:()=>{h("applicants"),x(null)},onCreateNew:()=>g(!0),onEdit:K})}):i.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"text-lg font-semibold",children:"No case selected"}),i.jsx("p",{className:"text-sm",children:"Choose a case from the applicants list to view details."}),i.jsx(we,{onClick:()=>h("applicants"),children:"Go to Applicants"})]})}):p?i.jsx(Jv,{caseData:p,children:i.jsx(Qv,{caseData:p,onBack:()=>h("case")})}):i.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"text-lg font-semibold",children:"No case selected"}),i.jsx("p",{className:"text-sm",children:"Choose a case from the applicants list to open the workspace."}),i.jsx(we,{onClick:()=>h("applicants"),children:"Go to Applicants"})]})})}),i.jsx(qE,{isOpen:m,onClose:()=>g(!1),onCreate:le=>{x(le),h("workspace")},orgId:c}),i.jsx(tA,{isOpen:_,onClose:()=>w(!1),onSuccess:le=>{console.log("Employer created:",le)},orgId:c}),i.jsx(aA,{isOpen:S,onClose:()=>j(!1),onSuccess:le=>{console.log("Cohort created:",le),y()},orgId:c})]})},mA=()=>{const{user:a,logout:n}=ro(),[s,l]=Y.useState(!1),[c,u]=Y.useState("login");return a?i.jsx(fA,{onLogout:()=>n().catch(()=>{})}):s?c==="login"?i.jsx(x1,{onSuccess:()=>l(!1),onSwitchToSignup:()=>u("signup")}):i.jsx(b1,{onSwitchToLogin:()=>u("login")}):i.jsx(sj,{isLoggedIn:!!a,onLogout:()=>n().catch(()=>{}),onLogin:()=>{u("login"),l(!0)}})},pA=()=>i.jsxs(y1,{children:[i.jsx(Q_,{}),i.jsx(mA,{})]}),Vg=document.getElementById("root");Vg&&zb.createRoot(Vg).render(i.jsx(pA,{}));
